!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("uuid"),require("@angular/common")):"function"==typeof define&&define.amd?define(["exports","@angular/core","uuid","@angular/common"],t):t(e["thf-disclaimer-group"]={},e.core,e.uuid,e.common)}(this,function(e,t,i,r){"use strict";var o=["pt","en","es"],s="pt";function n(e){return"string"==typeof e?"true"===(e=e.toLowerCase().trim())||"on"===e||""===e:"number"==typeof e?1===e:!!e}function l(e){return 13===e.keyCode||13===e.which}var c,a=function(){return(a=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},u={en:{removeAll:"Remove all"},es:{removeAll:"Eliminar todos"},pt:{removeAll:"Remover todos"}},p=function(){function e(e){var i;this._disclaimers=[],this._hideRemoveAll=!1,this.previousDisclaimers=[],this.literals=a({},u[s],u[(i=navigator.language.toLowerCase().substring(0,2),o.includes(i)?i:s)]),this.change=new t.EventEmitter,this.differ=e.find([]).create(null)}return Object.defineProperty(e.prototype,"disclaimers",{get:function(){return this._disclaimers},set:function(e){this.previousDisclaimers=this.disclaimers.slice(),this._disclaimers=this.checkDisclaimers(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hideRemoveAll",{get:function(){return this._hideRemoveAll},set:function(e){this._hideRemoveAll=""===e||n(e)},enumerable:!0,configurable:!0}),e.prototype.ngDoCheck=function(){this.checkChanges()},e.prototype.closeItem=function(e,t){void 0===t&&(t=!0);var i=this.disclaimers.findIndex(function(t){return t.$id===e.$id});this.disclaimers.splice(i,1),t&&this.emitChangeDisclaimers()},e.prototype.isRemoveAll=function(){return!this.hideRemoveAll&&this.disclaimers.filter(function(e){return!e.hideClose}).length>1},e.prototype.onKeyPress=function(e){l(e)&&this.removeAllItems()},e.prototype.removeAllItems=function(){var e=this,t=[];this.disclaimers.forEach(function(e){e.hideClose||t.push(e)}),t.forEach(function(t){return e.closeItem(t,!1)}),this.emitChangeDisclaimers()},e.prototype.checkChanges=function(){this.differ&&(this.differ.diff(this.disclaimers)&&this.disclaimersAreChanged(this.disclaimers)&&this.emitChangeDisclaimers())},e.prototype.checkDisclaimers=function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++){var r=e[t];r.value||0===r.value||!1===r.value?r.$id=i.v4():(e.splice(t,1),t--)}return e}return[]},e.prototype.disclaimersAreChanged=function(e){var t=this,i=e;return i.length!==this.previousDisclaimers.length||i.some(function(e,i){return e.value!==t.previousDisclaimers[i].value||e.property!==t.previousDisclaimers[i].property})},e.prototype.emitChangeDisclaimers=function(){var e=this;setTimeout(function(){e.change.emit(e.disclaimers)}),this.previousDisclaimers=this._disclaimers.slice()},e.propDecorators={disclaimers:[{type:t.Input,args:["t-disclaimers"]}],hideRemoveAll:[{type:t.Input,args:["t-hide-remove-all"]}],title:[{type:t.Input,args:["t-title"]}],change:[{type:t.Output,args:["t-change"]}]},e}(),h=(c=function(e,t){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}c(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),m=function(e){function i(t){return e.call(this,t)||this}return h(i,e),i.decorators=[{type:t.Component,args:[{selector:"thf-disclaimer-group",template:'<div class="thf-disclaimer-group" *ngIf="disclaimers.length > 0" > <div class="thf-disclaimer-group-title">{{ title }}</div> <thf-disclaimer-remove *ngIf="isRemoveAll()" class="thf-disclaimer-group-padding" [t-label]="literals.removeAll" (keydown)="onKeyPress($event)" (t-remove-all-action)="removeAllItems()"> </thf-disclaimer-remove> <thf-disclaimer *ngFor="let disclaimer of disclaimers" class="thf-disclaimer-group-padding" [t-hide-close]="disclaimer.hideClose" [t-label]="disclaimer.label" [t-property]="disclaimer.property" [t-value]="disclaimer.value" (t-close-action)="closeItem(disclaimer)"> </thf-disclaimer> </div> '}]}],i.ctorParameters=function(){return[{type:t.IterableDiffers}]},i}(p),f=["default","danger"],d=function(){function e(){this._type="default",this._hideClose=!1,this.showDisclaimer=!0,this.closeAction=new t.EventEmitter}return Object.defineProperty(e.prototype,"hideClose",{get:function(){return this._hideClose},set:function(e){this._hideClose=""===e||n(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){return this._type},set:function(e){this._type=f.includes(e)?e:"default"},enumerable:!0,configurable:!0}),e.prototype.close=function(){this.showDisclaimer=!1,this.closeAction.emit({value:this.value,label:this.label,property:this.property})},e.prototype.getLabel=function(){return this.label?this.label:this.value},e.propDecorators={label:[{type:t.Input,args:["t-label"]}],value:[{type:t.Input,args:["t-value"]}],property:[{type:t.Input,args:["t-property"]}],hideClose:[{type:t.Input,args:["t-hide-close"]}],closeAction:[{type:t.Output,args:["t-close-action"]}],type:[{type:t.Input,args:["t-type"]}]},e}(),y=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function r(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),g=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return y(i,e),i.prototype.onKeyPress=function(e){l(e)&&this.close()},i.decorators=[{type:t.Component,args:[{selector:"thf-disclaimer",template:'<div *ngIf="showDisclaimer === true" class="thf-disclaimer"> <span class="thf-disclaimer-label" [class.thf-disclaimer-label-danger]="type === \'danger\'"> {{getLabel()}} </span> <span *ngIf="hideClose === false" class="thf-disclaimer-remove thf-icon thf-icon-close thf-clickable" tabindex="0" [class.thf-disclaimer-remove-danger]="type === \'danger\'" (click)="close()" (keydown)="onKeyPress($event)"> </span> </div> '}]}],i}(d),v=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{imports:[r.CommonModule],declarations:[g],exports:[g]}]}],e}(),b=function(){function e(){this.removeAllAction=new t.EventEmitter}return e.prototype.removeAction=function(){this.removeAllAction.emit()},e.decorators=[{type:t.Component,args:[{selector:"thf-disclaimer-remove",template:'<thf-disclaimer class="thf-clickable" tabindex="0" t-hide-close="true" t-type="danger" [t-label]="label" (click)="removeAction()"> </thf-disclaimer> '}]}],e.propDecorators={label:[{type:t.Input,args:["t-label"]}],removeAllAction:[{type:t.Output,args:["t-remove-all-action"]}]},e}(),A=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{imports:[r.CommonModule,v],declarations:[m,b],exports:[m]}]}],e}();e.ThfDisclaimerGroupComponent=m,e.ThfDisclaimerGroupModule=A,Object.defineProperty(e,"__esModule",{value:!0})});