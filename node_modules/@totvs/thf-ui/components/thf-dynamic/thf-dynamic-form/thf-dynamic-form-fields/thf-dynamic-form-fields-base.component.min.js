var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};import{Input}from"@angular/core";import{isTypeof}from"../../../../utils/util";import{getGridColumnsClasses,isVisibleField}from"../../thf-dynamic.util";import{ThfDynamicFieldType}from"../../thf-dynamic-field-type.enum";var ThfDynamicFormFieldsBaseComponent=function(){function e(e){this.titleCasePipe=e,this._value={},this.visibleFields=[]}return Object.defineProperty(e.prototype,"fields",{get:function(){return this._fields},set:function(e){this._fields=Array.isArray(e)?e.slice():[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(e){this._value=e&&isTypeof(e,"object")?e:{}},enumerable:!0,configurable:!0}),e.prototype.compareTo=function(e,t){return e===t},e.prototype.getVisibleFields=function(){var e=this,t=[];return this.fields.forEach(function(r){e.existsProperty(t,r.property)?e.printError('"thf-dynamic-form" property "'+r.property+'" está duplicado. Interface: ThfDynamicFormField.'):r.property?isVisibleField(r)&&t.push(e.createField(r)):e.printError('"thf-dynamic-form" É obrigatório ser especificado um property.')}),t},e.prototype.convertOptions=function(e){return e.every(function(e){return"string"==typeof e})?e.map(function(e){return{label:e,value:e}}):e},e.prototype.createField=function(e){var t=this.getComponentControl(e),r=getGridColumnsClasses(e.gridSmColumns,e.gridMdColumns,e.gridLgColumns,e.gridXlColumns,e.gridColumns);return __assign({label:this.titleCasePipe.transform(e.property)},e,{componentClass:r,control:t})},e.prototype.existsProperty=function(e,t){return e.some(function(e){return e.property===t})},e.prototype.getComponentControl=function(e){void 0===e&&(e={});var t=e&&e.type?e.type.toLocaleLowerCase():"string";return this.isNumberType(e,t)?"number":this.isCurrencyType(e,t)?"decimal":this.isSelect(e)?(e.options=this.convertOptions(e.options),"select"):this.isRadioGroup(e)?(e.options=this.convertOptions(e.options),"radioGroup"):this.compareTo(t,ThfDynamicFieldType.Boolean)?"switch":this.compareTo(t,ThfDynamicFieldType.Date)||this.compareTo(t,ThfDynamicFieldType.DateTime)?"datepicker":this.compareTo(t,ThfDynamicFieldType.Time)?(e.mask=e.mask||"99:99","input"):this.isCombo(e)?"combo":"input"},e.prototype.isCombo=function(e){var t=e.optionsService;return!!t&&isTypeof(t,"string")},e.prototype.isCurrencyType=function(e,t){var r=e.mask,o=e.pattern;return this.compareTo(t,ThfDynamicFieldType.Currency)&&!r&&!o},e.prototype.isNumberType=function(e,t){var r=e.mask,o=e.pattern;return this.compareTo(t,ThfDynamicFieldType.Number)&&!r&&!o},e.prototype.isRadioGroup=function(e){var t=e.options;return!!t&&t.length<=3},e.prototype.isSelect=function(e){var t=e.options;return!!t&&t.length>3},e.prototype.printError=function(e){console.error(e)},e.propDecorators={fields:[{type:Input,args:["t-fields"]}],value:[{type:Input,args:["t-value"]}]},e}();export{ThfDynamicFormFieldsBaseComponent};