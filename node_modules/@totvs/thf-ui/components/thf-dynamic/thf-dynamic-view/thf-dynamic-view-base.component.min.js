var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var s in t=arguments[r])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)};import{Input}from"@angular/core";import{convertToBoolean,isTypeof}from"../../../utils/util";import{getGridColumnsClasses,isVisibleField}from"../thf-dynamic.util";var ThfDynamicViewBaseComponent=function(){function e(e,t,r,i,s){this.currencyPipe=e,this.datePipe=t,this.decimalPipe=r,this.timePipe=i,this.titleCasePipe=s,this._fields=[],this._showAllValue=!1,this._value={},this.visibleFields=[]}return Object.defineProperty(e.prototype,"fields",{get:function(){return this._fields},set:function(e){this._fields=Array.isArray(e)?e.slice():[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showAllValue",{get:function(){return this._showAllValue},set:function(e){this._showAllValue=convertToBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(e){this._value=e&&isTypeof(e,"object")?e:{}},enumerable:!0,configurable:!0}),e.prototype.getConfiguredFields=function(){var e=this,t=[];return this.fields.forEach(function(r){isVisibleField(r)&&t.push(e.createField(r))}),t},e.prototype.getMergedFields=function(){var e=this,t=this.getConfiguredFields().slice();return this.getValueFields().forEach(function(r){var i=t.findIndex(function(e){return e.property===r.property}),s=r.property;-1===i&&t.push(e.createField({property:s}))}),t},e.prototype.getValueFields=function(){var e=this;return Object.keys(this.value).map(function(t){return e.createField({property:t})})},e.prototype.createField=function(e){var t=e.property,r=this.transformValue(e.type,this.value[t],e.format),i=getGridColumnsClasses(e.gridSmColumns,e.gridMdColumns,e.gridLgColumns,e.gridXlColumns,e.gridColumns);return __assign({property:t,value:r,label:this.titleCasePipe.transform(t),cssClass:i},e)},e.prototype.transformValue=function(e,t,r){var i=t;switch(e){case"currency":i=this.currencyPipe.transform(t,r||"BRL","symbol","1.2-2");break;case"date":i=this.datePipe.transform(t,r||"dd/MM/yyyy");break;case"dateTime":i=this.datePipe.transform(t,r||"dd/MM/yyyy HH:mm:ss");break;case"number":i=this.decimalPipe.transform(t,r);break;case"time":i=this.timePipe.transform(t,r||"HH:mm:ss.ffffff")}return i},e.propDecorators={fields:[{type:Input,args:["t-fields"]}],showAllValue:[{type:Input,args:["t-show-all-value"]}],value:[{type:Input,args:["t-value"]}]},e}();export{ThfDynamicViewBaseComponent};