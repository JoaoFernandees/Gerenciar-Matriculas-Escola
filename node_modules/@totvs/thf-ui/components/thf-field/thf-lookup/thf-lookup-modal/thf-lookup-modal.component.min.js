var __extends=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();import{Component,ElementRef,ViewChild}from"@angular/core";import{fromEvent}from"rxjs";import{debounceTime,filter}from"rxjs/operators";import{ThfLookupModalBaseComponent}from"../thf-lookup-modal/thf-lookup-modal-base.component";var ThfLookupModalComponent=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.keyUpObservable=null,e.containerHeight=375,e.tableHeight=370,e}return __extends(e,t),e.prototype.ngOnInit=function(){t.prototype.ngOnInit.call(this),this.initializeEventInput(),this.setTableHeight()},e.prototype.initializeEventInput=function(){var t=this;this.keyUpObservable=fromEvent(this.inputSearchEl.nativeElement,"keyup").pipe(filter(function(e){return t.validateEnterPressed(e)}),debounceTime(400)),this.keyUpObservable.subscribe(function(){t.search()})},e.prototype.openModal=function(){this.thfModal.open()},e.prototype.setTableHeight=function(){window.innerHeight<615&&(this.tableHeight-=50,this.containerHeight-=50)},e.prototype.validateEnterPressed=function(t){return 13===t.keyCode},e.decorators=[{type:Component,args:[{selector:"thf-lookup-modal",template:'<thf-modal t-click-out="false" t-hide-close="false" t-size="lg" [t-primary-action]="primaryAction" [t-secondary-action]="secondaryAction" [t-title]="title"> <thf-field-container class="thf-lookup-header thf-md-6 thf-pull-right" [t-opcional]="false"> <div class="thf-field-container-content"> <input #inpsearch class="thf-input thf-input-icon-right" name="contentSearch" [(ngModel)]="searchValue" [placeholder]="literals.modalPlaceholder" type="text"> <div class="thf-field-icon-container-right"> <span #iconLookup class="thf-icon thf-field-icon thf-icon-search" (click)="search()"> </span> </div> </div> </thf-field-container> <div class="thf-row thf-lookup-container-table" [style.height.px]="containerHeight"> <thf-table class="thf-md-12" t-checkbox="true" t-hide-detail="true" t-single-select="true" t-sort="true" [t-columns]="columns" [t-height]="tableHeight" [t-items]="items" [t-literals]="tableLiterals" [t-loading]="isLoading" [t-show-more-disabled]="!hasNext" (t-show-more)="showMoreEvent()"> </thf-table> </div> </thf-modal> '}]}],e.propDecorators={inputSearchEl:[{type:ViewChild,args:["inpsearch"]}]},e}(ThfLookupModalBaseComponent);export{ThfLookupModalComponent};