import{EventEmitter,Input,Output}from"@angular/core";import{convertToBoolean,convertToInt}from"../../../utils/util";import{maxlengthFailed,minlengthFailed,requiredFailed}from"../validators";var ThfTextareaBaseComponent=function(){function e(){this._disabled=!1,this._focus=!1,this._readonly=!1,this._required=!1,this._rows=3,this.onChangePropagate=null,this.onTouched=null,this.placeholder="",this.blur=new EventEmitter,this.enter=new EventEmitter,this.change=new EventEmitter,this.changeModel=new EventEmitter}return Object.defineProperty(e.prototype,"disabled",{get:function(){return this._disabled},set:function(e){this._disabled=convertToBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"readonly",{get:function(){return this._readonly},set:function(e){this._readonly=convertToBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"required",{get:function(){return this._required},set:function(e){this._required=convertToBoolean(e),this.validateModel()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"focus",{get:function(){return this._focus},set:function(e){this._focus=convertToBoolean(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minlength",{get:function(){return this._minlength},set:function(e){this._minlength=convertToInt(e),this.validateModel()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxlength",{get:function(){return this._maxlength},set:function(e){this._maxlength=convertToInt(e),this.validateModel()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rows",{get:function(){return this._rows},set:function(e){this._rows=isNaN(parseInt(e,10))||e<3?3:parseInt(e,10)},enumerable:!0,configurable:!0}),e.prototype.callOnChange=function(e){this.onChangePropagate&&this.onChangePropagate(e),this.controlChangeModelEmitter(e)},e.prototype.controlChangeModelEmitter=function(e){this.modelLastUpdate!==e&&(this.changeModel.emit(e),this.modelLastUpdate=e)},e.prototype.registerOnChange=function(e){this.onChangePropagate=e},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.registerOnValidatorChange=function(e){this.validatorChange=e},e.prototype.validate=function(e){return requiredFailed(this.required,this.disabled,e.value)?{required:{valid:!1}}:minlengthFailed(this.minlength,e.value)?{minlength:{valid:!1}}:maxlengthFailed(this.maxlength,e.value)?{maxlength:{valid:!1}}:void 0},e.prototype.writeValue=function(e){this.writeValueModel(e)},e.prototype.validateModel=function(){this.validatorChange&&this.validatorChange()},e.propDecorators={label:[{type:Input,args:["t-label"]}],help:[{type:Input,args:["t-help"]}],placeholder:[{type:Input,args:["t-placeholder"]}],name:[{type:Input,args:["name"]}],disabled:[{type:Input,args:["t-disabled"]}],readonly:[{type:Input,args:["t-readonly"]}],required:[{type:Input,args:["t-required"]}],focus:[{type:Input,args:["t-focus"]}],minlength:[{type:Input,args:["t-minlength"]}],maxlength:[{type:Input,args:["t-maxlength"]}],rows:[{type:Input,args:["t-rows"]}],blur:[{type:Output,args:["t-blur"]}],enter:[{type:Output,args:["t-enter"]}],change:[{type:Output,args:["t-change"]}],changeModel:[{type:Output,args:["t-change-model"]}]},e}();export{ThfTextareaBaseComponent};