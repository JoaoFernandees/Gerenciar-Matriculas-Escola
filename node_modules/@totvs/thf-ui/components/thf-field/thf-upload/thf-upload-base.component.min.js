var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};import{EventEmitter,Input,Output}from"@angular/core";import{browserLanguage,convertToBoolean,thfLocaleDefault}from"../../../utils/util";import{requiredFailed}from"../validators";export var thfUploadLiteralsDefault={en:{selectFile:"Select file",deleteFile:"Delete",cancel:"Cancel",tryAgain:"Try again",startSending:"Start sending"},es:{selectFile:"Seleccionar archivo",deleteFile:"Borrar",cancel:"Cancelar",tryAgain:"Intentar de nuevo",startSending:"Iniciar carga"},pt:{selectFile:"Selecionar arquivo",deleteFile:"Excluir",cancel:"Cancelar",tryAgain:"Tentar Novamente",startSending:"Iniciar envio"}};var thfUploadFormFieldDefault="files",ThfUploadBaseComponent=function(){function e(){this.name="file",this.autoUpload=!1,this.onUpload=new EventEmitter,this.onError=new EventEmitter,this.onSuccess=new EventEmitter,this.ngModelChange=new EventEmitter}return Object.defineProperty(e.prototype,"literals",{get:function(){return this._literals||thfUploadLiteralsDefault[browserLanguage()]},set:function(e){e instanceof Object&&!(e instanceof Array)?this._literals=__assign({},thfUploadLiteralsDefault[thfLocaleDefault],thfUploadLiteralsDefault[browserLanguage()],e):this._literals=thfUploadLiteralsDefault[browserLanguage()]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fileRestrictions",{get:function(){return this._fileRestrictions},set:function(e){this._fileRestrictions=e,this.setAllowedExtensions(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formField",{get:function(){return this._formField},set:function(e){this._formField=e&&"string"==typeof e?e:thfUploadFormFieldDefault,this.getUploadService().formField=this.formField},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return this._disabled},set:function(e){this._disabled=convertToBoolean(e),this.validateModel(this.currentFiles)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"required",{get:function(){return this._required},set:function(e){this._required=convertToBoolean(e),this.validateModel(this.currentFiles)},enumerable:!0,configurable:!0}),e.prototype.registerOnChange=function(e){this.onModelChange=e},e.prototype.registerOnTouched=function(e){this.onModelTouched=e},e.prototype.registerOnValidatorChange=function(e){this.validatorChange=e},e.prototype.validate=function(e){if(requiredFailed(this.required,this.disabled,e.value))return{required:{valid:!1}}},e.prototype.setAllowedExtensions=function(e){void 0===e&&(e={});var t=e.allowedExtensions||[];this.allowedExtensions=t.join(",")},e.prototype.validateModel=function(e){this.validatorChange&&this.validatorChange(e)},e.propDecorators={label:[{type:Input,args:["t-label"]}],literals:[{type:Input,args:["t-literals"]}],help:[{type:Input,args:["t-help"]}],url:[{type:Input,args:["t-url"]}],fileRestrictions:[{type:Input,args:["t-restrictions"]}],name:[{type:Input,args:["name"]}],formField:[{type:Input,args:["t-form-field"]}],disabled:[{type:Input,args:["t-disabled"]}],autoUpload:[{type:Input,args:["t-auto-upload"]}],isMultiple:[{type:Input,args:["t-multiple"]}],required:[{type:Input,args:["t-required"]}],onUpload:[{type:Output,args:["t-upload"]}],onError:[{type:Output,args:["t-error"]}],onSuccess:[{type:Output,args:["t-success"]}],ngModelChange:[{type:Output,args:["ngModelChange"]}]},e}();export{ThfUploadBaseComponent};