!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/router"),require("rxjs/operators"),require("uuid"),require("rxjs"),require("@angular/common/http"),require("@angular/common"),require("@angular/forms"),require("@angular/platform-browser")):"function"==typeof define&&define.amd?define(["exports","@angular/core","@angular/router","rxjs/operators","uuid","rxjs","@angular/common/http","@angular/common","@angular/forms","@angular/platform-browser"],e):e(t["thf-menu"]={},t.core,t.router,t.operators,t.uuid,t.rxjs,t.http,t.common,t.forms,t.platformBrowser)}(this,function(t,e,i,n,o,r,s,a,l,c){"use strict";var u=["pt","en","es"],p="pt";function h(){var t=navigator.language.toLowerCase().substring(0,2);return u.includes(t)?t:p}function d(t){return"string"==typeof t?"true"===(t=t.toLowerCase().trim())||"on"===t||""===t:"number"==typeof t?1===t:!!t}function f(t,e){var i=parseInt(t,10),n=parseInt(e,10);return i||0===i?i:n||0===n?n:void 0}function g(t,e){return typeof t===e}function m(t,e,i){if(t){var n,o=parseInt(t.substring(8,10),10),r=parseInt(t.substring(5,7),10),s=parseInt(t.substring(0,4),10);if(e)return C(n=new Date(s,r-1,o,0,0,0),s),n;if(i)return C(n=new Date(s,r-1,o,23,59,59),s),n;var a=Date.parse(t),l=6e4*(new Date).getTimezoneOffset();return new Date(a+l)}}function y(t,e){if(t){var i=t.getMonth()+1,n=t.getDate()<10?"0"+t.getDate():t.getDate(),o=i<10?"0"+i:i,r=b(t.getFullYear()),s=t.toString();return null!==e?r+"-"+o+"-"+n+e:r+"-"+o+"-"+n+"T"+s.substring(16,24)+s.substring(28,31)+":"+s.substring(31,33)}return null}function b(t){return t>=1e3?t.toString():t>99&&t<1e3?"0"+t:t>9&&t<100?"00"+t:t>=0&&t<10?"000"+t:void 0}function v(){return window.navigator.userAgent.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone/i)}function C(t,e){e>=0&&e<100&&t.setFullYear(e)}function w(t){for(var e,i=function(i){if(0===i)return e=i,"continue";t.findIndex(function(e){return e.value===t[i].value})!==i&&(t.splice(i,1),i--),e=i},n=0;n<t.length;n++)i(n),n=e}function O(t){for(var e=0;e<t.length;e++)void 0!==t[e].value&&null!==t[e].value||(t.splice(e,1),e--)}function I(t){return null!=t&&""!==t||!1===t}function E(t){return!!t&&t.startsWith("http")}function P(t){window.open(t,"_blank")}function k(t,e,i){if(void 0===i&&(i=!0),i){if(t<e)return-1;if(t>e)return 1}else if(!1===i){if(t<e)return 1;if(t>e)return-1}return 0}function S(t,e,i){return e&&i?t>=e&&t<=i:e&&!i?t>=e:!(!e&&i)||t<=i}function D(t){return""+t.charAt(0).toUpperCase()+t.slice(1)}var M,_=function(){return(_=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},V={en:{itemNotFound:"Item not found."},es:{itemNotFound:"Elemento no encontrado."},pt:{itemNotFound:"Item não encontrado."}},x=function(){function t(t){this.menuService=t,this._filter=!1,this._maxLevel=4,this.literals=_({},V[p],V[h()])}return Object.defineProperty(t.prototype,"menus",{get:function(){return this._menus},set:function(t){this._menus=Array.isArray(t)?t:[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxLevel",{get:function(){return this._maxLevel},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filter",{get:function(){return this._filter},set:function(t){this._filter=""===t||d(t),this.filteredItems=this._menus.slice()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"service",{get:function(){return this._service},set:function(t){this._service=t||void 0,this.configService(this.service)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"params",{get:function(){return this._params},set:function(t){this._params=t&&g(t,"object")?t:void 0},enumerable:!0,configurable:!0}),t.prototype.configService=function(t){"string"==typeof t&&t.trim()?(this.menuService.configProperties(t),this.filterService=this.menuService):"object"==typeof t&&t.getFilteredData?this.filterService=t:this.filterService=void 0},t.prototype.setMenuExtraProperties=function(){var t=this;this.allowIcons=!0,this.allowCollapseMenu=!0,this.menus.forEach(function(e){t._level=1,t.allowIcons=!!t.allowIcons&&I(e.icon),t.allowCollapseMenu=!(!t.allowCollapseMenu||!t.allowIcons)&&I(e.shortLabel),t.setMenuItemProperties(e),e.subItems&&(t._level++,t.processSubItems(e))})},t.prototype.setMenuItemProperties=function(t){t.id=t.id||o.v4(),t.level=this._level,t.type=this.setMenuType(t)},t.prototype.validateMenus=function(t){var e=this;t.forEach(function(t){return e.validateMenu(t)})},t.prototype.processSubItems=function(t){var e=this;t.subItems.forEach(function(t,i,n){var o=n[i-1];o&&o.subItems&&(e._level=o.level),e._level<=e.maxLevel&&(e.setMenuItemProperties(t),t.subItems&&(e._level++,e.processSubItems(t)))})},t.prototype.setMenuType=function(t){return t.subItems&&t.subItems.length>0&&this._level<this.maxLevel?"subItems":t.link?E(t.link)?"externalLink":"internalLink":"noLink"},t.prototype.validateMenu=function(t){var e=this;if(!t.label||""===t.label.trim())throw new Error("O atributo ThfMenuItem.label não pode ser vazio.");t.subItems&&t.subItems.forEach(function(t){e.validateMenu(t)})},t.propDecorators={menus:[{type:e.Input,args:["t-menus"]}],filter:[{type:e.Input,args:["t-filter"]}],service:[{type:e.Input,args:["t-service"]}],params:[{type:e.Input,args:["t-params"]}]},t}(),R=function(){function t(){this.subjectParent=new r.Subject,this.subjectChild=new r.Subject}return t.prototype.sendToParentMenuClicked=function(t){this.subjectChild.next(t)},t.prototype.receiveFromChildMenuClicked=function(){return this.subjectChild.asObservable()},t.prototype.sendToChildMenuClicked=function(t){this.subjectParent.next(t)},t.prototype.receiveFromParentMenuClicked=function(){return this.subjectParent.asObservable()},t.decorators=[{type:e.Injectable}],t}(),L=function(){return(L=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},F=function(){function t(t){this.http=t}return Object.defineProperty(t.prototype,"url",{get:function(){return this._url},enumerable:!0,configurable:!0}),t.prototype.configProperties=function(t){this._url=t},t.prototype.getFilteredData=function(t,e){var i=L({search:t},e);return this.http.get(this.url,{params:i}).pipe(n.map(function(t){return t&&t.items}))},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:s.HttpClient}]},t}(),A=(M=function(t,e){return(M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}M(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),T=function(t,e,i,n){return new(i||(i=Promise))(function(o,r){function s(t){try{l(n.next(t))}catch(t){r(t)}}function a(t){try{l(n.throw(t))}catch(t){r(t)}}function l(t){t.done?o(t.value):new i(function(e){e(t.value)}).then(s,a)}l((n=n.apply(t,e||[])).next())})},j=function(t,e){var i,n,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,n&&(o=2&r[0]?n.return:r[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,r[1])).done)return o;switch(n=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,n=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(t){r=[6,t],n=0}finally{i=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},q=function(t){function o(e,i,n,o,r,s,a){var l=t.call(this,a)||this;return l.element=i,l.renderer=n,l.router=o,l.menuItemsService=r,l.changeDetector=s,l.collapsedMenu=!1,l.filterLoading=!1,l.menuMobileOpened=!1,l.noData=!1,l.filteringItems=!1,l.menuInitialized=!1,l.menuPrevious=null,l.parentRef=e._view.component,l}return A(o,t),Object.defineProperty(o.prototype,"isActiveItemMenuSubMenu",{get:function(){return this.activeMenuItem.level>this.groupedMenuItem.level},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"enableCollapseButton",{get:function(){return this.allowCollapseMenu&&!this.collapsedMenu&&!this.menuMobileOpened},enumerable:!0,configurable:!0}),o.prototype.ngDoCheck=function(){if(!this.filteringItems||!this.filter){var t=JSON.stringify(this.menus);this.menuPrevious===t&&this.menuInitialized||this.updateMenu(),this.validateCollapseClass()}},o.prototype.ngOnDestroy=function(){this.itemSubscription.unsubscribe(),this.routeSubscription.unsubscribe()},o.prototype.ngOnInit=function(){var t=this;this.subscribeToMenuItem(),this.subscribeToRoute(),setTimeout(function(){var e=t.checkingRouterChildrenFragments();t.checkActiveMenuByUrl(e)})},o.prototype.activateMenuByUrl=function(t,e){var i=this;if(e)return e.some(function(e){var n=function(t){var e="";return t&&(e=t.replace(/^(\.)+/g,"")),e.startsWith("/")||(e="/".concat(e)),e}(e.link);return n===t?(i.linkActive=n,i.activateMenuItem(e),!0):i.activateMenuByUrl(t,e.subItems)})},o.prototype.checkActiveMenuByUrl=function(t){this.linkActive&&this.linkActive===t||this.activateMenuByUrl(t,this.menus)},o.prototype.debounceFilter=function(t){var e=this;clearTimeout(this.timeoutFilter),this.timeoutFilter=setTimeout(function(){e.filterProcess(t)},400)},o.prototype.subscribeToMenuItem=function(){var t=this;this.itemSubscription=this.menuItemsService.receiveFromChildMenuClicked().subscribe(function(e){t.clickMenuItem(e)})},o.prototype.subscribeToRoute=function(){var t=this;this.routeSubscription=this.router.events.subscribe(function(e){if(e instanceof i.NavigationEnd||e instanceof i.NavigationCancel){var n=t.checkingRouterChildrenFragments();t.checkActiveMenuByUrl(n)}})},o.prototype.toggleMenuCollapse=function(){this.collapsedMenu=!this.collapsedMenu,this.validateCollapseClass(),this.groupedMenuItem&&(this.groupedMenuItem=this.getActiveMenuParent(this.menus,this.activeMenuItem,this.groupedMenuItem)||this.groupedMenuItem,this.toggleGroupedMenuItem()),this.activeMenuItem&&this.activateCollapseSubMenuItem(),this.menuItemsService.sendToChildMenuClicked({active:this.activeMenuItem,grouped:this.groupedMenuItem,activatedByRoute:!0}),this.updateMenu()},o.prototype.toggleMenuMobile=function(){this.menuMobileOpened=!this.menuMobileOpened,v()||this.menuMobileOpened&&this.createResizeListener()},o.prototype.activateCollapseSubMenuItem=function(){this.clearGroupMenuIfFirstLevel(this.activeMenuItem),!this.collapsedMenu&&this.activeMenuItem.level>1&&this.isActiveItemMenuSubMenu&&this.openParentMenu(this.activeMenuItem)},o.prototype.activateMenuItem=function(t){this.activeMenuItem=t,this.linkActive=t.link,this.activeMenuItem.level>1?this.openParentMenu(this.activeMenuItem):this.groupedMenuItem=null,this.menuItemsService.sendToChildMenuClicked({active:this.activeMenuItem,grouped:this.groupedMenuItem,activatedByRoute:!0})},o.prototype.areSubMenus=function(t){return t.every(function(t){return t.level>1})},o.prototype.checkingRouterChildrenFragments=function(){var t=this.router.parseUrl(this.router.url).root.children.primary;return t?"/"+t.segments.map(function(t){return t.path}).join("/"):""},o.prototype.clearGroupMenuIfFirstLevel=function(t){1===t.level&&(this.groupedMenuItem=void 0)},o.prototype.clickMenuItem=function(t){t.action&&this.executeMenuAction(t),"externalLink"===t.type?P(t.link):"internalLink"===t.type?this.activateMenuItem(t):"subItems"===t.type&&(this.filteringItems&&(this.filteringItems=!1),this.groupMenuItem(t)),"subItems"!==t.type&&(this.menuMobileOpened=!1)},o.prototype.convertToMenuItemFiltered=function(t){void 0===t&&(t={label:"",link:""});var e={label:t.label,link:t.link};return this.setMenuItemProperties(e),e},o.prototype.createResizeListener=function(){var t=this;this.resizeListener=this.renderer.listen("window","resize",function(){t.menuMobileOpened=!1,t.resizeListener()})},o.prototype.executeMenuAction=function(t){"string"==typeof t.action?this.parentRef[t.action](t):t.action.call(this.parentRef,t)},o.prototype.filterItems=function(t){return T(this,void 0,void 0,function(){var e,i,n;return j(this,function(o){switch(o.label){case 0:return(e=t&&t.trim())?(this.filteredItems=[],i=this,this.filterService?[4,this.filterOnService(e)]:[3,2]):[3,4];case 1:return n=o.sent(),[3,3];case 2:n=this.filterLocalItems(e),o.label=3;case 3:return i.filteredItems=n,this.filteringItems=!0,[3,5];case 4:this.filteredItems=this.menus.slice(),this.filteringItems=!1,o.label=5;case 5:return[2]}})})},o.prototype.filterLocalItems=function(t){var e=[];return this.findItems(this.menus,t.toLowerCase(),e),e},o.prototype.filterProcess=function(t){var e=this;this.filterLoading=!0,this.filterItems(t).then(function(){e.filterLoading=!1,e.showNoData(),e.changeDetector.detectChanges(),e.menuItemsService.sendToChildMenuClicked({active:e.activeMenuItem,grouped:e.groupedMenuItem})}).catch(function(t){e.filterLoading=!1,Promise.reject(t)})},o.prototype.filterOnService=function(t){return void 0===t&&(t=""),T(this,void 0,void 0,function(){var e=this;return j(this,function(i){switch(i.label){case 0:return t.length>=3?[4,this.filterService.getFilteredData(t,this.params).pipe(n.map(function(t){return t.map(function(t){return e.convertToMenuItemFiltered(t)})})).toPromise()]:[3,2];case 1:return[2,i.sent()];case 2:return[2,this.filteredItems]}})})},o.prototype.findItems=function(t,e,i){var n=this;t.forEach(function(t){(t.label.toLowerCase().includes(e)&&!t.subItems||t.subItems&&n.findItems(t.subItems,e,i))&&i.push(t)})},o.prototype.findParent=function(t,e){var i=function(t,e){if(t)for(var n=0;n<t.length;n++){var o=t[n];if(o.subItems&&o.subItems.find(function(t){return t.id===e}))return o;var r=i(o.subItems,e);if(r)return r}};return i(t,e.id)},o.prototype.findRootParent=function(t,e){var i=this.findParent,n=function(t,e){var o=i(t,e);return 1!==o.level&&(o=n(t,o)),o};return n(t,e)},o.prototype.getActiveMenuParent=function(t,e,i){if(this.areSubMenus([i,e]))return this.findRootParent(t,e)},o.prototype.groupMenuItem=function(t){this.collapsedMenu&&this.toggleMenuCollapse(),t.isOpened=!t.isOpened,this.groupedMenuItem=t,this.activeMenuItem&&t.isOpened&&this.isActiveItemMenuSubMenu&&this.isRootMenuEqualGroupedMenu(this.menus,this.activeMenuItem,t)&&this.activateMenuItem(this.activeMenuItem),this.menuItemsService.sendToChildMenuClicked({active:this.activeMenuItem,grouped:this.groupedMenuItem})},o.prototype.isRootMenuEqualGroupedMenu=function(t,e,i){return this.findRootParent(t,e).id===i.id},o.prototype.openParentMenu=function(t){var e=this.findParent(this.menus,t);e.isOpened=!0,this.groupedMenuItem=e},o.prototype.showNoData=function(){this.noData=0===this.filteredItems.length},o.prototype.toggleGroupedMenuItem=function(){this.groupedMenuItem.isOpened=!this.collapsedMenu&&this.allowCollapseMenu},o.prototype.updateMenu=function(){this.menuInitialized=!0,this.setMenuExtraProperties(),this.filteredItems=this.menus.slice(),this.menuPrevious=JSON.stringify(this.menus),this.validateMenus(this.menus)},o.prototype.validateCollapseClass=function(){var t=this.element.nativeElement.parentNode;this.renderer[this.collapsedMenu&&this.allowCollapseMenu?"addClass":"removeClass"](t,"thf-collapsed-menu")},o.decorators=[{type:e.Component,args:[{selector:"thf-menu",template:'<div *ngIf="menuMobileOpened" class="thf-menu-overlay" (click)="toggleMenuMobile()"></div> <div class="thf-menu-mobile thf-clickable" (click)="toggleMenuMobile()"> <span class="thf-icon thf-icon-menu"></span> </div> <div class="thf-menu" [ngClass]="{ \'thf-menu-animation\' : menuMobileOpened }"> <div class="thf-menu-header-container" [class.thf-menu-header-filter]="filter"> <a href="./"> <div [ngClass]="allowCollapseMenu && collapsedMenu ? \'thf-menu-panel-logo\' : \'thf-menu-logo\'"></div> </a> <a *ngIf="enableCollapseButton" class="thf-collapse-button-icon thf-clickable" (click)="toggleMenuCollapse()"> </a> <thf-menu-filter *ngIf="filter && !collapsedMenu" [t-loading]="filterLoading" (t-filter)="debounceFilter($event)"> </thf-menu-filter> </div> <nav class="thf-menu-container"> \x3c!-- Inner e outer para esconder scroll --\x3e <div class="thf-menu-outer"> <div class="thf-menu-inner"> <div *ngIf="noData" class="thf-menu-item-wrapper"> <div class="thf-menu-item-first"> <div class="thf-menu-icon-container thf-menu-item-no-data"> <span class="thf-icon thf-icon-info thf-menu-icon-item thf-lg-2"></span> <div class="thf-lg-10 thf-menu-icon-label"> {{literals.itemNotFound}} </div> </div> </div> </div> <div *ngFor="let menu of filteredItems, let menuIndex = index;" class="thf-menu-item-wrapper"> <thf-menu-item [class.thf-menu-item-first]="menuIndex === 0" [t-action]="menu.action" [t-collapsed-menu]="collapsedMenu" [t-id]="menu.id" [t-label]="menu.label" [t-icon]="allowIcons ? menu.icon : null" [t-level]="menu.level" [t-link]="menu.link" [t-short-label]="menu.shortLabel" [t-sub-items]="menu.subItems" [t-type]="menu.type"> </thf-menu-item> </div> </div> </div> </nav> <div *ngIf="allowCollapseMenu && collapsedMenu" class="thf-collapse-button-bottom thf-clickable" (click)="toggleMenuCollapse()"> <a class="thf-collapse-button-bottom-icon"><span class="thf-icon thf-icon-menu"></span></a> </div> </div> ',providers:[R,F]}]}],o.ctorParameters=function(){return[{type:e.ViewContainerRef},{type:e.ElementRef},{type:e.Renderer2},{type:i.Router},{type:R},{type:e.ChangeDetectorRef},{type:F}]},o}(x),N=["default","primary","danger","link"],B=function(){function t(){this._disabled=!1,this._loading=!1,this._small=!1,this._type="default",this.click=new e.EventEmitter}return Object.defineProperty(t.prototype,"loading",{get:function(){return this._loading},set:function(t){this._loading=d(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"small",{get:function(){return this._small},set:function(t){this._small=""===t||d(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return this._type},set:function(t){this._type=N.includes(t)?t:"default"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this._disabled},set:function(t){this._disabled=""===t||d(t)},enumerable:!0,configurable:!0}),t.propDecorators={label:[{type:e.Input,args:["t-label"]}],loading:[{type:e.Input,args:["t-loading"]}],icon:[{type:e.Input,args:["t-icon"]}],small:[{type:e.Input,args:["t-small"]}],type:[{type:e.Input,args:["t-type"]}],disabled:[{type:e.Input,args:["t-disabled"]}],click:[{type:e.Output,args:["t-click"]}]},t}(),z=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),W=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return z(i,t),i.prototype.onClick=function(){this.click.emit(null)},i.decorators=[{type:e.Component,args:[{selector:"thf-button",template:'<button class="thf-button thf-text-ellipsis" type="button" [class.thf-button-danger]="type === \'danger\'" [class.thf-button-link]="type === \'link\'" [class.thf-button-primary]="type === \'primary\'" [class.thf-button-sm] = "small" [class.thf-clickable]="type === \'link\'" [disabled]="disabled || loading" (click)="onClick()"> <span *ngIf="loading" class="thf-icon thf-button-loading-icon"></span> <span *ngIf="icon" class="thf-icon {{ icon }}" aria-hidden="true"></span> <span *ngIf="label" class="thf-button-label">{{ label }}</span> </button> '}]}],i}(B),H=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[a.CommonModule],declarations:[W],exports:[W]}]}],t}(),$=["default","danger"],U=function(){function t(){this._type="default",this._hideClose=!1,this.showDisclaimer=!0,this.closeAction=new e.EventEmitter}return Object.defineProperty(t.prototype,"hideClose",{get:function(){return this._hideClose},set:function(t){this._hideClose=""===t||d(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return this._type},set:function(t){this._type=$.includes(t)?t:"default"},enumerable:!0,configurable:!0}),t.prototype.close=function(){this.showDisclaimer=!1,this.closeAction.emit({value:this.value,label:this.label,property:this.property})},t.prototype.getLabel=function(){return this.label?this.label:this.value},t.propDecorators={label:[{type:e.Input,args:["t-label"]}],value:[{type:e.Input,args:["t-value"]}],property:[{type:e.Input,args:["t-property"]}],hideClose:[{type:e.Input,args:["t-hide-close"]}],closeAction:[{type:e.Output,args:["t-close-action"]}],type:[{type:e.Input,args:["t-type"]}]},t}(),K=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Y=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return K(i,t),i.prototype.onKeyPress=function(t){(function(t){return 13===t.keyCode||13===t.which})(t)&&this.close()},i.decorators=[{type:e.Component,args:[{selector:"thf-disclaimer",template:'<div *ngIf="showDisclaimer === true" class="thf-disclaimer"> <span class="thf-disclaimer-label" [class.thf-disclaimer-label-danger]="type === \'danger\'"> {{getLabel()}} </span> <span *ngIf="hideClose === false" class="thf-disclaimer-remove thf-icon thf-icon-close thf-clickable" tabindex="0" [class.thf-disclaimer-remove-danger]="type === \'danger\'" (click)="close()" (keydown)="onKeyPress($event)"> </span> </div> '}]}],i}(U),G=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[a.CommonModule],declarations:[Y],exports:[Y]}]}],t}(),J=function(){function t(){this._screenLock=!1,this.text="Carregando"}return Object.defineProperty(t.prototype,"screenLock",{get:function(){return this._screenLock},set:function(t){this._screenLock=d(t)},enumerable:!0,configurable:!0}),t.propDecorators={screenLock:[{type:e.Input,args:["t-screen-lock"]}],text:[{type:e.Input,args:["t-text"]}]},t}(),Z=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),X=function(t){function i(e){var i=t.call(this)||this;return i.changeDetector=e,i}return Z(i,t),i.decorators=[{type:e.Component,args:[{selector:"thf-loading-overlay",template:'<div [class.thf-overlay-absolute]="!screenLock" [class.thf-overlay-fixed]="screenLock"> <thf-loading class="thf-loading-overlay-content" [t-text]="text"></thf-loading> </div> '}]}],i.ctorParameters=function(){return[{type:e.ChangeDetectorRef}]},i}(J),Q=function(){function t(){this.text="Carregando"}return t.propDecorators={text:[{type:e.Input,args:["t-text"]}]},t}(),tt=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),et=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return tt(i,t),i.decorators=[{type:e.Component,args:[{selector:"thf-loading",template:'<div class="thf-loading"> <span class="thf-loading-icon"></span> <span class="thf-loading-label thf-text-ellipsis" *ngIf="text">{{text}}</span> </div> '}]}],i}(Q),it=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[a.CommonModule],declarations:[et,X],exports:[et,X]}]}],t}(),nt=function(){function t(){this._hideClose=!1,this._size="md",this.clickOut=!1,this.isHidden=!0,this.onXClosed=new e.EventEmitter}return Object.defineProperty(t.prototype,"size",{get:function(){return this._size},set:function(t){this._size=["sm","md","lg","xl","auto"].indexOf(t)>-1?t:"md"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"setClickOut",{set:function(t){this.clickOut=""!==t&&d(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hideClose",{get:function(){return this._hideClose},set:function(t){this._hideClose=d(t)},enumerable:!0,configurable:!0}),t.prototype.close=function(t){void 0===t&&(t=!1),this.isHidden=!0,t&&this.onXClosed.emit(t)},t.prototype.open=function(){this.validPrimaryAction(),this.isHidden=!1},t.prototype.validPrimaryAction=function(){var t=this;this.primaryAction||(this.primaryAction={action:function(){return t.close()},label:"Ok"}),this.primaryAction.action||(this.primaryAction.action=function(){return t.close()}),this.primaryAction.label||(this.primaryAction.label="Ok")},t.propDecorators={title:[{type:e.Input,args:["t-title"]}],primaryAction:[{type:e.Input,args:["t-primary-action"]}],secondaryAction:[{type:e.Input,args:["t-secondary-action"]}],size:[{type:e.Input,args:["t-size"]}],setClickOut:[{type:e.Input,args:["t-click-out"]}],hideClose:[{type:e.Input,args:["t-hide-close"]}]},t}(),ot=function(){function t(){}return t.decorators=[{type:e.Injectable}],t}(),rt=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),st=function(t){function i(e){var i=t.call(this)||this;return i.thfModalService=e,i.focusableElements="input, select, textarea, button:not([disabled]), a",i.id=o.v4(),i}return rt(i,t),i.prototype.close=function(e){void 0===e&&(e=!1),this.thfModalService.modalActive=void 0,t.prototype.close.call(this,e),document.removeEventListener("focus",this.focusFunction,!0),this.sourceElement&&this.sourceElement.focus()},i.prototype.closeModalOnEscapeKey=function(t){this.hideClose||(t.preventDefault(),t.stopPropagation(),this.close())},i.prototype.getPrimaryActionButtonType=function(){return this.primaryAction.danger?"danger":"primary"},i.prototype.getSecondaryActionButtonType=function(){return this.secondaryAction&&this.secondaryAction.danger&&!this.primaryAction.danger?"danger":"default"},i.prototype.onClickOut=function(t){this.clickOut&&!this.modalContent.nativeElement.contains(t.target)&&this.close()},i.prototype.open=function(){this.sourceElement=document.activeElement,t.prototype.open.call(this),this.handleFocus()},i.prototype.handleFocus=function(){var t=this;this.thfModalService.modalActive=this.id,setTimeout(function(){t.modalContent&&(t.initFocus(),document.addEventListener("focus",t.focusFunction,!0))})},i.prototype.initFocus=function(){var t=this;(this.focusFunction=function(e){t.thfModalService.modalActive=t.thfModalService.modalActive||t.id,t.modalContent.nativeElement.contains(e.target)||t.thfModalService.modalActive!==t.id||(e.stopPropagation(),t.firstElement.focus())},this.setFirstElement(),this.hideClose)?this.firstElement.focus():(this.modalContent.nativeElement.querySelectorAll(this.focusableElements)[1]||this.modalContent.nativeElement).focus()},i.prototype.setFirstElement=function(){this.firstElement=this.modalContent.nativeElement.querySelector(this.focusableElements)||this.modalContent.nativeElement},i.decorators=[{type:e.Component,args:[{selector:"thf-modal",template:'<div *ngIf="!isHidden" class="thf-modal" tabindex="0" (keydown.esc)="closeModalOnEscapeKey($event)"> <div class="thf-modal-overlay"> <div class="thf-modal-container thf-pb-2 thf-pt-2" (click)="onClickOut($event)"> <div class="thf-modal-vertical-align"> <div #modalContent class="thf-modal-content thf-modal-{{ size }}" tabindex="-1"> <div class="thf-modal-header"> <div class="thf-modal-title"> <a *ngIf="!hideClose" class="thf-modal-header-close-button" tabindex="0" (click)="close(true)"> <span class="thf-icon thf-icon-close"></span> </a> {{ title }} </div> </div> <div class="thf-modal-body"> <ng-content></ng-content> </div> <div class="thf-modal-footer"> <thf-button *ngIf="secondaryAction" [t-disabled]="secondaryAction.disabled" [t-label]="secondaryAction.label" [t-loading]="secondaryAction.loading" [t-type]="getSecondaryActionButtonType()" (t-click)="secondaryAction.action()"> </thf-button> <thf-button class="thf-button-modal-first-action" [t-disabled]="primaryAction.disabled" [t-label]="primaryAction.label" [t-loading]="primaryAction.loading" [t-type]="getPrimaryActionButtonType()" (t-click)="primaryAction.action()"> </thf-button> </div> </div> </div> </div> </div> </div> '}]}],i.ctorParameters=function(){return[{type:ot}]},i.propDecorators={modalContent:[{type:e.ViewChild,args:["modalContent",{read:e.ElementRef}]}]},i}(nt),at=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[a.CommonModule,H],declarations:[st],exports:[st],providers:[ot]}]}],t}(),lt=function(){function t(){this._noPadding=!1,this._noShadow=!1}return Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(t){this._height=f(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"noPadding",{get:function(){return this._noPadding},set:function(t){this._noPadding=d(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"noShadow",{get:function(){return this._noShadow},set:function(t){this._noShadow=d(t)},enumerable:!0,configurable:!0}),t.propDecorators={height:[{type:e.Input,args:["t-height"]}],noPadding:[{type:e.Input,args:["t-no-padding"]}],noShadow:[{type:e.Input,args:["t-no-shadow"]}]},t}(),ct=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),ut=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return ct(i,t),i.decorators=[{type:e.Component,args:[{selector:"thf-container",template:'<div class="thf-container" [class.thf-container-no-padding]="noPadding" [class.thf-container-no-shadow]="noShadow" [style.height]="height ? height + \'px\' : \'auto\'"> <ng-content></ng-content> </div> '}]}],i}(lt),pt=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[a.CommonModule],exports:[ut],declarations:[ut]}]}],t}(),ht=["bottom","bottom-left","bottom-right","left","left-top","left-bottom","top","top-right","top-left","right","right-bottom","right-top"],dt=function(){function t(){this.differenceDiagonalToWidthArrow=3,this.isSetElementWidth=!1,this.offsetArrow=12}return t.prototype.adjustPosition=function(t){this.elementPosition(t),this.customPositions&&this.customPositions.length?this.adjustCustomPosition(t):this.adjustDefaultPosition(t)},t.prototype.getArrowDirection=function(){return this.arrowDirection},t.prototype.setElements=function(t,i,n,o,r,s){void 0===r&&(r=!1),void 0===s&&(s=!1),this.element=t instanceof e.ElementRef?t.nativeElement:t,this.targetElement=n instanceof e.ElementRef?n.nativeElement:n,this.elementOffset=i,this.customPositions=o,this.isSetElementWidth=r,this.isCornerAligned=s},t.prototype.adjustCustomPosition=function(t){for(var e=this.customPositions.length,i=0;i++<e;)this.overflowAllSides(t)&&(t=this.nextPosition(t,this.customPositions),this.elementPosition(t))},t.prototype.adjustDefaultPosition=function(t){for(var e=this.getMainPositions(),i=e.length,n=0;n++<i;){var o=this.getMainPosition(t);if(!this.overflowMain(o))return this.overflowAllSides(t)?void this.verifySubPositions(t):void 0;t=this.nextPosition(o,e)}},t.prototype.elementPosition=function(t){this.isCornerAligned?this.setAlignedElementPosition(t):this.setElementPosition(t)},t.prototype.getMainPosition=function(t){return t.indexOf("-")>-1?t.substring(0,t.indexOf("-")):t},t.prototype.getMainPositions=function(){return this.customPositions&&this.customPositions.length?this.getMainPositionsByCustomPositions(this.customPositions):["top","right","bottom","left"]},t.prototype.getMainPositionsByCustomPositions=function(t){for(var e=[],i=t.length,n=0;n<i;n++){var o=t[n],r=this.getMainPosition(o);e.includes(r)||e.push(r)}return e},t.prototype.getOverflows=function(){var t=this.getSizesAndPositions();return{right:t.element.right>t.window.innerWidth,top:t.element.top<=0,left:t.element.left<=0,bottom:t.element.bottom>t.window.innerHeight}},t.prototype.getSizesAndPositions=function(){return{window:{scrollY:window.scrollY,scrollX:window.scrollX,innerWidth:window.innerWidth,innerHeight:window.innerHeight},element:this.element.getBoundingClientRect(),target:this.targetElement?this.targetElement.getBoundingClientRect():{top:0,bottom:0,right:0,left:0}}},t.prototype.nextPosition=function(t,e){void 0===e&&(e=[]);var i=e.indexOf(t),n=i+1;return i>-1&&n<e.length?e[n]:e[0]},t.prototype.overflowAllSides=function(t){var e=this.getOverflows();switch(t){case"top":return e.top||e.right||e.left;case"top-right":return e.top||e.right;case"top-left":return e.top||e.left;case"right":return e.right||e.top||e.bottom;case"right-top":return e.right||e.top;case"right-bottom":return e.right||e.bottom;case"bottom":return e.bottom||e.right||e.left;case"bottom-right":return e.bottom||e.right;case"bottom-left":return e.bottom||e.left;case"left":return e.left||e.top||e.bottom;case"left-top":return e.left||e.top;case"left-bottom":return e.left||e.bottom}},t.prototype.overflowMain=function(t){var e=this.getOverflows();switch(t){case"top":return e.top;case"right":return e.right;case"bottom":return e.bottom;case"left":return e.left}},t.prototype.setAlignedArrowDirection=function(t){switch(t){case"top-left":return"bottom-left";case"top-right":return"bottom-right";case"bottom-right":return"top-right";case"bottom-left":return"top-left"}},t.prototype.setAlignedBottomPositions=function(t,e){this.element.style.top=e.target.bottom+this.elementOffset+"px",this.element.style.left=e.target.left-t+"px"},t.prototype.setAlignedElementPosition=function(t){this.setElementWidth();var e=this.getSizesAndPositions();switch(t){case"bottom-left":this.setAlignedBottomPositions(0,e);break;case"bottom-right":this.setAlignedBottomPositions(e.element.width-e.target.width,e);break;case"top-left":this.setAlignedTopPositions(0,e);break;case"top-right":this.setAlignedTopPositions(e.element.width-e.target.width,e)}this.arrowDirection=this.setAlignedArrowDirection(t)},t.prototype.setAlignedTopPositions=function(t,e){this.element.style.top=e.target.top-e.element.height-this.elementOffset+"px",this.element.style.left=e.target.left-t+"px"},t.prototype.setArrowDirection=function(t){switch(t){case"top":return"bottom";case"top-left":return"bottom-right";case"top-right":return"bottom-left";case"right":return"left";case"right-top":return"left-bottom";case"right-bottom":return"left-top";case"bottom":return"top";case"bottom-right":return"top-left";case"bottom-left":return"top-right";case"left":return"right";case"left-bottom":return"right-top";case"left-top":return"right-bottom"}},t.prototype.setBottomPositions=function(t,e){this.element.style.top=e.target.bottom+this.elementOffset+"px",this.element.style.left=e.target.left+e.target.width/2-t+"px"},t.prototype.setElementPosition=function(t){this.setElementWidth();var e=this.getSizesAndPositions();switch(t){case"top":this.setTopPositions(e.element.width/2,e);break;case"top-left":this.setTopPositions(e.element.width-this.offsetArrow-this.differenceDiagonalToWidthArrow,e);break;case"top-right":this.setTopPositions(this.offsetArrow+this.differenceDiagonalToWidthArrow,e);break;case"right":this.setRightPositions(e.element.height/2,e);break;case"right-top":this.setRightPositions(e.element.height-this.offsetArrow-this.differenceDiagonalToWidthArrow,e);break;case"right-bottom":this.setRightPositions(this.offsetArrow,e);break;case"bottom":this.setBottomPositions(e.element.width/2,e);break;case"bottom-right":this.setBottomPositions(this.offsetArrow+this.differenceDiagonalToWidthArrow,e);break;case"bottom-left":this.setBottomPositions(e.element.width-this.offsetArrow-this.differenceDiagonalToWidthArrow,e);break;case"left":this.setLeftPositions(e.element.height/2,e);break;case"left-bottom":this.setLeftPositions(this.offsetArrow,e);break;case"left-top":this.setLeftPositions(e.element.height-this.offsetArrow,e)}this.arrowDirection=this.setArrowDirection(t)},t.prototype.setElementWidth=function(){this.isSetElementWidth&&this.targetElement&&(this.element.style.width=this.targetElement.clientWidth+"px")},t.prototype.setLeftPositions=function(t,e){this.element.style.top=e.target.top-t+e.target.height/2+"px",this.element.style.left=e.target.left-e.element.width-this.elementOffset+"px"},t.prototype.setRightPositions=function(t,e){this.element.style.top=e.target.top-t+e.target.height/2+"px",this.element.style.left=e.target.right+this.elementOffset+"px"},t.prototype.setTopPositions=function(t,e){this.element.style.top=e.target.top-e.element.height-this.elementOffset+"px",this.element.style.left=e.target.left+e.target.width/2-t+"px"},t.prototype.verifySubPositions=function(t){t.indexOf("-")>-1&&(t=t.substring(0,t.indexOf("-")),this.elementPosition(t));for(var e=0;e++<3;){if(!this.overflowAllSides(t))return null;t=this.nextPosition(t,this.customPositions||ht),this.elementPosition(t)}},t.decorators=[{type:e.Injectable}],t}(),ft=["right","right-top","right-bottom","top","top-left","top-right","left","left-top","left-bottom","bottom","bottom-left","bottom-right"],gt="bottom-left",mt=function(){function t(){this._hideArrow=!1,this._position=gt,this.arrowDirection="top-right",this.showPopup=!1}return Object.defineProperty(t.prototype,"actions",{get:function(){return this._actions},set:function(t){this._actions=Array.isArray(t)?t:[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hideArrow",{get:function(){return this._hideArrow},set:function(t){this._hideArrow=d(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"position",{get:function(){return this._position},set:function(t){this._position=ft.includes(t)?t:gt},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"target",{get:function(){return this._target},set:function(t){this._target=t instanceof e.ElementRef?t.nativeElement:t},enumerable:!0,configurable:!0}),t.propDecorators={actions:[{type:e.Input,args:["t-actions"]}],hideArrow:[{type:e.Input,args:["t-hide-arrow"]}],position:[{type:e.Input,args:["t-position"]}],target:[{type:e.Input,args:["t-target"]}]},t}(),yt=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),bt=function(t){function n(e,i,n,o,r){var s=t.call(this)||this;return s.renderer=i,s.router=n,s.thfControlPosition=o,s.changeDetector=r,s.onScroll=function(){s.showPopup&&s.close()},s.parentRef=e._view.component,s}return yt(n,t),n.prototype.close=function(){this.removeListeners(),this.showPopup=!1},n.prototype.onActionClick=function(t){var e,i,n,o=t&&!this.returnBooleanValue(t,"disabled");return t&&t.action&&o?(this.close(),e=t.action,i=this.parentRef,n=this.param||t,void(g(e,"function")?e.call(i,n):i[e](n))):t&&t.url&&o?(this.close(),this.openUrl(t.url)):void 0},n.prototype.open=function(t){this.oldTarget=this.target,this.param=t,this.showPopup=!0,this.changeDetector.detectChanges(),this.validateInitialContent()},n.prototype.returnBooleanValue=function(t,e){return g(t[e],"function")?t[e](this.param||t):t[e]},n.prototype.toggle=function(t){this.showPopup&&this.oldTarget===this.target?this.close():this.open(t)},n.prototype.clickedOutDisabledItem=function(t){return!(this.elementContains(t.target,"thf-popup-item-disabled")||this.elementContains(t.target.parentElement,"thf-popup-item-disabled"))},n.prototype.clickedOutHeaderTemplate=function(t){var e=this.popupRef&&this.popupRef.nativeElement.querySelector("[t-popup-header-template]");return!(e&&e.contains(t.target))},n.prototype.clickedOutTarget=function(t){return this.target&&!this.target.contains(t.target)},n.prototype.closePopupOnClickout=function(t){this.clickedOutTarget(t)&&this.clickedOutDisabledItem(t)&&this.clickedOutHeaderTemplate(t)&&this.close()},n.prototype.elementContains=function(t,e){return t&&t.classList.contains(e)},n.prototype.hasContentToShow=function(){return!(!this.popupRef.nativeElement||!this.popupRef.nativeElement.clientHeight)},n.prototype.initializeListeners=function(){var t=this;this.resizeListener=this.renderer.listen("window","resize",function(){t.close()}),this.clickoutListener=this.renderer.listen("document","click",function(e){t.closePopupOnClickout(e)}),window.addEventListener("scroll",this.onScroll,!0)},n.prototype.openUrl=function(t){return E(t)?P(t):t?this.router.navigate([t]):void 0},n.prototype.removeListeners=function(){this.clickoutListener&&this.clickoutListener(),this.resizeListener&&this.resizeListener(),window.removeEventListener("scroll",this.onScroll,!0)},n.prototype.setPosition=function(){this.thfControlPosition.setElements(this.popupRef.nativeElement,8,this.target),this.renderer.setStyle(this.popupRef.nativeElement,"left","0"),this.thfControlPosition.adjustPosition(this.position),this.arrowDirection=this.thfControlPosition.getArrowDirection()},n.prototype.validateInitialContent=function(){this.hasContentToShow()?(this.setPosition(),this.initializeListeners()):this.close()},n.decorators=[{type:e.Component,args:[{selector:"thf-popup",template:'<div #popupRef class="thf-popup" *ngIf="showPopup"> <div *ngIf="!hideArrow" class="thf-popup-arrow thf-arrow-{{ arrowDirection }}"></div> <ng-content select="[t-popup-header-template]"></ng-content> <ng-container *ngFor="let action of actions; let actionIndex = index"> <div *ngIf="action.visible !== false" [class.thf-popup-item-default]="action.type !== \'danger\'" [class.thf-popup-item-danger]="action.type === \'danger\'" [class.thf-popup-item-disabled]="returnBooleanValue(action, \'disabled\')" [class.thf-popup-item-separator]="action.separator && actionIndex !== 0" [class.thf-popup-item-selected]="action.selected" (click)="onActionClick(action)"> <span *ngIf="action.icon" class="thf-icon {{ action.icon }} thf-popup-icon-item"></span> {{ action.label }} </div> </ng-container> </div> ',providers:[dt]}]}],n.ctorParameters=function(){return[{type:e.ViewContainerRef},{type:e.Renderer2},{type:i.Router},{type:dt},{type:e.ChangeDetectorRef}]},n.propDecorators={popupRef:[{type:e.ViewChild,args:["popupRef",{read:e.ElementRef}]}]},n}(mt),vt=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[a.CommonModule],declarations:[bt],exports:[bt],providers:[],schemas:[]}]}],t}(),Ct=function(){function t(){}return t.prototype.transform=function(t,e){if(g(t,"string")&&/^(([0-1][0-9])|(2[0-3])):[0-5][0-9]:[0-5][0-9][\.]?([0-9]{1,6})?$/g.test(t)){var i=e?e.lastIndexOf("f")-e.indexOf("f")+1:0,n=this.addDotMiliseconds(t.substring(9,9+i),i),o=this.getFormatMiliseconds(i);return this.formatValue(t,e,o,n)}return null},t.prototype.addDotMiliseconds=function(t,e){return t&&e&&(t="."+t),t},t.prototype.formatValue=function(t,e,i,n){if(t&&e){var o=t.substring(0,2),r=t.substring(3,5),s=t.substring(6,8);return e=(e=(e=(e=e.replace("HH",o)).replace("mm",r)).replace("ss",s)).replace("."+i,n)}return t},t.prototype.getFormatMiliseconds=function(t){for(var e="",i=0;i<t;i++)e+="f";return e},t.decorators=[{type:e.Pipe,args:[{name:"thf_time"}]}],t}(),wt=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{declarations:[Ct],imports:[],exports:[Ct],providers:[],bootstrap:[]}]}],t}(),Ot=function(){function t(){this._tooltip="",this._tooltipPosition="bottom"}return Object.defineProperty(t.prototype,"tooltip",{get:function(){return this._tooltip},set:function(t){t&&t.length>140?this._tooltip=t.substring(0,140):this._tooltip=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipPosition",{get:function(){return this._tooltipPosition},set:function(t){this._tooltipPosition=ft.includes(t)?t:"bottom"},enumerable:!0,configurable:!0}),t.propDecorators={tooltip:[{type:e.Input,args:["t-tooltip"]}],tooltipPosition:[{type:e.Input,args:["t-tooltip-position"]}]},t}(),It=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Et=function(t){function i(e,i,n){var o=t.call(this)||this;return o.elementRef=e,o.renderer=i,o.thfControlPosition=n,o.tooltipOffset=8,o}return It(i,t),i.prototype.ngOnInit=function(){this.initScrollEventListenerFunction()},i.prototype.onMouseEnter=function(){var t=this;setTimeout(function(){t.tooltip&&(t.tooltipContent?t.showTooltip():t.createTooltip(),t.removeArrow(t.arrowDirection),t.thfControlPosition.adjustPosition(t.tooltipPosition),t.arrowDirection=t.thfControlPosition.getArrowDirection(),t.addArrow(t.arrowDirection),t.lastTooltipText=t.tooltip)})},i.prototype.onMouseLeave=function(){this.hideTooltip()},i.prototype.addArrow=function(t){this.renderer.addClass(this.divArrow,"thf-arrow-"+t)},i.prototype.addScrollEventListener=function(){window.addEventListener("scroll",this.eventListenerFunction,!0)},i.prototype.createTooltip=function(){this.tooltipContent=this.renderer.createElement("div"),this.renderer.addClass(this.tooltipContent,"thf-tooltip"),this.divArrow=this.renderer.createElement("div"),this.renderer.addClass(this.divArrow,"thf-tooltip-arrow"),this.divContent=this.renderer.createElement("div"),this.renderer.addClass(this.divContent,"thf-tooltip-content"),this.textContent=this.renderer.createText(this.tooltip),this.renderer.appendChild(this.divContent,this.textContent),this.renderer.appendChild(this.tooltipContent,this.divArrow),this.renderer.appendChild(this.tooltipContent,this.divContent),this.renderer.appendChild(this.elementRef.nativeElement,this.tooltipContent),this.thfControlPosition.setElements(this.tooltipContent,this.tooltipOffset,this.elementRef),this.addScrollEventListener()},i.prototype.initScrollEventListenerFunction=function(){var t=this;this.eventListenerFunction=function(){t.isHidden||setTimeout(function(){t.thfControlPosition.adjustPosition(t.tooltipPosition)})}},i.prototype.hideTooltip=function(){this.tooltipContent&&(this.renderer.addClass(this.tooltipContent,"thf-invisible"),this.isHidden=!0,this.removeScrollEventListener())},i.prototype.removeArrow=function(t){this.elementRef.nativeElement.querySelector(".thf-arrow-"+t)&&this.renderer.removeClass(this.divArrow,"thf-arrow-"+t)},i.prototype.removeScrollEventListener=function(){window.removeEventListener("scroll",this.eventListenerFunction,!0)},i.prototype.showTooltip=function(){this.renderer.removeClass(this.tooltipContent,"thf-invisible"),this.updateTextContent(),this.isHidden=!1,this.addScrollEventListener()},i.prototype.updateTextContent=function(){this.lastTooltipText!==this.tooltip&&(this.renderer.removeChild(this.divContent,this.textContent),this.textContent=this.renderer.createText(this.tooltip),this.renderer.appendChild(this.divContent,this.textContent))},i.decorators=[{type:e.Directive,args:[{selector:"[t-tooltip]",providers:[dt]}]}],i.ctorParameters=function(){return[{type:e.ElementRef},{type:e.Renderer2},{type:dt}]},i.propDecorators={onMouseEnter:[{type:e.HostListener,args:["mouseenter"]}],onMouseLeave:[{type:e.HostListener,args:["mouseleave"]}]},i}(Ot),Pt=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[a.CommonModule],declarations:[Et],exports:[Et]}]}],t}(),kt=function(){function t(){}return Object.defineProperty(t.prototype,"icons",{get:function(){return this._icons},set:function(t){this._icons=this.convertToColumnIcon(t)},enumerable:!0,configurable:!0}),t.prototype.getIconColorClass=function(t){var e=this.getIconColor(t)||this.getIconColor(this.column);return e?"thf-column-text-"+e:""},t.prototype.onIconClick=function(t){t.action?t.action(this.row,t):this.column.action&&this.column.action(this.row,t||this.column)},t.prototype.convertToColumnIcon=function(t){return t instanceof Array?t.map(function(t){return"string"==typeof t?{value:t}:t}):"string"==typeof t?[{value:t}]:[]},t.prototype.getIconColor=function(t){return"function"==typeof t.color?t.color(this.row,t):t.color},t.decorators=[{type:e.Component,args:[{selector:"thf-table-column-icon",template:'<ng-container *ngFor="let iconColumn of icons"> <span class="thf-icon" [class.thf-clickable]="iconColumn.action || column.action" [ngClass]="[getIconColorClass(iconColumn), iconColumn.icon || iconColumn.value]" (click)="onIconClick(iconColumn)"> </span> </ng-container> '}]}],t.propDecorators={column:[{type:e.Input,args:["t-column"]}],icons:[{type:e.Input,args:["t-icons"]}],row:[{type:e.Input,args:["t-row"]}]},t}(),St={Color01:"color-01",Color02:"color-02",Color03:"color-03",Color04:"color-04",Color05:"color-05",Color06:"color-06",Color07:"color-07",Color08:"color-08",Color09:"color-09",Color10:"color-10",Color11:"color-11",Color12:"color-12"},Dt=function(){function t(){}return t.prototype.getColor=function(t){return Object.values(St).includes(t.color)?t.color:this.getColorFromType(t.type||t.color)},t.prototype.getColorFromType=function(t){switch(t){case"danger":return St.Color07;case"success":return St.Color11;case"warning":return St.Color08;default:return St.Color01}},t.decorators=[{type:e.Injectable}],t}(),Mt=function(){function t(t){this.thfColorPaletteService=t}return Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(t){t&&(t.color=this.thfColorPaletteService.getColor(t)),this._value=t},enumerable:!0,configurable:!0}),t.decorators=[{type:e.Component,args:[{selector:"thf-table-column-label",template:"<span [class]=\"'thf-table-column-label thf-' + value?.color\"> {{ value?.label }} </span> "}]}],t.ctorParameters=function(){return[{type:Dt}]},t.propDecorators={value:[{type:e.Input,args:["t-value"]}]},t}(),_t=function(){function t(){this.dateRegex=new RegExp("^(?:[0-9])\\d{1}(?:[0-9])\\d{1}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[12]\\d|3[01])$"),this.isoRegex=new RegExp("^(?:[0-9])\\d{1}(?:[0-9])\\d{1}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[12]\\d|3[01])T(?:[01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d(?:Z|-0[1-9]|-1\\d|-2[0-3]|-00:?(?:0[1-9]|[0-5]\\d)|\\+[01]\\d|\\+2[0-3])(?:|:?[0-5]\\d)$")}return t.prototype.convertIsoToDate=function(t,e,i){if(t){var n=this.getDateFromIso(t),o=n.year,r=n.month,s=n.day;if(e){var a=new Date(o,r-1,s,0,0,0);return this.setYearFrom0To100(a,o),a}if(i){a=new Date(o,r-1,s,23,59,59);return this.setYearFrom0To100(a,o),a}var l=Date.parse(t),c=6e4*(new Date).getTimezoneOffset();return new Date(l+c)}},t.prototype.convertDateToISO=function(t){if(t){var e=t.getFullYear(),i=t.getMonth()+1,n=t.getDate()<10?"0"+t.getDate():t.getDate(),o=i<10?"0"+i:i;return this.formatYear(e)+"-"+o+"-"+n}return null},t.prototype.formatYear=function(t){return t>999?t.toString():t>99&&t<1e3?"0"+t:t>9&&t<100?"00"+t:t>=0&&t<10?"000"+t:void 0},t.prototype.getDateFromIso=function(t){var e=parseInt(t.substring(8,10),10),i=parseInt(t.substring(5,7),10);return{year:parseInt(t.substring(0,4),10),month:i,day:e}},t.prototype.getDateForDateRange=function(t,e){var i=e?[0,0,0]:[23,59,59];if(t instanceof Date){var n=this.splitDate(t),o=n.year,r=n.month,s=n.day,a=new(Date.bind.apply(Date,[void 0,o,r,s].concat(i)));return this.setYearFrom0To100(a,o),a}if(this.isValidIso(t))return this.convertIsoToDate(t,e,!e)},t.prototype.isDateRangeValid=function(t,e){void 0===t&&(t=""),void 0===e&&(e="");for(var i=t.split("-").map(function(t){return parseInt(t,10)}),n=e.split("-").map(function(t){return parseInt(t,10)}),o=0;o<=i.length;o++){if(i[o]>n[o])return!0;if(i[o]<n[o])return!1}return!0},t.prototype.isValidIso=function(t){return this.dateRegex.test(t)||this.isoRegex.test(t)},t.prototype.setYearFrom0To100=function(t,e){e>=0&&e<100&&t.setFullYear(e)},t.prototype.sortDate=function(t,e,i){return k(this.validateDate(t),this.validateDate(e),i)},t.prototype.splitDate=function(t){return{year:t.getFullYear(),month:t.getMonth(),day:t.getDate()}},t.prototype.validateDateRange=function(t,e,i){return e&&i?t>=e&&t<=i:e&&!i?t>=e:!(!e&&i)||t<=i},t.prototype.validateDate=function(t){var e=t instanceof Date?this.convertDateToISO(t):t;return this.isValidIso(e)?e:void 0},t.decorators=[{type:e.Injectable}],t}(),Vt=function(){return(Vt=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},xt=["border","shadow"],Rt={en:{noColumns:"Columns are not defined",noData:"No data found",loadingData:"Loading",loadMoreData:"Load more data",seeCompleteSubtitle:"See complete subtitle",completeSubtitle:"Complete subtitle"},es:{noColumns:"Columnas no definidas",noData:"Datos no encontrados",loadingData:"Cargando datos",loadMoreData:"Cargar más resultados",seeCompleteSubtitle:"Ver subtitulo completo",completeSubtitle:"Subtitulo completo"},pt:{noColumns:"Nenhuma definição de colunas",noData:"Nenhum dado encontrado",loadingData:"Carregando",loadMoreData:"Carregar mais resultados",seeCompleteSubtitle:"Ver legenda completa",completeSubtitle:"Legenda completa"}},Lt=function(){function t(t){this.thfDate=t,this._actions=[],this._columns=[],this._hideDetail=!1,this._hideTextOverflow=!1,this._loading=!1,this.allSelected=new e.EventEmitter,this.allUnselected=new e.EventEmitter,this.selected=new e.EventEmitter,this.showMore=new e.EventEmitter,this.unselected=new e.EventEmitter,this.selectAll=!1,this.sortedColumn={property:null,ascending:!0}}return Object.defineProperty(t.prototype,"items",{get:function(){return this._items},set:function(t){this._items=Array.isArray(t)?t:[],this.hasItems()?this.hasColumns()||(this.columns=this.getDefaultColumns(t[0])):this.selectAll=!1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columns",{get:function(){return this._columns},set:function(t){this._columns=t||[],this.mapColumnToProperty(),this._columns.length?(this.setColumnLink(),this.calculateWidthHeaders()):this.hasItems()&&(this._columns=this.getDefaultColumns(this.items[0]))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"container",{get:function(){return this._container},set:function(t){this._container=xt.includes(t)?t:"border",this.showContainer(this._container)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hideTextOverflow",{get:function(){return this._hideTextOverflow},set:function(t){this._hideTextOverflow=d(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t,this.calculateHeightTableContainer(t),this.calculateWidthHeaders()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hideDetail",{get:function(){return this._hideDetail},set:function(t){this._hideDetail=null!=t&&""===t.toString()||d(t),this.calculateWidthHeaders()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"literals",{get:function(){return this._literals||Rt[h()]},set:function(t){t instanceof Object&&!(t instanceof Array)?this._literals=Vt({},Rt[p],Rt[h()],t):this._literals=Rt[h()]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"loading",{get:function(){return this._loading},set:function(t){this._loading=d(t),this.calculateWidthHeaders()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"checkbox",{get:function(){return this._checkbox},set:function(t){this._checkbox=""===t||d(t),this.calculateWidthHeaders()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"actions",{get:function(){return this._actions},set:function(t){this._actions=t,this.calculateWidthHeaders()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"setSort",{set:function(t){this.sort=""!==t&&d(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"setShowMoreDisabled",{set:function(t){this.showMoreDisabled=""!==t&&d(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"setStriped",{set:function(t){this.striped=""!==t&&d(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"setHideSelectAll",{set:function(t){this.hideSelectAll=""!==t&&d(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"setSingleSelect",{set:function(t){this.singleSelect=""===t||d(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"noData",{get:function(){return this.literals.noData},set:function(t){t&&(this.literals.noData=t)},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(){(this.singleSelect||this.hideSelectAll)&&(this.selectAll=!1,this.hideSelectAll=!0)},t.prototype.selectAllRows=function(){var t=this;this.hideSelectAll||(this.selectAll=!this.selectAll,this.items.forEach(function(e){e.$selected=t.selectAll}),this.emitSelectAllEvents(this.selectAll,this.items))},t.prototype.selectRow=function(t){t.$selected=!t.$selected,this.emitSelectEvents(t),this.configAfterSelectRow(this.items,t)},t.prototype.selectDetailRow=function(t){this.emitSelectEvents(t)},t.prototype.getMainColumns=function(){var t=["string","number","boolean","date","time","dateTime","currency","subtitle","link","label","icon"];return this.columns.filter(function(e){return!e.type||t.includes(e.type)})},t.prototype.getColumnMasterDetail=function(){return this.columns.find(function(t){return"detail"===t.type})},t.prototype.getClassColor=function(t,e){return e.color?"thf-column-text-"+this.getColumnColor(t,e):""},t.prototype.getColumnColor=function(t,e){var i=e.color;return g(i,"function")?i(t,e.property):i},t.prototype.getSubtitleColumns=function(){return this.columns.filter(function(t){return"subtitle"===t.type})},t.prototype.getIconColumns=function(){return this.columns.filter(function(t){return"icon"===t.type})},t.prototype.getNameColumnDetail=function(){var t=this.getColumnMasterDetail();return t?t.property:null},t.prototype.getSelectedRows=function(){return this.items.filter(function(t){return t.$selected})},t.prototype.getUnselectedRows=function(){return this.items.filter(function(t){return!t.$selected})},t.prototype.hasColumns=function(){return this.columns&&this.columns.length>0},t.prototype.hasItems=function(){return this.items&&this.items.length>0},t.prototype.toggleRowAction=function(t){var e=t.$showAction;this.items.forEach(function(t){t.$showAction&&(t.$showAction=!1)}),t.$showAction=!e},t.prototype.sortColumn=function(t){this.sort&&"detail"!==t.type&&(this.sortedColumn.ascending=this.sortedColumn.property!==t||!this.sortedColumn.ascending,this.sortArray(t,this.sortedColumn.ascending),this.sortedColumn.property=t)},t.prototype.sortArray=function(t,e){var i=this;this.items.sort(function(n,o){return"date"===t.type||"dateTime"===t.type?i.thfDate.sortDate(n[t.property],o[t.property],e):k(n[t.property],o[t.property],e)})},t.prototype.onShowMore=function(){this.showMore.emit(null)},t.prototype.getDefaultColumns=function(t){return Object.keys(t).filter(function(e){return"object"!=typeof t[e]}).map(function(t){return{label:D(t),property:t}})},t.prototype.configAfterSelectRow=function(t,e){this.singleSelect?this.unselectOtherRows(t,e):this.hideSelectAll||(this.selectAll=this.isEverySelected(t))},t.prototype.emitSelectAllEvents=function(t,e){t?this.allSelected.emit(e):this.allUnselected.emit(e)},t.prototype.emitSelectEvents=function(t){t.$selected?this.selected.emit(t):this.unselected.emit(t)},t.prototype.isEverySelected=function(t){return!!t.every(function(t){return t.$selected})||!!t.some(function(t){return t.$selected||null===t.$selected})&&null},t.prototype.mapColumnToProperty=function(){this._columns.forEach(function(t){return t.property=t.property||t.column})},t.prototype.setColumnLink=function(){this.columns.forEach(function(t){"link"!==t.type||t.link||(t.link="link")})},t.prototype.unselectOtherRows=function(t,e){t.forEach(function(t){t!==e&&(t.$selected=!1)})},t.propDecorators={items:[{type:e.Input,args:["t-items"]}],columns:[{type:e.Input,args:["t-columns"]}],container:[{type:e.Input,args:["t-container"]}],hideTextOverflow:[{type:e.Input,args:["t-hide-text-overflow"]}],height:[{type:e.Input,args:["t-height"]}],hideDetail:[{type:e.Input,args:["t-hide-detail"]}],literals:[{type:e.Input,args:["t-literals"]}],loading:[{type:e.Input,args:["t-loading"]}],checkbox:[{type:e.Input,args:["t-checkbox"]}],actions:[{type:e.Input,args:["t-actions"]}],setSort:[{type:e.Input,args:["t-sort"]}],setShowMoreDisabled:[{type:e.Input,args:["t-show-more-disabled"]}],setStriped:[{type:e.Input,args:["t-striped"]}],setHideSelectAll:[{type:e.Input,args:["t-hide-select-all"]}],setSingleSelect:[{type:e.Input,args:["t-single-select"]}],noData:[{type:e.Input,args:["t-no-data"]}],allSelected:[{type:e.Output,args:["t-all-selected"]}],allUnselected:[{type:e.Output,args:["t-all-unselected"]}],selected:[{type:e.Output,args:["t-selected"]}],showMore:[{type:e.Output,args:["t-show-more"]}],unselected:[{type:e.Output,args:["t-unselected"]}]},t}(),Ft=function(){function t(t){this.templateRef=t}return t.decorators=[{type:e.Directive,args:[{selector:"[t-table-row-template]"}]}],t.ctorParameters=function(){return[{type:e.TemplateRef}]},t.propDecorators={thfTableRowTemplateShow:[{type:e.Input,args:["t-table-row-template-show"]}]},t}(),At=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Tt=function(t){function n(e,i,n,o,r,s,a){var l=t.call(this,e)||this;return l.changeDetector=r,l.decimalPipe=s,l.router=a,l.tableOpacity=0,l.initialized=!1,l.visibleElement=!1,l.parentRef=n._view.component,l.differ=i.find([]).create(null),l.clickListener=o.listen("document","click",function(){}),l.resizeListener=o.listen("window","resize",function(t){l.debounceResize()}),l}return At(n,t),Object.defineProperty(n.prototype,"detailHideSelect",{get:function(){var t=this.getColumnMasterDetail();return!(!t||!t.detail)&&t.detail.hideSelect},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"firstAction",{get:function(){return this.visibleActions&&this.visibleActions[0]},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"hasRowTemplate",{get:function(){return!!this.tableRowTemplate},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"visibleActions",{get:function(){return this.actions&&this.actions.filter(function(t){return!1!==t.visible})},enumerable:!0,configurable:!0}),n.prototype.ngAfterViewInit=function(){this.initialized=!0,this.container||this.hideContainer()},n.prototype.ngDoCheck=function(){this.checkChangesItems(),this.verifyCalculateHeightTableContainer(),this.tableWrapperElement.nativeElement.offsetWidth&&!this.visibleElement&&this.initialized&&(this.debounceResize(),this.visibleElement=!0)},n.prototype.ngOnDestroy=function(){this.removeListeners()},n.prototype.executeTableAction=function(t,e){t.disabled||this.validateTableAction(t,e)||("string"==typeof e.action?this.parentRef[e.action](t):e.action.call(this.parentRef,t),this.toggleRowAction(t))},n.prototype.columnCountForMasterDetail=function(){return this.getMainColumns().length+1+(this.actions.length>0?1:0)+(this.checkbox?1:0)},n.prototype.columnCount=function(){return this.getMainColumns().length+(this.actions.length>0?1:0)+(this.checkbox?1:0)+(this.hideDetail||void 0===this.getColumnMasterDetail()?0:1)},n.prototype.formatNumber=function(t,e){return e?this.decimalPipe.transform(t,e):t},n.prototype.getSubtitleColumn=function(t,e){return e.subtitles.find(function(i){return t[e.property]===i.value})},n.prototype.getBooleanLabel=function(t,e){return t||!1===t||0===t?(t=d(t),e.boolean?t?e.boolean.trueLabel||"Sim":e.boolean.falseLabel||"Não":t?"Sim":"Não"):t},n.prototype.getColumnIcons=function(t,e){var i=t[e.property];if(e.icons){if(i instanceof Array)return this.mergeCustomIcons(i,e.icons);if("string"==typeof i){var n=e.icons.find(function(t){return i===t.value});if(n)return[n]}}return i},n.prototype.getColumnLabel=function(t,e){return e.labels.find(function(i){return t[e.property]===i.value})},n.prototype.getColumnTitleLabel=function(t){return t.label||D(t.property)},n.prototype.verifyWidthColumnsPixels=function(){var t=this.getMainColumns();return!!t.length&&t.every(function(t){return t.width&&t.width.includes("px")})},n.prototype.calculateWidthHeaders=function(){var t=this;setTimeout(function(){t.height&&t.headersTable.forEach(function(t){var e=t.nativeElement.querySelector(".thf-table-header-fixed-inner");e&&(e.style.width=t.nativeElement.offsetWidth+"px")})})},n.prototype.containsMasterDetail=function(t){return t[this.getNameColumnDetail()]&&t[this.getNameColumnDetail()].length},n.prototype.isShowRowTemplate=function(t,e){return!this.tableRowTemplate||!this.tableRowTemplate.thfTableRowTemplateShow||this.tableRowTemplate.thfTableRowTemplateShow(t,e)},n.prototype.isShowMasterDetail=function(t){return!this.hideDetail&&this.getNameColumnDetail()&&t.$showDetail&&this.containsMasterDetail(t)&&!this.hasRowTemplate},n.prototype.tooltipMouseEnter=function(t){this.tooltipText=void 0,this.hideTextOverflow&&t.target.offsetWidth<t.target.scrollWidth&&t.target.innerText.trim()&&(this.tooltipText=t.target.innerText)},n.prototype.tooltipMouseLeave=function(){this.tooltipText=void 0},n.prototype.verifyChangeHeightInFooter=function(){return this.footerHeight!==this.getHeightTableFooter()},n.prototype.verifyCalculateHeightTableContainer=function(){this.height&&this.verifyChangeHeightInFooter()&&(this.footerHeight=this.getHeightTableFooter(),this.calculateHeightTableContainer(this.height))},n.prototype.calculateHeightTableContainer=function(t){var e=parseFloat(t);this.heightTableContainer=e?e-this.getHeightTableFooter():void 0,this.setTableOpacity(1),this.changeDetector.detectChanges()},n.prototype.getTypeColumnLink=function(t,e){var i;return e.action?"action":(i=t[e.link])&&i.startsWith("http")?"externalLink":"internalLink"},n.prototype.togglePopup=function(t,e){this.popupTarget=e,this.changeDetector.detectChanges(),this.thfPopupComponent.toggle(t)},n.prototype.showContainer=function(t){var e=this.tableContainerElement.nativeElement.firstChild.classList;e.add("thf-container"),"border"===t?e.add("thf-container-no-shadow"):e.remove("thf-container-no-shadow")},n.prototype.checkChangesItems=function(){var t=this.differ.diff(this.items);t&&this.selectAll&&(this.selectAll=null),t&&!this.hasColumns()&&this.hasItems()&&(this.columns=this.getDefaultColumns(this.items[0]))},n.prototype.getHeightTableFooter=function(){return this.tableFooterElement?this.tableFooterElement.nativeElement.offsetHeight:0},n.prototype.hideContainer=function(){this.tableContainerElement.nativeElement.firstChild.classList.remove("thf-container")},n.prototype.mergeCustomIcons=function(t,e){var i=[];return t.forEach(function(t){var n=e.find(function(e){return t===e.icon||t===e.value});n?i.push(n):i.push(t)}),i},n.prototype.validateTableAction=function(t,e){return"function"==typeof e.disabled?e.disabled.call(this.parentRef,t):e.disabled},n.prototype.debounceResize=function(){var t=this;clearTimeout(this.timeoutResize),this.timeoutResize=setTimeout(function(){t.calculateWidthHeaders(),t.setTableOpacity(1)})},n.prototype.removeListeners=function(){this.resizeListener&&this.resizeListener(),this.clickListener&&this.clickListener()},n.prototype.setTableOpacity=function(t){this.tableOpacity=t},n.decorators=[{type:e.Component,args:[{selector:"thf-table",template:'<thf-container #tableContainer t-no-padding> <div [class.thf-table-container-relative]="loading"> <div *ngIf="loading" class="thf-table-overlay"> <thf-loading class="thf-table-overlay-content" [t-text]="literals.loadingData"></thf-loading> </div> <div class="thf-table-main-container"> <div #tableWrapper class="thf-table-wrapper" [class.thf-table-header-fixed-columns-pixels]="verifyWidthColumnsPixels()" [style.opacity]="tableOpacity"> <div class="thf-table-container" *ngIf="height" [style.height.px]="heightTableContainer"> <div class="thf-table-header-fixed thf-table-header"></div> <div class="thf-table-container-fixed-inner"> <ng-container *ngTemplateOutlet="tableTemplate"></ng-container> </div> </div> <div *ngIf="!height"> <ng-container *ngTemplateOutlet="tableTemplate"></ng-container> </div> </div> </div> </div> <div class="thf-table-footer" *ngIf="hasItems() && getSubtitleColumns().length"> <div *ngFor="let column of getSubtitleColumns()"> <thf-table-subtitle-footer [t-literals]="literals" [t-subtitles]="column.subtitles"></thf-table-subtitle-footer> </div> </div> </thf-container> <div class="thf-row thf-table-footer-show-more" [class.thf-invisible]="showMore.observers.length === 0" #tableFooter> <thf-button class="thf-offset-xl-4 thf-offset-lg-4 thf-offset-md-3 thf-lg-4 thf-md-6" [t-disabled]="showMoreDisabled" [t-label]="literals.loadMoreData" (t-click)="onShowMore()"> </thf-button> </div> <ng-template #tableTemplate> <table class="thf-table" [class.thf-table-striped]="striped" [class.thf-table-layout-fixed]="hideTextOverflow"> <thead> <tr [class.thf-table-header]="!height"> <th *ngIf="checkbox && hasItems()" class="thf-table-column-checkbox"> <div [class.thf-table-header-fixed-inner]="height"> <input *ngIf="!hideSelectAll" type="checkbox" class="thf-table-checkbox" [class.thf-table-checkbox-checked]="selectAll" [class.thf-table-checkbox-indeterminate]="selectAll === null"> <label *ngIf="!hideSelectAll" class="thf-table-checkbox-label thf-clickable" (click)="selectAllRows()"></label> </div> </th> <th *ngIf="hasItems() && !hideDetail && getColumnMasterDetail() !== undefined || hasRowTemplate" class="thf-table-header-column thf-table-header-master-detail"> </th> <th *ngIf="!hasColumns()" class="thf-table-header-column thf-text-center">{{ literals.noColumns }}</th> <th *ngFor="let column of getMainColumns(); let i = index" #headersTable class="thf-table-header-ellipsis" [style.width]="column.width" [style.max-width]="column.width" [style.min-width]="column.width" [class.thf-clickable]="sort" [class.thf-table-column-right]= "column.type === \'currency\' || column.type === \'number\'" [class.thf-table-header-subtitle]="column.type === \'subtitle\'" (click)="sortColumn(column)"> <div *ngIf="height" class="thf-table-header-fixed-inner"> <ng-container *ngTemplateOutlet="contentHeaderTemplate"></ng-container> </div> <div *ngIf="!height"> <ng-container *ngTemplateOutlet="contentHeaderTemplate"></ng-container> </div> <ng-template #contentHeaderTemplate> <span *ngIf="sort" [class.thf-table-header-icon-unselected]= "sortedColumn?.property !== column" [class.thf-table-header-icon-descending]= "sortedColumn?.property === column && sortedColumn.ascending" [class.thf-table-header-icon-ascending]= "sortedColumn?.property === column && !sortedColumn.ascending"> </span> <span class="thf-table-header-ellipsis thf-table-header-block" [t-tooltip]="tooltipText" (mouseenter)="tooltipMouseEnter($event)" (mouseleave)="tooltipMouseLeave()"> {{ getColumnTitleLabel(column) }} </span> </ng-template> </th> <th *ngIf="visibleActions.length > 1 && hasItems()" class="thf-table-header-action"></th> <th *ngIf="visibleActions.length === 1 && hasItems()" class="thf-table-header-single-action"></th> </tr> </thead> <tbody class="thf-table-group-row" *ngIf="!hasItems()"> <tr class="thf-table-row"> <td [colSpan]="columnCount()" class="thf-table-no-data thf-text-center"> <span> {{ literals.noData }} </span> </td> </tr> </tbody> <tbody class="thf-table-group-row" *ngFor="let row of items, let rowIndex = index;"> <tr class="thf-table-row" [class.thf-table-row-active]="row.$selected || row.$selected === null && checkbox"> <td *ngIf="checkbox" class="thf-table-column thf-table-column-checkbox"> <ng-container *ngIf="singleSelect; then inputRadio; else inputCheckbox"> </ng-container> <ng-template #inputRadio> <input type="radio" class="thf-radio-group-input" [class.thf-radio-group-input-checked]="row.$selected"> <label class="thf-radio-group-label thf-clickable" (click)="checkbox ? selectRow(row) : \'javascript:;\'"></label> </ng-template> <ng-template #inputCheckbox> <input type="checkbox" class="thf-table-checkbox" [class.thf-table-checkbox-checked]="row.$selected"> <label class="thf-table-checkbox-label thf-clickable" (click)="checkbox ? selectRow(row) : \'javascript:;\'"></label> </ng-template> </td> <td *ngIf="(getColumnMasterDetail() !== undefined) && !hideDetail || hasRowTemplate" (click)="row.$showDetail = !row.$showDetail" class="thf-table-column-detail-toggle"> <span *ngIf="(containsMasterDetail(row) && !hasRowTemplate) || isShowRowTemplate(row, rowIndex) && hasRowTemplate" [class.thf-icon-arrow-up]="row.$showDetail" [class.thf-icon-arrow-down]="!row.$showDetail" class="thf-icon thf-clickable"> </span> </td> <td *ngFor="let column of getMainColumns(), let columnIndex = index;" [style.width]="column.width" [style.max-width]="column.width" [style.min-width]="column.width" [class.thf-table-column]="column.type !== \'icon\'" [class.thf-table-column-right]="column.type == \'currency\' || column.type == \'number\'" [class.thf-table-column-center]="column.type === \'subtitle\'" [class.thf-table-column-icons]="column.type === \'icon\'" [ngClass]="getClassColor(row, column)" (click)="checkbox ? selectRow(row) : \'javascript:;\'"> <div [class.thf-table-body-ellipsis]="hideTextOverflow" [ngSwitch]="column.type" [t-tooltip]="tooltipText" (mouseenter)="tooltipMouseEnter($event)" (mouseleave)="tooltipMouseLeave()"> <span *ngSwitchCase="\'boolean\'">{{ getBooleanLabel(row[column.property], column) }}</span> <span *ngSwitchCase="\'currency\'">{{ row[column.property] | currency:column.format:\'symbol\':\'1.2-2\' }}</span> <span *ngSwitchCase="\'date\'" >{{ row[column.property] | date: column.format || \'dd/MM/yyyy\' }}</span> <span *ngSwitchCase="\'time\'" >{{ row[column.property] | thf_time: column.format || \'HH:mm:ss.ffffff\' }}</span> <span *ngSwitchCase="\'dateTime\'" >{{ row[column.property] | date: column.format || \'dd/MM/yyyy HH:mm:ss\' }}</span> <span *ngSwitchCase="\'number\'">{{ formatNumber(row[column.property], column.format) }}</span> <span *ngSwitchCase="\'link\'"> <a class="thf-table-link" *ngIf="getTypeColumnLink(row, column) === \'action\'" (click)=\'column.action(row[column.property], row)\'> {{ row[column.property] }} </a> <a class="thf-table-link" *ngIf="getTypeColumnLink(row, column) === \'externalLink\'" [href]="row[column.link]" target="_blank"> {{ row[column.property] }} </a> <a class="thf-table-link" *ngIf="getTypeColumnLink(row, column) === \'internalLink\'" [routerLink]="row[column.link]"> {{ row[column.property] }} </a> </span> <span *ngSwitchCase="\'icon\'"> <thf-table-column-icon [t-icons]="getColumnIcons(row, column)" [t-column]="column" [t-row]="row"> </thf-table-column-icon> </span> <span *ngSwitchCase="\'subtitle\'"> <thf-table-subtitle-circle [t-subtitle]="getSubtitleColumn(row, column)"></thf-table-subtitle-circle> </span> <span *ngSwitchCase="\'label\'"> <thf-table-column-label [t-value]="getColumnLabel(row, column)"></thf-table-column-label> </span> <span *ngSwitchDefault>{{ row[column.property] }}</span> </div> </td> <td *ngIf="visibleActions.length === 1" class="thf-table-column thf-table-column-single-action"> <div *ngIf="firstAction.visible !== false" class="thf-table-single-action thf-clickable" [class.thf-table-action-disabled]= "firstAction.disabled ? validateTableAction(row, firstAction) : false" (click)="executeTableAction(row, firstAction)"> <span *ngIf="firstAction.icon" class="thf-icon {{ firstAction.icon }}"></span> {{ firstAction.label }} </div> </td> <td *ngIf="visibleActions.length > 1" class="thf-table-column-actions"> <span #popupTarget class="thf-icon thf-icon-more thf-clickable" (click)="togglePopup(row, popupTarget)"> </span> </td> </tr> <tr *ngIf="hasRowTemplate && row.$showDetail && isShowRowTemplate(row, rowIndex)"> <td class="thf-table-row-template-container" [colSpan]="columnCountForMasterDetail()"> <ng-template [ngTemplateOutlet]="tableRowTemplate.templateRef" [ngTemplateOutletContext]="{ $implicit: row, rowIndex: rowIndex }"> </ng-template> </td> </tr> <tr *ngIf="isShowMasterDetail(row)"> <td class="thf-table-column-detail" [colSpan]="columnCountForMasterDetail()"> <thf-table-detail [t-checkbox]="checkbox && !detailHideSelect" [t-detail]="getColumnMasterDetail().detail" [t-items]="row[getNameColumnDetail()]" (t-select-row)="selectDetailRow($event)"> </thf-table-detail> </td> </tr> </tbody> </table> <thf-popup #popup [t-actions]="actions" [t-target]="popupTarget"> </thf-popup> </ng-template> ',providers:[_t]}]}],n.ctorParameters=function(){return[{type:_t},{type:e.IterableDiffers},{type:e.ViewContainerRef},{type:e.Renderer2},{type:e.ChangeDetectorRef},{type:a.DecimalPipe},{type:i.Router}]},n.propDecorators={tableRowTemplate:[{type:e.ContentChild,args:[Ft]}],thfPopupComponent:[{type:e.ViewChild,args:["popup"]}],tableContainerElement:[{type:e.ViewChild,args:["tableContainer",{read:e.ElementRef}]}],tableFooterElement:[{type:e.ViewChild,args:["tableFooter",{read:e.ElementRef}]}],tableWrapperElement:[{type:e.ViewChild,args:["tableWrapper",{read:e.ElementRef}]}],actionsIconElement:[{type:e.ViewChildren,args:["actionsIconElement",{read:e.ElementRef}]}],actionsElement:[{type:e.ViewChildren,args:["actionsElement",{read:e.ElementRef}]}],headersTable:[{type:e.ViewChildren,args:["headersTable"]}]},n}(Lt),jt=function(){function t(t){this.decimalPipe=t,this.hasCheckbox=!1,this.selectRow=new e.EventEmitter}return Object.defineProperty(t.prototype,"detail",{get:function(){return this._detail},set:function(t){this._detail=this.returnThfTableDetailObject(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"detailColumns",{get:function(){return this.detail&&this.detail.columns||[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"typeHeaderInline",{get:function(){return this.detail&&!this.detail.typeHeader||"inline"===this.detail.typeHeader},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"typeHeaderTop",{get:function(){return this.detail&&"top"===this.detail.typeHeader},enumerable:!0,configurable:!0}),t.prototype.formatNumberDetail=function(t,e){return e?this.decimalPipe.transform(t,e):t},t.prototype.getColumnTitleLabel=function(t){return t.label||D(t.property)},t.prototype.onSelectRow=function(t){t.$selected=!t.$selected,this.selectRow.emit(t)},t.prototype.returnThfTableDetailObject=function(t){if(t&&g(t,"object")){if(t.columns&&t.columns.forEach(function(t){return t.property=t.property||t.column}),Array.isArray(t))return{columns:t};if(t.columns)return t}},t.decorators=[{type:e.Component,args:[{selector:"thf-table-detail",template:'<table class="thf-table-master-detail"> <thead *ngIf="typeHeaderTop"> <tr> <th class="thf-table-header thf-table-column-checkbox" *ngIf="hasCheckbox"></th> <th class="thf-table-header thf-table-header-column thf-table-header-master-detail"></th> <th class="thf-table-header thf-table-header-ellipsis" *ngFor="let detail of detail.columns"> {{ getColumnTitleLabel(detail) }} </th> </tr> </thead> <tbody> <tr class="thf-table-detail-row" [class.thf-table-row-active]="item.$selected && hasCheckbox" *ngFor="let item of items"> <ng-container *ngIf="hasCheckbox; else masterDetailSpace"> <td class="thf-table-column-master-detail-space-checkbox"></td> <td class="thf-table-column thf-table-column-checkbox"> <input class="thf-table-checkbox" type="checkbox" [class.thf-table-checkbox-checked]="item.$selected"> <label class="thf-table-checkbox-label thf-clickable" (click)="onSelectRow(item)"> </label> </td> </ng-container> <ng-template #masterDetailSpace> <td class="thf-table-column-master-detail-space"></td> </ng-template> <td class="thf-table-column-master-detail thf-table-master-detail-label" (click)="hasCheckbox ? onSelectRow(item) : \'javascript:;\'" *ngFor="let detail of detailColumns"> <strong *ngIf="typeHeaderInline"> {{ getColumnTitleLabel(detail) }}: </strong> <ng-container [ngSwitch]="detail.type"> <span *ngSwitchCase="\'currency\'">{{ item[detail.property] | currency: detail.format:\'symbol\':\'1.2-2\' }}</span> <span *ngSwitchCase="\'date\'">{{ item[detail.property] | date: detail.format || \'dd/MM/yyyy\' }}</span> <span *ngSwitchCase="\'time\'">{{ item[detail.property] | thf_time: detail.format || \'HH:mm:ss.ffffff\' }}</span> <span *ngSwitchCase="\'dateTime\'">{{ item[detail.property] | date: detail.format || \'dd/MM/yyyy HH:mm:ss\' }}</span> <span *ngSwitchCase="\'number\'">{{ formatNumberDetail(item[detail.property], detail.format) }}</span> <span *ngSwitchDefault>{{ item[detail.property] }}</span> </ng-container> </td> </tr> </tbody> </table> '}]}],t.ctorParameters=function(){return[{type:a.DecimalPipe}]},t.propDecorators={hasCheckbox:[{type:e.Input,args:["t-checkbox"]}],detail:[{type:e.Input,args:["t-detail"]}],items:[{type:e.Input,args:["t-items"]}],selectRow:[{type:e.Output,args:["t-select-row"]}]},t}(),qt=function(){function t(){}return t.decorators=[{type:e.Component,args:[{selector:"thf-table-show-subtitle",template:'<div class="thf-table-footer-show-subtitle" (click)="modal.open()"> <div class="thf-table-footer-show-subtitle-container"> <span class="thf-table-show-subtitle">{{ literals.seeCompleteSubtitle }}</span> </div> </div> <thf-modal #modal t-size="sm" [t-title]="literals.completeSubtitle"> <div *ngFor="let subtitle of subtitles" class="thf-table-subtitle-footer-modal thf-row"> <thf-table-subtitle-circle t-hide-title="true" [t-subtitle]="subtitle"> </thf-table-subtitle-circle> <span class="thf-table-subtitle-text">{{ subtitle.label }}</span> </div> </thf-modal> '}]}],t.propDecorators={subtitles:[{type:e.Input,args:["t-subtitles"]}],literals:[{type:e.Input,args:["t-literals"]}]},t}(),Nt=function(){function t(t){this.thfColorPaletteService=t,this.hideTitle=!1}return Object.defineProperty(t.prototype,"subtitle",{get:function(){return this._subtitle},set:function(t){t&&(t.color=this.thfColorPaletteService.getColor(t)),this._subtitle=t},enumerable:!0,configurable:!0}),t.decorators=[{type:e.Component,args:[{selector:"thf-table-subtitle-circle",template:'<span [title]="hideTitle ? \'\' : subtitle?.label" class="thf-table-subtitle-circle thf-{{ subtitle?.color }}"> {{ subtitle?.content }} </span> '}]}],t.ctorParameters=function(){return[{type:Dt}]},t.propDecorators={subtitle:[{type:e.Input,args:["t-subtitle"]}],hideTitle:[{type:e.Input,args:["t-hide-title"]}]},t}(),Bt=function(){function t(t,e){this.element=t,this.renderer=e}return t.prototype.ngAfterViewInit=function(){this.initializeResizeListener(),this.debounceResize()},t.prototype.ngOnDestroy=function(){this.removeResizeListener()},t.prototype.debounceResize=function(){var t=this;clearTimeout(this.timeoutResize),this.timeoutResize=setTimeout(function(){t.toggleShowCompleteSubtitle()})},t.prototype.getContainerSize=function(){return this.element.nativeElement.querySelector(".thf-table-subtitle-footer-container").offsetWidth},t.prototype.getItemsSize=function(){var t=this.element.nativeElement.querySelectorAll(".thf-table-subtitle-footer");return Array.from(t).map(function(t){return t.offsetWidth}).reduce(function(t,e){return t+e},16)},t.prototype.initializeResizeListener=function(){var t=this;this.resizeListener=this.renderer.listen("window","resize",function(e){t.debounceResize()})},t.prototype.removeResizeListener=function(){this.resizeListener()},t.prototype.toggleShowCompleteSubtitle=function(){var t=this.getContainerSize(),e=this.getItemsSize();this.showSubtitle=e>t},t.decorators=[{type:e.Component,args:[{selector:"thf-table-subtitle-footer",template:'<div class="thf-table-subtitle-footer-container"> <div *ngFor="let subtitle of subtitles" class="thf-table-subtitle-footer"> <thf-table-subtitle-circle t-hide-title="true" [t-subtitle]="subtitle"> </thf-table-subtitle-circle> <span class="thf-table-subtitle-text">{{ subtitle.label }}</span> </div> <thf-table-show-subtitle *ngIf="showSubtitle" [t-literals]="literals" [t-subtitles]="subtitles"> </thf-table-show-subtitle> </div> '}]}],t.ctorParameters=function(){return[{type:e.ElementRef},{type:e.Renderer2}]},t.propDecorators={literals:[{type:e.Input,args:["t-literals"]}],subtitles:[{type:e.Input,args:["t-subtitles"]}]},t}(),zt=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[a.CommonModule,i.RouterModule,H,pt,it,at,vt,wt,Pt],declarations:[Tt,kt,Mt,jt,Ft,qt,Nt,Bt],exports:[Tt,Ft],providers:[a.DecimalPipe]}]}],t}(),Wt=function(){function t(){this.months=[{pt:"Janeiro",en:"January",es:"Enero"},{pt:"Fevereiro",en:"February",es:"Febrero"},{pt:"Março",en:"March",es:"Marzo"},{pt:"Abril",en:"April",es:"Abril"},{pt:"Maio",en:"May",es:"Mayo"},{pt:"Junho",en:"June",es:"Junio"},{pt:"Julho",en:"July",es:"Julio"},{pt:"Agosto",en:"August",es:"Agosto"},{pt:"Setembro",en:"September",es:"Setiembre"},{pt:"Outubro",en:"October",es:"Octubre"},{pt:"Novembro",en:"November",es:"Noviembre"},{pt:"Dezembro",en:"December",es:"Diciembre"}],this.shortWeekDays=[{pt:"Dom",en:"Sun",es:"Dom"},{pt:"Seg",en:"Mon",es:"Lun"},{pt:"Ter",en:"Tue",es:"Mar"},{pt:"Qua",en:"Wed",es:"Mié"},{pt:"Qui",en:"Thu",es:"Jue"},{pt:"Sex",en:"Fri",es:"Vie"},{pt:"Sáb",en:"Sat",es:"Sáb"}],this.wordMonth={pt:"Mês",en:"Month",es:"Mes"},this.wordYear={pt:"Ano",en:"Year",es:"Año"},this.lang="pt"}return t.prototype.setLanguage=function(t){t&&t.length>=2&&(t=t.toLowerCase().slice(0,2),this.lang="pt"===t||"en"===t||"es"===t?t:"pt")},t.prototype.getWordMonth=function(){return this.wordMonth[this.lang]},t.prototype.getWordYear=function(){return this.wordYear[this.lang]},t.prototype.getMonth=function(t){return this.months[t][this.lang]},t.prototype.getArrayMonths=function(){for(var t=Array(),e=0;e<this.months.length;e++)t.push(this.months[e][this.lang]);return t},t.prototype.getWeedDays=function(t){return this.shortWeekDays[t][this.lang]},t.prototype.getArrayWeekDays=function(){for(var t=Array(),e=0;e<this.shortWeekDays.length;e++)t.push(this.shortWeekDays[e][this.lang]);return t},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[]},t}(),Ht=function(){function t(){this.firstWeekDay=0}return t.prototype.weekStartDate=function(t){for(var e=new Date(t.getTime());e.getDay()!==this.firstWeekDay;)e.setDate(e.getDate()-1);return e},t.prototype.monthDates=function(t,e,i,n){if(void 0===i&&(i=null),void 0===n&&(n=null),"number"!=typeof e||e<0||e>11)throw Error("month must be a number (Jan is 0)");var o=[],r=[],s=0,a=new Date(t,e,1);C(a,t),a=this.weekStartDate(a);do{for(s=0;s<7;s++)r.push(i?i(a):a),(a=new Date(a.getTime())).setDate(a.getDate()+1);o.push(n?n(r):r),r=[]}while(a.getMonth()<=e&&a.getFullYear()===t);return o},t.prototype.monthDays=function(t,e){return this.monthDates(t,e,function(t){return t.getMonth()===e?t:0})},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[]},t}(),$t=["pt","en","es"],Ut=function(){function t(t,i){this.thfCalendarService=t,this.thfCalendarLangService=i,this.dayVisible=!1,this.displayMonths=Array(),this.displayWeedDays=Array(),this.monthVisible=!1,this.overlayInvisible=!0,this.visible=!1,this.yearVisible=!1,this.isMobile=v,this.today=new Date,this.selectedDateChange=new e.EventEmitter,this.submit=new e.EventEmitter}return Object.defineProperty(t.prototype,"dateEnd",{get:function(){return this._dateEnd},set:function(t){if(t&&t instanceof Date){var e=t.getFullYear(),i=t.getMonth(),n=t.getDate(),o=new Date(e,i,n,23,59,59);C(o,e),this._dateEnd=o}else this._dateEnd=void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"locale",{get:function(){return this._locale},set:function(t){this._locale=$t.includes(t)?t:"pt",this.initializeLanguage()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedDate",{get:function(){return this._selectedDate},set:function(t){this._selectedDate=t&&t instanceof Date?t:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dateStart",{get:function(){return this._dateStart},set:function(t){if(t&&t instanceof Date){var e=t.getFullYear(),i=t.getMonth(),n=t.getDate(),o=new Date(e,i,n,0,0,0);C(o,e),this._dateStart=o}else this._dateStart=void 0},enumerable:!0,configurable:!0}),t.prototype.close=function(){this.overlayInvisible=!0,this.visible=!1},t.prototype.getArrayDecade=function(t){if(this.displayDecade=Array(),t%10!=0)for(;t%10!=0;)t--;this.updateDecade(t)},t.prototype.getBackgroundColor=function(t,e){return t===e?"thf-calendar-box-background-selected":"thf-calendar-box-background"},t.prototype.getDayBackgroundColor=function(t){return this.equalsDate(t,this.selectedDate)?"thf-calendar-box-background-selected":this.equalsDate(t,this.today)?"thf-calendar-box-background-today":t?S(t,this.dateStart,this.dateEnd)?"thf-calendar-box-background":"thf-calendar-box-background-disabled":""},t.prototype.getDayForegroundColor=function(t){return this.equalsDate(t,this.selectedDate)?"thf-calendar-box-foreground-selected":this.equalsDate(t,this.today)?"thf-calendar-box-foreground-today":S(t,this.dateStart,this.dateEnd)?"thf-calendar-box-foreground":"thf-calendar-box-foreground-disabled"},t.prototype.getForegroundColor=function(t,e){return t===e?"thf-calendar-box-foreground-selected":"thf-calendar-box-foreground"},t.prototype.getWordMonth=function(){return this.thfCalendarLangService.getWordMonth()},t.prototype.getWordYear=function(){return this.thfCalendarLangService.getWordYear()},t.prototype.init=function(){this.selectedDate?this.updateDate(this.selectedDate):this.updateDate(this.today),this.initializeLanguage(),this.selectDay(),this.isMobile()&&(this.overlayInvisible=!1),this.visible=!0},t.prototype.initializeLanguage=function(){this.thfCalendarLangService.setLanguage(this.locale),this.displayWeedDays=this.thfCalendarLangService.getArrayWeekDays(),this.displayMonths=this.thfCalendarLangService.getArrayMonths()},t.prototype.onNextMonth=function(){this.displayMonthNumber<11?this.updateDisplay(this.displayYear,this.displayMonthNumber+1):this.updateDisplay(this.displayYear+1,0)},t.prototype.onPrevMonth=function(){this.displayMonthNumber>0?this.updateDisplay(this.displayYear,this.displayMonthNumber-1):this.updateDisplay(this.displayYear-1,11)},t.prototype.onSelectDate=function(t){S(t,this.dateStart,this.dateEnd)&&(this.selectedDate=t,this.selectedDateChange.emit(t),this.submit.emit(t))},t.prototype.onSelectMonth=function(t,e){this.selectDay(),this.updateDisplay(t,e)},t.prototype.onSelectYear=function(t,e){"month"===this.lastDisplay?this.selectMonth():this.selectDay(),this.currentYear=t,this.updateDisplay(t,e)},t.prototype.selectDay=function(){this.dayVisible=!0,this.monthVisible=!1,this.yearVisible=!1,this.lastDisplay="day"},t.prototype.selectMonth=function(){this.dayVisible=!1,this.monthVisible=!0,this.yearVisible=!1,this.lastDisplay="month"},t.prototype.selectYear=function(){this.dayVisible=!1,this.monthVisible=!1,this.yearVisible=!0},t.prototype.setMobileVisualization=function(){return this.isMobile()?"thf-calendar thf-calendar-mobile":"thf-calendar"},t.prototype.updateYear=function(t){this.updateDisplay(this.displayYear+t,this.displayMonthNumber)},t.prototype.addAllYearsInDecade=function(t){var e;for(e=t;e<t+10;e++)this.displayDecade.push(e)},t.prototype.equalsDate=function(t,e){try{return t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDate()===e.getDate()}catch(t){return!1}},t.prototype.updateDate=function(t){this.currentMonthNumber=t.getMonth(),this.currentYear=t.getFullYear(),this.updateDisplay(this.currentYear,this.currentMonthNumber)},t.prototype.updateDecade=function(t){this.addAllYearsInDecade(t),this.displayStartDecade=t,this.displayFinalDecade=t+9},t.prototype.updateDisplay=function(t,e){var i=this.thfCalendarService.monthDays(t,e);this.displayDays=[].concat.apply([],i),this.displayMonthNumber=e,this.displayMonth=this.displayMonths[e],this.displayYear=t,this.getArrayDecade(t)},t.decorators=[{type:e.Component,args:[{selector:"thf-calendar",template:'<div class="thf-calendar-overlay" [class.thf-invisible]="overlayInvisible"></div> <div *ngIf="visible" [ngClass]="setMobileVisualization()"> <div *ngIf="dayVisible" #days> <div class="thf-calendar-nav"> <span (click)="onPrevMonth()" class="thf-calendar-nav-left thf-icon thf-icon-arrow-left"></span> <div class="thf-calendar-nav-title" attr-calendar> <span class="thf-clickable thf-mr-1" (click)="selectMonth()">{{ displayMonth }}</span> <span class="thf-clickable" (click)="selectYear()">{{ displayYear }}</span> </div> <span (click)="onNextMonth()" class="thf-calendar-nav-right thf-icon thf-icon-arrow-right"></span> </div> <div class="thf-calendar-content"> <div class="thf-calendar-labels"> <div class="thf-calendar-label" *ngFor="let day of displayWeedDays"> {{ day.toLowerCase() }} </div> </div> <div class="thf-calendar-content-list-day"> <div *ngFor="let day of displayDays" class="thf-calendar-day thf-calendar-box-background" (click)="onSelectDate(day)" [ngClass]="getDayBackgroundColor(day)"> <span *ngIf="day != 0" [ngClass]="getDayForegroundColor(day)"> {{ day.getDate() }} </span> </div> </div> </div> </div> <div *ngIf="monthVisible" #months> <div class="thf-calendar-nav"> <span (click)="updateYear(-1)" class="thf-calendar-nav-left thf-icon thf-icon-arrow-left"></span> <div class="thf-calendar-nav-title" attr-calendar> <span class="thf-clickable" (click)="selectYear()">{{ displayYear }}</span> </div> <span (click)="updateYear(1)" class="thf-calendar-nav-right thf-icon thf-icon-arrow-right"></span> </div> <div class="thf-calendar-content"> <div class="thf-calendar-labels"> <div class="thf-calendar-label"> {{ getWordMonth() }} </div> </div> <div class="thf-calendar-content-list-month"> <div *ngFor="let month of displayMonths; let i = index;" class="thf-calendar-month" (click)="onSelectMonth(displayYear, i)" [ngClass]="getBackgroundColor(i, displayMonthNumber)" attr-calendar> <span [ngClass]="getForegroundColor(i, displayMonthNumber)"> {{ month }} </span> </div> </div> </div> </div> <div *ngIf="yearVisible" #years> <div class="thf-calendar-nav"> <span (click)="updateYear(-10)" class="thf-calendar-nav-left thf-icon thf-icon-arrow-left"></span> <div class="thf-calendar-nav-title"> {{ displayStartDecade }} - {{ displayFinalDecade }} </div> <span (click)="updateYear(10)" class="thf-calendar-nav-right thf-icon thf-icon-arrow-right"></span> </div> <div class="thf-calendar-content"> <div class="thf-calendar-labels"> <div class="thf-calendar-label"> {{ getWordYear() }} </div> </div> <div class="thf-calendar-content-list-year"> <div *ngFor="let year of displayDecade; let i = index;" class="thf-calendar-year" (click)="onSelectYear(year, displayMonthNumber)" [ngClass]="getBackgroundColor(year, currentYear)" attr-calendar> <span [ngClass]="getForegroundColor(year, currentYear)"> {{ year }} </span> </div> </div> </div> </div> </div> ',providers:[Ht,Wt]}]}],t.ctorParameters=function(){return[{type:Ht},{type:Wt}]},t.propDecorators={elDays:[{type:e.ViewChild,args:["days",{read:e.ElementRef}]}],elMonths:[{type:e.ViewChild,args:["months",{read:e.ElementRef}]}],elYears:[{type:e.ViewChild,args:["years",{read:e.ElementRef}]}],dateEnd:[{type:e.Input,args:["t-date-end"]}],locale:[{type:e.Input,args:["t-locale"]}],selectedDate:[{type:e.Input,args:["t-selected-date"]}],dateStart:[{type:e.Input,args:["t-date-start"]}],selectedDateChange:[{type:e.Output,args:["t-selected-dateChange"]}],submit:[{type:e.Output,args:["t-submit"]}]},t}();function Kt(t,e,i){var n="string"==typeof i&&i||"object"==typeof i&&i&&i.length||"number"==typeof i&&(i||0===i)||"boolean"==typeof i&&i;return t&&!e&&!n}function Yt(t,e){var i=t||0===t,n=(e||0===e)&&e.toString();return i&&n&&n.length>Number(t)}function Gt(t,e){var i=t||0===t,n=(e||0===e)&&e.toString();return i&&n&&n.length<Number(t)}var Jt=6,Zt=function(){function t(){this.checkedOptions={},this.checkedOptionsList=[],this.mdColumns=Jt,this._columns=Jt,this._disabled=!1,this._indeterminate=!1,this._required=!1,this.ngModelChange=new e.EventEmitter,this.change=new e.EventEmitter}return Object.defineProperty(t.prototype,"columns",{get:function(){return this._columns},set:function(t){var e=f(t,Jt);this._columns=this.getGridSystemColumns(e,4),this.mdColumns=this.getGridSystemColumns(e,2)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this._disabled},set:function(t){this._disabled=d(t),this.validateModel(this.checkIndeterminate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"indeterminate",{get:function(){return this._indeterminate},set:function(t){this._indeterminate=d(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this._options},set:function(t){this._options=Array.isArray(t)?t:[],this.removeDuplicatedOptions()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"required",{get:function(){return this._required},set:function(t){this._required=d(t),this.validateModel(this.checkIndeterminate())},enumerable:!0,configurable:!0}),t.prototype.changeValue=function(){var t=this.checkIndeterminate();this.propagateChange?this.propagateChange(t):this.ngModelChange.emit(t),this.change.emit(t)},t.prototype.checkIndeterminate=function(){return this.indeterminate?this.checkedOptions:this.checkedOptionsList},t.prototype.checkOption=function(t){this._disabled||t.disabled||(this.checkOptionModel(t),this.changeValue())},t.prototype.registerOnChange=function(t){this.propagateChange=t},t.prototype.registerOnTouched=function(t){},t.prototype.writeValue=function(t){t&&this.checkedOptions!==t?this.generateCheckOptions(t):(this.checkedOptionsList=[],this.checkedOptions={})},t.prototype.registerOnValidatorChange=function(t){this.validatorChange=t},t.prototype.validate=function(t){if(!this.indeterminate&&Kt(this.required,this.disabled,t.value)||this.isInvalidIndeterminate())return{required:{valid:!1}}},t.prototype.validateModel=function(t){this.validatorChange&&this.validatorChange(t)},t.prototype.checkColumnsRange=function(t,e){return t>=1&&t<=e},t.prototype.checkOptionModel=function(t){this.checkedOptions[t.value]=!this.checkedOptions[t.value],!this.indeterminate&&this.checkedOptionsList.includes(t.value)?this.checkedOptionsList.splice(this.checkedOptionsList.indexOf(t.value),1):this.indeterminate||this.checkedOptionsList.push(t.value)},t.prototype.generateCheckOptions=function(t){var e=this;this.checkedOptions={},t instanceof Array?(this.checkedOptionsList=t,this.options.forEach(function(i){e.checkedOptions[i.value]=t.includes(i.value)})):this.options.forEach(function(i){t[i.value]=void 0!==t[i.value]&&t[i.value],e.checkedOptions=t})},t.prototype.getGridSystemColumns=function(t,e){var i=12/t;return this.checkColumnsRange(t,e)?i:Jt},t.prototype.isInvalidIndeterminate=function(){return!!(this.indeterminate&&this.required&&this.checkedOptions)&&Object.values(this.checkedOptions).every(function(t){return!1===t})},t.prototype.removeDuplicatedOptions=function(){var t=this;this.options.forEach(function(e,i){t.options.findIndex(function(t){return t.value===e.value})===i||t.options.splice(t.options.indexOf(e),1)})},t.propDecorators={name:[{type:e.Input,args:["name"]}],columns:[{type:e.Input,args:["t-columns"]}],disabled:[{type:e.Input,args:["t-disabled"]}],help:[{type:e.Input,args:["t-help"]}],indeterminate:[{type:e.Input,args:["t-indeterminate"]}],label:[{type:e.Input,args:["t-label"]}],options:[{type:e.Input,args:["t-options"]}],required:[{type:e.Input,args:["t-required"]}],ngModelChange:[{type:e.Output,args:["ngModelChange"]}],change:[{type:e.Output,args:["t-change"]}]},t}(),Xt=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Qt=function(t){function i(e){var i=t.call(this)||this;return i.changeDetector=e,i}return Xt(i,t),i.prototype.ngAfterViewChecked=function(){this.changeDetector.detectChanges()},i.prototype.onKeyDown=function(t,e){32!==t.which&&32!==t.keyCode||(this.checkOption(e),t.preventDefault())},i.decorators=[{type:e.Component,args:[{selector:"thf-checkbox-group",template:'<thf-field-container [t-help]="help" [t-label]="label" [t-opcional]="!required"> <div class="thf-field-container-content thf-checkbox-group-content"> <div class="thf-row thf-pt-1 thf-pb-1"> <div *ngFor="let option of options; let i = index" class="thf-checkbox-group-item thf-md-{{ mdColumns }} thf-lg-{{ columns }}" [class.thf-checkbox-group-item-disabled]="option.disabled || disabled"> <input class="thf-input thf-checkbox-group-input" type="checkbox" [class.thf-checkbox-group-input-checked]="checkedOptions[option.value]" [class.thf-checkbox-group-input-indeterminate]="checkedOptions[option.value] === null" [checked]="option.value" [disabled]="option.disabled || disabled" [id]="\'checkbox_\' + i" [required]="required" [value]="option.value"> <label #checkboxLabel class="thf-checkbox-group-label" [class.thf-clickable]="checkboxLabel.tabIndex === 0" [for]="\'checkbox_\' + i" [tabindex]="option.disabled || disabled ? -1 : 0" (click)="checkOption(option)" (keydown)="onKeyDown($event, option)"> {{option.label}} </label> </div> </div> </div> <thf-field-container-bottom></thf-field-container-bottom> </thf-field-container> ',providers:[{provide:l.NG_VALUE_ACCESSOR,useExisting:e.forwardRef(function(){return i}),multi:!0},{provide:l.NG_VALIDATORS,useExisting:e.forwardRef(function(){return i}),multi:!0}]}]}],i.ctorParameters=function(){return[{type:e.ChangeDetectorRef}]},i}(Zt),te=function(){function t(){this.defaultValue="",this.changeEvent=new e.EventEmitter}return t.prototype.clear=function(){this.setInputValue(this.defaultValue),this.changeEvent.emit(this.defaultValue)},t.prototype.showIcon=function(){return this.defaultValue!==this.getInputValue()&&this.hasCleanAttr()&&!this.isDisabled()&&!this.isReadonly()},t.prototype.hasCleanAttr=function(){return this.parentComponent.clean},t.prototype.isDisabled=function(){return this.parentComponent.disabled},t.prototype.isReadonly=function(){return this.parentComponent.readonly},t.propDecorators={inputRef:[{type:e.Input,args:["t-element-ref"]}],defaultValue:[{type:e.Input,args:["t-default-value"]}],changeEvent:[{type:e.Output,args:["t-change-event"]}]},t}(),ee=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),ie=function(t){function i(e){var i=t.call(this)||this;return i.viewRef=e,i.parentComponent=i.viewRef._view.component,i}return ee(i,t),i.prototype.setInputValue=function(t){this.inputRef&&this.inputRef.nativeElement&&(this.inputRef.nativeElement.value=t)},i.prototype.getInputValue=function(){if(this.inputRef&&this.inputRef.nativeElement)return this.inputRef.nativeElement.value},i.decorators=[{type:e.Component,args:[{selector:"thf-clean",template:'<span *ngIf="showIcon()" class="thf-icon thf-field-icon thf-icon-close" (click)="clear()"> </span> '}]}],i.ctorParameters=function(){return[{type:e.ViewContainerRef}]},i}(te),ne={startsWith:0,contains:1,endsWith:2};ne[ne.startsWith]="startsWith",ne[ne.contains]="contains",ne[ne.endsWith]="endsWith";var oe=function(){return(oe=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},re=function(){function t(){this._changeOnEnter=!1,this._debounceTime=400,this._disabled=!1,this._disabledInitFilter=!1,this._fieldLabel="label",this._fieldValue="value",this._filterMinlength=0,this._filterMode=ne.startsWith,this._options=[],this._required=!1,this.cacheOptions=[],this.cacheStaticOptions=[],this.firstInWriteValue=!0,this.isFirstFilter=!0,this.isFiltering=!1,this.visibleOptions=[],this.placeholder="",this.sort=!1,this.change=new e.EventEmitter,this.ngModelChange=new e.EventEmitter}return Object.defineProperty(t.prototype,"filterService",{get:function(){return this._filterService},set:function(t){this._filterService=t,this.configAfterSetFilterService(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"debounceTime",{get:function(){return this._debounceTime},set:function(t){var e=parseInt(t,10);this._debounceTime=!isNaN(e)&&e>0?e:400,this.unsubscribeKeyupObservable(),this.initInputObservable()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabledInitFilter",{get:function(){return this._disabledInitFilter},set:function(t){this._disabledInitFilter=d(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fieldValue",{get:function(){return this._fieldValue},set:function(t){this._fieldValue=t||"value",g(this.filterService,"string")&&this.service&&(this.service.fieldValue=this._fieldValue)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fieldLabel",{get:function(){return this._fieldLabel},set:function(t){this._fieldLabel=t||"label",g(this.filterService,"string")&&this.service&&(this.service.fieldLabel=this._fieldLabel)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filterMinlength",{get:function(){return this._filterMinlength},set:function(t){var e="string"==typeof t?parseInt(t,10):t;this._filterMinlength=Number.isInteger(e)?e:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"required",{get:function(){return this._required},set:function(t){this._required=d(t),this.validateModel(this.selectedValue)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"changeOnEnter",{get:function(){return this._changeOnEnter},set:function(t){this._changeOnEnter=d(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this._disabled},set:function(t){this._disabled=d(t),this.validateModel(this.selectedValue)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this._options},set:function(t){this._options=Array.isArray(t)?t:[],this.cacheStaticOptions=this.options,this.validAndSortOptions(),w(this.options),this.updateComboList()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"setSort",{set:function(t){this.sort=""===t||d(t),this.validAndSortOptions()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filterMode",{get:function(){return this._filterMode},set:function(t){switch(this._filterMode=t in ne?t:ne.startsWith,this._filterMode.toString()){case"startsWith":this._filterMode=ne.startsWith;break;case"contains":this._filterMode=ne.contains;break;case"endsWith":this._filterMode=ne.endsWith}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filterParams",{get:function(){return this._filterParams},set:function(t){this._filterParams=t||0===t||!1===t?t:void 0},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.updateComboList()},t.prototype.onInitService=function(){this.filterService&&(this.setService(this.filterService),this.initInputObservable())},t.prototype.setService=function(t){t&&(g(t,"object")?this.service=t:(this.service=this.defaultService,this.service.configProperties(t,this.fieldLabel,this.fieldValue)))},t.prototype.validAndSortOptions=function(){if(this.options&&this.options.length>0)for(var t=0;t<this.options.length;t++)I(this.options[t].value)?this.options[t].label||(this.options[t].label=this.options[t].value.toString()):this.options.splice(t,1);this.sortOptions()},t.prototype.sortOptions=function(){this.options&&this.options.length>0&&this.sort&&this.options.sort(this.compareOptions)},t.prototype.compareOptions=function(t,e){return t.label.toString().toLowerCase()<e.label.toString().toLowerCase()?-1:t.label.toString().toLowerCase()>e.label.toString().toLowerCase()?1:0},t.prototype.compareMethod=function(t,e,i){switch(i){case ne.startsWith:return this.startsWith(t,e);case ne.contains:return this.contains(t,e);case ne.endsWith:return this.endsWith(t,e)}},t.prototype.startsWith=function(t,e){return e.label.toLowerCase().startsWith(t.toLowerCase())},t.prototype.contains=function(t,e){return e.label.toLowerCase().indexOf(t.toLowerCase())>-1},t.prototype.endsWith=function(t,e){return e.label.toLowerCase().endsWith(t.toLowerCase())},t.prototype.getOptionFromValue=function(t,e){var i=this;return e?e.find(function(e){return i.isEqual(e.value,t)}):null},t.prototype.getOptionFromLabel=function(t,e){return e?e.find(function(e){return e.label.toString().toLowerCase()===t.toString().toLowerCase()}):null},t.prototype.updateSelectedValue=function(t,e,i){void 0===e&&(e=!0),void 0===i&&(i=!1);var n=t&&t.label||"";if(this.updateInternalVariables(t),this.changeOnEnter&&e?this.setInputValue(n):this.changeOnEnter||this.setInputValue(n),e){var o=t&&t.value||void 0;this.updateModel(o,i)}},t.prototype.callModelChange=function(t){return this.onModelChange?this.onModelChange(t):this.ngModelChange.emit(t)},t.prototype.isEqual=function(t,e){return(t||0===t)&&e?t.toString()===e.toString():((null===t&&null!==e||void 0===t&&void 0!==e)&&(t=""+t),t===e)},t.prototype.searchForLabel=function(t,e,i){var n=this;if(t&&e&&e.length){var o=[];e.forEach(function(e){e.label&&(n.compareMethod(t,e,i)||n.service)&&o.push(e)}),this.selectedView=o[0],this.updateComboList(o)}else this.updateComboList()},t.prototype.updateComboList=function(t){var e=t||this.options.slice(),i=!t&&this.selectedValue?[oe({},this.selectedOption)]:e;i&&(this.visibleOptions=i,!this.selectedView&&this.visibleOptions.length&&(this.selectedView=this.visibleOptions[0]))},t.prototype.getNextOption=function(t,e,i){void 0===i&&(i=!1);var n=[].concat(e),o=null,r=!1;i&&n.reverse();for(var s=0;s<n.length;s++){var a=n[s];if(o||(o=a),r)return a;this.isEqual(a.value,t)&&(r=!0)}return o},t.prototype.getIndexSelectedView=function(){for(var t=0;t<this.visibleOptions.length;t++)if(this.compareObjects(this.visibleOptions[t],this.selectedView))return t;return null},t.prototype.compareObjects=function(t,e){return JSON.stringify(t)===JSON.stringify(e)},t.prototype.verifyValidOption=function(){var t=this.getInputValue(),e=this.getOptionFromLabel(t,this.options);if(e&&e.value!==this.selectedValue)return this.updateSelectedValue(e),void(this.previousSearchValue=e.label);if(this.selectedValue&&this.selectedOption&&this.selectedOption.label!==t)return this.updateSelectedValueWithOldOption(),void(this.previousSearchValue=this.selectedOption.label);if(t&&!e){var i=!(!this.selectedOption||this.selectedOption.label===t);return this.updateSelectedValue(null,i||this.changeOnEnter),void(this.previousSearchValue="")}},t.prototype.writeValue=function(t){if(I(t)&&!this.service&&this.options&&this.options.length){var e=this.getOptionFromValue(t,this.options);return this.updateSelectedValue(e),void this.updateComboList()}if(t&&this.service)return this.getObjectByValue(t);I(t)||(this.updateSelectedValue(null,!0,!0),this.updateComboList())},t.prototype.registerOnChange=function(t){this.onModelChange=t},t.prototype.registerOnTouched=function(t){this.onModelTouched=t},t.prototype.registerOnValidatorChange=function(t){this.validatorChange=t},t.prototype.validate=function(t){if(Kt(this.required,this.disabled,t.value))return{required:{valid:!1}}},t.prototype.validateModel=function(t){this.validatorChange&&this.validatorChange(t)},t.prototype.configAfterSetFilterService=function(t){t?(this.options=[],this.unsubscribeKeyupObservable(),this.onInitService()):(this.service=void 0,this.options=this.cacheStaticOptions),this.visibleOptions=[],this.isFirstFilter=!0},t.prototype.unsubscribeKeyupObservable=function(){this.keyupSubscribe&&this.keyupSubscribe.unsubscribe()},t.prototype.updateInternalVariables=function(t){t?(this.selectedView=t,this.selectedOption=t):(this.selectedView=void 0,this.selectedOption=void 0)},t.prototype.updateModel=function(t,e){void 0===e&&(e=!1),t!==this.selectedValue&&(e||this.callModelChange(t),this.change.emit(t)),this.selectedValue=t},t.prototype.updateSelectedValueWithOldOption=function(){var t=this.getOptionFromValue(this.selectedValue,this.options);if(t&&t.label)return this.updateSelectedValue(t)},t.propDecorators={label:[{type:e.Input,args:["t-label"]}],help:[{type:e.Input,args:["t-help"]}],placeholder:[{type:e.Input,args:["t-placeholder"]}],name:[{type:e.Input,args:["name"]}],filterService:[{type:e.Input,args:["t-filter-service"]}],debounceTime:[{type:e.Input,args:["t-debounce-time"]}],disabledInitFilter:[{type:e.Input,args:["t-disabled-init-filter"]}],fieldValue:[{type:e.Input,args:["t-field-value"]}],fieldLabel:[{type:e.Input,args:["t-field-label"]}],filterMinlength:[{type:e.Input,args:["t-filter-minlength"]}],required:[{type:e.Input,args:["t-required"]}],changeOnEnter:[{type:e.Input,args:["t-change-on-enter"]}],disabled:[{type:e.Input,args:["t-disabled"]}],options:[{type:e.Input,args:["t-options"]}],setSort:[{type:e.Input,args:["t-sort"]}],filterMode:[{type:e.Input,args:["t-filter-mode"]}],filterParams:[{type:e.Input,args:["t-filter-params"]}],change:[{type:e.Output,args:["t-change"]}],ngModelChange:[{type:e.Output,args:["ngModelChange"]}]},t}(),se=function(){function t(t){this.http=t,this.fieldLabel="label",this.fieldValue="value"}return Object.defineProperty(t.prototype,"url",{get:function(){return this._url},enumerable:!0,configurable:!0}),t.prototype.getFilteredData=function(t,e){var i=this,o=t.value,r=new s.HttpParams({fromString:"filter="+o});return this.http.get(""+this.url,{responseType:"json",params:r}).pipe(n.map(function(t){return i.parseToArrayComboOption(t.items)}))},t.prototype.getObjectByValue=function(t,e){var i=this;return this.http.get(this.url+"/"+t).pipe(n.map(function(t){return i.parseToComboOption(t)}))},t.prototype.configProperties=function(t,e,i){this._url=t,this.fieldLabel=e,this.fieldValue=i},t.prototype.parseToArrayComboOption=function(t){var e=this;return t&&t.length>0?t.map(function(t){return e.parseToComboOption(t)}):[]},t.prototype.parseToComboOption=function(t){if(t&&t[this.fieldValue])return{label:t[this.fieldLabel],value:t[this.fieldValue]}},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:s.HttpClient}]},t}(),ae=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),le=function(){return(le=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},ce=function(t){function i(e,i,n,o,r){var s=t.call(this)||this;return s.element=e,s.differs=i,s.defaultService=n,s.renderer=o,s.sanitized=r,s.comboIcon="thf-icon-arrow-down",s.comboOpen=!1,s.isProcessingGetObjectByValue=!1,s.isServerSearching=!1,s.scrollTop=0,s.shouldMarkLetters=!0,s.differ=i.find([]).create(null),s}return ae(i,t),i.prototype.ngDoCheck=function(){this.differ.diff(this.options)&&(this.validAndSortOptions(),w(this.options))},i.prototype.ngOnDestroy=function(){this.filterSubscription&&this.filterSubscription.unsubscribe(),this.getSubscription&&this.getSubscription.unsubscribe()},i.prototype.onKeyDown=function(t){var e=t.target.value;if(this.service&&9===t.keyCode&&e)return this.controlComboVisibility(!1),this.getObjectByValue(e);if(38===t.keyCode||40===t.keyCode)return t.preventDefault(),this.comboOpen&&(38===t.keyCode?this.selectPreviousOption():this.selectNextOption()),this.controlComboVisibility(!0),this.isFiltering=!!this.changeOnEnter&&this.isFiltering,void(this.shouldMarkLetters=!!this.changeOnEnter&&this.shouldMarkLetters);if(9===t.keyCode||27===t.keyCode)return 27===t.keyCode&&this.comboOpen&&(t.preventDefault(),t.stopPropagation()),this.controlComboVisibility(!1),this.verifyValidOption(),void(this.service||(this.selectedView=this.changeOnEnter&&!this.selectedValue?void 0:this.selectedView,this.updateComboList()));if(13===t.keyCode&&this.selectedView&&this.comboOpen){var i=this.selectedView.value!==this.selectedValue||e!==this.selectedView.label;return this.controlComboVisibility(!1),this.updateSelectedValue(this.selectedView,i),this.isFiltering=!1,void this.updateComboList()}this.controlComboVisibility(!0)},i.prototype.onKeyUp=function(t){var e=t.keyCode||t.which,i=t.target.value;if(38!==e&&40!==e&&13!==e)if(i)this.service||this.previousSearchValue===i||(this.shouldMarkLetters=!0,this.isFiltering=!0,this.searchForLabel(i,this.options,this.filterMode));else{var n=this.service&&this.selectedValue&&this.selectedOption.label===this.previousSearchValue;this.updateSelectedValue(null),this.service?n&&this.updateComboList(this.cacheOptions.slice()):this.updateComboList(),this.isFiltering=!1}this.previousSearchValue=i},i.prototype.initInputObservable=function(){var t=this;if(this.service){var e=r.fromEvent(this.inputElement.nativeElement,"keyup").pipe(n.filter(function(e){return t.isValidCharacterToSearch(e.keyCode)}),n.map(function(t){return t.currentTarget.value}),n.distinctUntilChanged(),n.tap(function(){t.shouldMarkLetters=!1}),n.debounceTime(this.debounceTime));this.keyupSubscribe=e.subscribe(function(e){(e.length>=t.filterMinlength||!e)&&t.controlApplyFilter(e)})}},i.prototype.controlApplyFilter=function(t){this.isProcessingGetObjectByValue||this.selectedOption&&t===this.selectedOption.label||this.applyFilter(t)},i.prototype.applyFilter=function(t){var e=this;this.isServerSearching=!0,this.controlComboVisibility(!1);var i={property:this.fieldLabel,value:t};this.filterSubscription=this.service.getFilteredData(i,this.filterParams).subscribe(function(i){return e.setOptionsByApplyFilter(t,i)})},i.prototype.setOptionsByApplyFilter=function(t,e){this.shouldMarkLetters=!0,this.isServerSearching=!1,this.options=e,this.searchForLabel(t,e,this.filterMode),this.controlComboVisibility(!0),this.isFirstFilter&&(this.isFirstFilter=!this.isFirstFilter,this.cacheOptions=this.options)},i.prototype.getObjectByValue=function(t){var e=this;this.selectedValue||(this.isProcessingGetObjectByValue=!0,this.getSubscription=this.service.getObjectByValue(t,this.filterParams).subscribe(function(t){return e.updateOptionByFilteredValue(t)}))},i.prototype.updateOptionByFilteredValue=function(t){var e=this;t?(this.options=[t],this.onOptionClick(t)):this.updateSelectedValue(null),setTimeout(function(){e.isProcessingGetObjectByValue=!1},this.debounceTime)},i.prototype.selectPreviousOption=function(){var t=this.changeOnEnter?this.selectedView&&this.selectedView.value:this.selectedValue;if(t){var e=this.getNextOption(t,this.visibleOptions,!0);this.updateSelectedValue(e,e&&e.value!==t&&!this.changeOnEnter)}else if(this.visibleOptions.length){var i=this.visibleOptions[this.visibleOptions.length-1];this.updateSelectedValue(i,i.value!==t&&!this.changeOnEnter)}},i.prototype.selectNextOption=function(){var t=this.changeOnEnter?this.selectedView&&this.selectedView.value:this.selectedValue;if(t){var e=this.getNextOption(t,this.visibleOptions);this.updateSelectedValue(e,e&&e.value!==t&&!this.changeOnEnter)}else if(this.visibleOptions.length){var i=this.changeOnEnter?1:0,n=this.visibleOptions[i];this.updateSelectedValue(n,n.value!==t&&!this.changeOnEnter)}},i.prototype.toggleComboVisibility=function(){this.disabled||(this.service&&!this.disabledInitFilter&&this.applyFilterInFirstClick(),this.controlComboVisibility(!this.comboOpen))},i.prototype.applyFilterInFirstClick=function(){this.isFirstFilter&&!this.selectedValue&&this.applyFilter("")},i.prototype.controlComboVisibility=function(t){this.comboIcon=t?"thf-icon-arrow-up":"thf-icon-arrow-down",this.options&&this.options.length&&(t&&!this.selector(".thf-combo-content").classList.contains("thf-combo-show")?(this.selector(".thf-combo-content").classList.add("thf-combo-show"),this.initializeListeners()):!t&&this.selector(".thf-combo-content").classList.contains("thf-combo-show")&&(this.selector(".thf-combo-content").classList.remove("thf-combo-show"),this.removeListeners())),this.comboOpen=t,t?(this.inputElement.nativeElement.focus(),this.scrollTo(this.getIndexSelectedView())):this.isFiltering=!1},i.prototype.onOptionClick=function(t){var e=this.getInputValue(),i=t.value!==this.selectedValue||!(!this.selectedView||e===this.selectedView.label);this.updateSelectedValue(t,i),this.controlComboVisibility(!1),this.updateComboList([le({},this.selectedView)]),this.previousSearchValue=this.selectedView.label},i.prototype.scrollTo=function(t){this.scrollTop=t<=2?0:44*t-88},i.prototype.getInputValue=function(){return this.inputElement.nativeElement.value},i.prototype.setInputValue=function(t){this.inputElement.nativeElement.value=t},i.prototype.selector=function(t){return this.element.nativeElement.querySelector(t)},i.prototype.wasClickedOnToggle=function(t){this.inputElement.nativeElement.contains(t.target)||this.iconElement.nativeElement.contains(t.target)||this.contentElement.nativeElement.contains(t.target)||!this.comboOpen||(this.controlComboVisibility(!1),this.verifyValidOption(),this.selectedView=this.changeOnEnter&&!this.selectedValue?void 0:this.selectedView,this.updateComboList())},i.prototype.getLabelFormatted=function(t){var e=t;if(this.isFiltering||this.service&&this.getInputValue()&&!this.compareObjects(this.cacheOptions,this.visibleOptions)&&this.shouldMarkLetters){var i=this.getInputValue().toString().toLowerCase(),n=t.toLowerCase(),o='<span class="thf-font-text-large-bold">';switch(this.filterMode){case ne.startsWith:case ne.contains:e=t.substring(0,n.indexOf(i))+o+t.substring(n.indexOf(i),n.indexOf(i)+i.length)+"</span>"+t.substring(n.indexOf(i)+i.length);break;case ne.endsWith:e=t.substring(0,n.lastIndexOf(i))+o+t.substring(n.lastIndexOf(i))+"</span>"}}return this.safeHtml(e)},i.prototype.safeHtml=function(t){return this.sanitized.bypassSecurityTrustHtml(t)},i.prototype.isValidCharacterToSearch=function(t){return 9!==t&&13!==t&&16!==t&&17!==t&&18!==t&&20!==t&&27!==t&&37!==t&&38!==t&&39!==t&&40!==t&&93!==t},i.prototype.searchOnEnter=function(t){this.service&&!this.selectedView&&t.length>=this.filterMinlength&&this.controlApplyFilter(t)},i.prototype.initializeListeners=function(){var t=this;this.clickoutListener=this.renderer.listen("document","click",function(e){t.wasClickedOnToggle(e)})},i.prototype.removeListeners=function(){this.clickoutListener&&this.clickoutListener()},i.decorators=[{type:e.Component,args:[{selector:"thf-combo",template:'<thf-field-container [t-label]="label" [t-help]="help" [t-opcional]="!required"> <div class="thf-field-container-content"> <input #inputElement class="thf-input thf-combo-input" autocomplete="off" type="text" [attr.name]="name" [disabled]="disabled" [placeholder]="placeholder" [required]="required" (click)="toggleComboVisibility()" (keyup)="onKeyUp($event)" (keyup.enter)="searchOnEnter($event.target.value)" (keydown)="onKeyDown($event)"> <div class="thf-field-icon-container-right"> <span #icon class="thf-icon thf-field-icon {{ comboIcon }}" [class.thf-field-icon-disabled]="disabled" [class.thf-field-icon]="!disabled" (click)="toggleComboVisibility()"> </span> </div> <ul #contentElement class="thf-combo-content" [scrollTop]="scrollTop"> <li *ngFor="let option of visibleOptions" [value]="option.value" (click)="onOptionClick(option)" [class.thf-combo-item-selected]="compareObjects(selectedView, option)"> <a class="thf-combo-item" [innerHTML]="getLabelFormatted(option?.label)"></a> </li> </ul> <div class="thf-combo-content-loading" *ngIf="isServerSearching"> <thf-loading></thf-loading> </div> </div> <thf-field-container-bottom></thf-field-container-bottom> </thf-field-container> ',providers:[se,{provide:l.NG_VALUE_ACCESSOR,useExisting:e.forwardRef(function(){return i}),multi:!0},{provide:l.NG_VALIDATORS,useExisting:e.forwardRef(function(){return i}),multi:!0}]}]}],i.ctorParameters=function(){return[{type:e.ElementRef},{type:e.IterableDiffers},{type:se},{type:e.Renderer2},{type:c.DomSanitizer}]},i.propDecorators={contentElement:[{type:e.ViewChild,args:["contentElement",{read:e.ElementRef}]}],iconElement:[{type:e.ViewChild,args:["icon",{read:e.ElementRef}]}],inputElement:[{type:e.ViewChild,args:["inputElement",{read:e.ElementRef}]}]},i}(re),ue=function(){function t(t,e){this.mask="",this.formatModel=!1,this.initialPosition=0,this.finalPosition=0,this.pattern="",this.mask=t,this.formatModel=e,this.pattern=this.getRegexFromMask(t)}return Object.defineProperty(t.prototype,"getPattern",{get:function(){return this.pattern},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"getValueToInput",{get:function(){return this.valueToInput},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"setValueToInput",{set:function(t){this.valueToInput=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"getValueToModel",{get:function(){return this.valueToModel},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"setValueToModel",{set:function(t){this.valueToModel=t},enumerable:!0,configurable:!0}),t.prototype.keyup=function(t){if(this.mask){var e=t.target.value;switch(17!==t.keyCode&&91!==t.keyCode||(t.target.value=this.controlFormatting(e),this.resetPositions(t)),t.preventDefault(),t.keyCode){case 37:this.initialPosition>0&&this.initialPosition--,this.setPositionNotShiftKey(t),this.setSelectionRange(t);break;case 39:this.initialPosition<e.toString().length&&this.initialPosition++,this.setPositionNotShiftKey(t),this.setSelectionRange(t);break;case 35:this.finalPosition=e.toString().length,t.shiftKey?this.setPositions(t):(this.initialPosition=this.finalPosition,this.setPositions(t));break;case 36:t.shiftKey?(this.finalPosition=this.initialPosition,this.initialPosition=0,this.setPositions(t)):(this.initialPosition=0,this.finalPosition=0,this.setPositions(t))}}},t.prototype.setPositionNotShiftKey=function(t){t.shiftKey||(this.finalPosition=this.initialPosition)},t.prototype.setSelectionRange=function(t){this.initialPosition>this.finalPosition?t.target.setSelectionRange(this.finalPosition,this.initialPosition):t.target.setSelectionRange(this.initialPosition,this.finalPosition)},t.prototype.keydown=function(t){if(this.mask){var e=t.target.value;if(9===t.keyCode)return;if(t.ctrlKey||t.metaKey||t.preventDefault(),t.ctrlKey||t.metaKey&&86!==t.keyCode||t.keyCode>=37&&t.keyCode<=40||16===t.keyCode||9===t.keyCode)return;if(this.isKeyValid(t.keyCode))switch(null===this.finalPosition&&(this.finalPosition=this.initialPosition),this.revertPositions(this.initialPosition,this.finalPosition),t.keyCode){case 8:this.getPosition(t),this.initialPosition<0&&(this.initialPosition=0,this.setPositions(t)),this.initialPosition===this.finalPosition?(this.checkMaskBefore(t,-1),0!==this.initialPosition&&(e=e.slice(0,this.initialPosition-1)+e.slice(this.finalPosition),e=this.controlFormatting(e),t.target.value=e,this.changePosition(t,-1),this.checkMaskBefore(t,-1),this.setPositions(t),this.resetPositions(t))):this.clearRangeSelection(e,t,!0),this.setPositions(t);break;case 46:this.getPosition(t),this.initialPosition===this.finalPosition?(this.checkMaskAfter(t,1),e=e.slice(0,this.initialPosition)+e.slice(this.finalPosition+1),e=this.controlFormatting(e),t.target.value=e,this.setPositions(t),this.resetPositions(t)):this.clearRangeSelection(e,t,!1),this.setPositions(t);break;default:e=e.slice(0,this.initialPosition)+t.key+e.slice(this.finalPosition),e=this.controlFormatting(e),t.target.value=e,this.changePosition(t,1),this.checkMaskBefore(t,1),this.setPositions(t),this.resetPositions(t),this.setPositions(t)}}},t.prototype.clearRangeSelection=function(t,e,i){t=t.slice(0,this.initialPosition)+t.slice(this.finalPosition),t=this.controlFormatting(t),e.target.value=t,i&&this.checkMaskBefore(e,-1),this.setPositions(e),this.resetPositions(e)},t.prototype.click=function(t){this.initialPosition=t.target.selectionStart,this.finalPosition=t.target.selectionEnd},t.prototype.blur=function(t){if(this.mask){var e=t.target.value;e=this.controlFormatting(e),t.target.value=e}},t.prototype.revertPositions=function(t,e){if(t>e){var i;i=t,this.initialPosition=e,this.finalPosition=i}},t.prototype.resetPositions=function(t){this.initialPosition=t.target.selectionStart,this.finalPosition=this.initialPosition},t.prototype.setPositions=function(t){t.target.setSelectionRange(this.initialPosition,this.finalPosition)},t.prototype.changePosition=function(t,e){this.initialPosition=this.initialPosition+e,this.finalPosition=this.finalPosition+e,this.setPositions(t)},t.prototype.getPosition=function(t){this.initialPosition=t.target.selectionStart,this.finalPosition=t.target.selectionEnd,this.setPositions(t)},t.prototype.controlFormatting=function(t){if(!t)return this.valueToInput="",this.valueToModel="","";for(var e,i=this.mask,n=[],o=0;this.hasOptionalNumber(i);)n.push(i),i=this.replaceOptionalNumber(i);for(n.push(i),n.reverse(),this.formattingEnds=!1;!this.formattingEnds&&(this.formattingEnds=!0,n[o]);)e=this.formatValue(t,n[o]),o++;return e},t.prototype.formatValue=function(t,e){var i=(e=e.replace(/\?/g,"")).replace(this.listValidKeys(),"_"),n=0,o="";t=this.removeFormattingValue(t);for(var r=0;r<t.length;r++){var s=t[r];if(!i[n]){this.formattingEnds=!1;break}for(;this.isFixedCharacterGuide(i[n])&&i[n];)o+=i[n],n++;if(!this.isKeyValidMask(s,e[n]))break;o+=s,n++}return this.formatModel?(this.valueToInput=o,this.valueToModel=o):(this.valueToInput=o,this.valueToModel=this.removeFormattingValue(o)),o},t.prototype.checkMaskBefore=function(t,e){this.isFixedCharacterGuide(t.target.value.toString().charAt(this.initialPosition-1))&&(this.changePosition(t,e),this.checkMaskBefore(t,e))},t.prototype.checkMaskAfter=function(t,e){this.isFixedCharacterGuide(t.target.value.toString().charAt(this.initialPosition))&&(this.changePosition(t,e),this.checkMaskAfter(t,e))},t.prototype.replaceOptionalNumber=function(t){for(var e=9;e>=0;){if(t.indexOf(e+"?")>-1)return t.replace(e+"?","");e--}return t},t.prototype.isFixedCharacterGuide=function(t){return this.testRegex(t,this.getFixedCharacterGuide())},t.prototype.getFixedCharacterGuide=function(){return/[\\\/() +-.\:]/g},t.prototype.listValidKeys=function(){return/[a-zA-Z0-9]/g},t.prototype.isKeyValid=function(t){return this.isKeyCodeValid(t)},t.prototype.isKeyCodeValid=function(t){return t>=48&&t<=57||t>=65&&t<=90||t>=96&&t<=105||8===t||9===t||46===t},t.prototype.isKeyValidMask=function(t,e){return this.testRegex(t,this.replaceMask(e))},t.prototype.testRegex=function(t,e){return e.test(t)},t.prototype.removeFormattingValue=function(t){return t.replace(this.getFixedCharacterGuide(),"")},t.prototype.hasOptionalNumber=function(t){return t.match(/\d\?/g)},t.prototype.replaceMask=function(t){var e=/./;switch(t){case"0":e=/[0]/;break;case"1":e=/[0-1]/;break;case"2":e=/[0-2]/;break;case"3":e=/[0-3]/;break;case"4":e=/[0-4]/;break;case"5":e=/[0-5]/;break;case"6":e=/[0-6]/;break;case"7":e=/[0-7]/;break;case"8":e=/[0-8]/;break;case"9":e=/[0-9]/;break;case" ":e=/\s/;break;case"@":e=/[a-zA-Z]/;break;case"w":e=/[a-zA-Z0-9]/}return e},t.prototype.getRegexFromMask=function(t){if(t){return this.formatModel?t.replace(/\\/g,"\\\\").replace(/\+/g,"\\+").replace(/\./g,"\\.").replace(/-/g,"-").replace(/\(/g,"\\(").replace(/\)/g,"\\)").replace(/\//g,"\\/").replace(/\s/g,"\\s").replace(/:/g,"\\:").replace(/\@(?!\s)/g,"\\w").replace(/\d/g,"\\w"):t.replace(/\\/g,"").replace(/\+/g,"").replace(/\./g,"").replace(/-/g,"").replace(/\(/g,"").replace(/\)/g,"").replace(/\//g,"").replace(/\s/g,"").replace(/:/g,"").replace(/\@/g,"\\w").replace(/\d/g,"\\w")}return null},t}(),pe="dd/mm/yyyy",he=function(){function t(){this._format=pe,this._placeholder="",this.firstStart=!0,this.hour="T00:00:01-00:00",this.isExtendedISO=!0,this.onChangeModel=null,this.onTouchedModel=null,this.disabled=!1,this.readonly=!1,this.required=!1,this.focus=!1,this.clean=!1,this.errorPattern="",this.onblur=new e.EventEmitter,this.onchange=new e.EventEmitter}return Object.defineProperty(t.prototype,"placeholder",{get:function(){return this._placeholder},set:function(t){this._placeholder=g(t,"string")?t:""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"setDisabled",{set:function(t){this.disabled=""===t||d(t),this.validateModel(y(this.date,this.hour))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"setReadonly",{set:function(t){this.readonly=""===t||d(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"setRequired",{set:function(t){this.required=""===t||d(t),this.validateModel(y(this.date,this.hour))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"setFocus",{set:function(t){this.focus=""===t||d(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"setClean",{set:function(t){this.clean=""===t||d(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"setDateStart",{set:function(t){if(t instanceof Date){var e=t.getFullYear(),i=new Date(e,t.getMonth(),t.getDate(),0,0,0);C(i,e),this.start=i}else this.start=m(t,!0,!1);this.validateModel(y(this.date,this.hour))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"setDateEnd",{set:function(t){if(t instanceof Date){var e=t.getFullYear(),i=new Date(e,t.getMonth(),t.getDate(),23,59,59);C(i,e),this.end=i}else this.end=m(t,!1,!0);this.validateModel(y(this.date,this.hour))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"format",{get:function(){return this._format},set:function(t){if(t&&(t=t.toLowerCase()).match(/dd/)&&t.match(/mm/)&&t.match(/yyyy/))return this._format=t,this.objMask=this.buildMask(),void this.refreshValue(this.date);this._format=pe,this.objMask=this.buildMask()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"locale",{get:function(){return this._locale||navigator.language},set:function(t){this._locale=t?t.length>=2?t:"pt":navigator.language},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.objMask=this.buildMask()},t.prototype.getDateFromString=function(t){var e=parseInt(t.substring(this.format.indexOf("d"),this.format.indexOf("d")+2),10),i=parseInt(t.substring(this.format.indexOf("m"),this.format.indexOf("m")+2),10)-1,n=parseInt(t.substring(this.format.indexOf("y"),this.format.indexOf("y")+4),10),o=new Date(n,i,e);return C(o,n),o.getFullYear()===n&&o.getMonth()===i&&o.getDate()===e?o:null},t.prototype.formatToDate=function(t){var e=this.format;return e=(e=(e=e.replace("dd",("0"+t.getDate()).slice(-2))).replace("mm",("0"+(t.getMonth()+1)).slice(-2))).replace("yyyy",b(t.getFullYear()))},t.prototype.controlModel=function(t){this.date=t,t&&this.isExtendedISO?this.callOnChange(y(this.date,this.hour)):t&&!this.isExtendedISO?this.callOnChange(function(t){if(t){var e=t.getMonth()+1,i=t.getDate()<10?"0"+t.getDate():t.getDate(),n=e<10?"0"+e:e;return b(t.getFullYear())+"-"+n+"-"+i}return null}(this.date)):void 0===t?this.callOnChange(""):this.callOnChange("Data inválida")},t.prototype.callOnChange=function(t){this.onChangeModel&&this.onChangeModel(t)},t.prototype.registerOnChange=function(t){this.onChangeModel=t},t.prototype.registerOnTouched=function(t){this.onTouchedModel=t},t.prototype.registerOnValidatorChange=function(t){this.validatorChange=t},t.prototype.validateModel=function(t){this.validatorChange&&this.validatorChange(t)},t.prototype.buildMask=function(){var t=this.format.toUpperCase();return t=(t=(t=t.replace(/DD/g,"99")).replace(/MM/g,"99")).replace(/YYYY/g,"9999"),new ue(t,!0)},t.prototype.validate=function(t){return this.errorPattern="Data inválida"!==this.errorPattern&&"Data fora do período"!==this.errorPattern?this.errorPattern:"",(e=t.value)&&isNaN(Date.parse(e))?(this.errorPattern=this.errorPattern||"Data inválida",{date:{valid:!1}}):Kt(this.required,this.disabled,t.value)?{required:{valid:!1}}:this.date&&!S(this.date,this.start,this.end)?(this.errorPattern=this.errorPattern||"Data fora do período",{date:{valid:!1}}):null;var e},t.propDecorators={name:[{type:e.Input,args:["name"]}],placeholder:[{type:e.Input,args:["t-placeholder"]}],setDisabled:[{type:e.Input,args:["t-disabled"]}],setReadonly:[{type:e.Input,args:["t-readonly"]}],setRequired:[{type:e.Input,args:["t-required"]}],setFocus:[{type:e.Input,args:["t-focus"]}],setClean:[{type:e.Input,args:["t-clean"]}],errorPattern:[{type:e.Input,args:["t-error-pattern"]}],setDateStart:[{type:e.Input,args:["t-start"]}],setDateEnd:[{type:e.Input,args:["t-end"]}],format:[{type:e.Input,args:["t-format"]}],locale:[{type:e.Input,args:["t-locale"]}],onblur:[{type:e.Output,args:["t-blur"]}],onchange:[{type:e.Output,args:["t-change"]}]},t}(),de=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),fe="bottom-left",ge=function(t){function i(e,i,n){var o=t.call(this)||this;return o.controlPosition=e,o.renderer=i,o.dateRegex=new RegExp("^(?:[0-9])\\d{1}(?:[0-9])\\d{1}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[12]\\d|3[01])$"),o.isoRegex=new RegExp("^(?:[0-9])\\d{1}(?:[0-9])\\d{1}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[12]\\d|3[01])T(?:[01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d(?:Z|-0[1-9]|-1\\d|-2[0-3]|-00:?(?:0[1-9]|[0-5]\\d)|\\+[01]\\d|\\+2[0-3])(?:|:?[0-5]\\d)$"),o.onScroll=function(){o.controlPosition.adjustPosition(fe)},o.el=n,o}return de(i,t),i.prototype.ngAfterViewInit=function(){this.setDialogPickerStyleDisplay("none"),this.focus&&this.inputEl.nativeElement.focus()},i.prototype.ngOnDestroy=function(){this.removeListeners()},i.prototype.togglePicker=function(){this.disabled||this.readonly||(this.calendar.visible?(this.inputEl.nativeElement.disabled=!1,this.closeCalendar()):(this.calendar.init(),this.setCalendarPosition(),this.initializeListeners()))},i.prototype.dateSelected=function(){this.inputEl.nativeElement.focus(),this.inputEl.nativeElement.value=this.formatToDate(this.date),this.controlModel(this.date),this.closeCalendar()},i.prototype.wasClickedOnPicker=function(t){this.dialogPicker&&this.iconDatepicker&&(this.dialogPicker.nativeElement.contains(t.target)&&!this.hasOverlayClass(t.target)||this.iconDatepicker.nativeElement.contains(t.target)||this.hasAttrCalendar(t.target)||this.closeCalendar())},i.prototype.onKeyup=function(t){this.readonly||(this.objMask.keyup(t),this.objMask.valueToModel||""===this.objMask.valueToModel?this.objMask.valueToModel.length>=10?(this.controlModel(this.getDateFromString(this.inputEl.nativeElement.value)),this.date=this.getDateFromString(this.inputEl.nativeElement.value)):(this.date=void 0,this.controlModel(this.date)):this.date=void 0)},i.prototype.onKeydown=function(t){this.readonly||this.objMask.keydown(t)},i.prototype.hasInvalidClass=function(){return this.el.nativeElement.classList.contains("ng-invalid")&&this.el.nativeElement.classList.contains("ng-dirty")&&""!==this.inputEl.nativeElement.value},i.prototype.getErrorPattern=function(){return""!==this.errorPattern&&this.hasInvalidClass()?this.errorPattern:""},i.prototype.clear=function(){this.valueBeforeChange=this.formatToDate(this.date),this.date=void 0,this.controlModel(this.date),this.controlChangeEmitter()},i.prototype.eventOnBlur=function(t){var e=this.inputEl.nativeElement.value,i=e?this.getDateFromString(e):void 0;this.objMask.blur(t),this.onblur.emit(),this.objMask.valueToModel?this.objMask.valueToModel.length>=10?(this.controlModel(i),this.date=i):(this.date=void 0,this.controlModel(this.date)):(this.date=void 0,this.callOnChange(this.date)),this.controlChangeEmitter()},i.prototype.eventOnChange=function(t){var e=this.inputEl.nativeElement.value;this.verifyMobile()&&(this.controlModel(e),this.callOnChange(e)),this.onchange.emit(e)},i.prototype.eventOnClick=function(t){var e=this;this.verifyMobile()?(t.target.blur(),setTimeout(function(){return e.togglePicker()},0)):this.objMask.click(t)},i.prototype.formatToDate=function(t){if(t){var e=this.format;return e=(e=(e=e.replace("dd",("0"+t.getDate()).slice(-2))).replace("mm",("0"+(t.getMonth()+1)).slice(-2))).replace("yyyy",b(t.getFullYear()))}},i.prototype.refreshValue=function(t){t&&(this.inputEl.nativeElement.value=this.formatToDate(t))},i.prototype.writeValue=function(t){if(this.inputEl&&t){if(t instanceof Date){var e=t.toString();this.hour="T"+e.substring(16,24)+e.substring(28,31)+":"+e.substring(31,33),this.date=t,this.inputEl.nativeElement.value=this.formatToDate(t)}else if(this.isValidDateIso(t)||this.isValidExtendedIso(t)){this.isValidDateIso(t)?this.isExtendedISO=!1:(this.hour=t.substring(10,25),this.isExtendedISO=!0);var i=parseInt(t.substring(8,10),10),n=parseInt(t.substring(5,7),10)-1,o=parseInt(t.substring(0,4),10),r=new Date(o,n,i);C(r,o),this.date=r,this.inputEl.nativeElement.value=this.formatToDate(r)}else this.inputEl.nativeElement.value="",this.date=void 0;this.controlModel(this.date)}else this.inputEl&&(this.inputEl.nativeElement.value="",this.date=void 0);this.valueBeforeChange=this.formatToDate(this.date)},i.prototype.isValidDateIso=function(t){return this.dateRegex.test(t)},i.prototype.isValidExtendedIso=function(t){return this.isoRegex.test(t)},i.prototype.hasOverlayClass=function(t){return t.classList.contains("thf-calendar-overlay")},i.prototype.verifyMobile=function(){return v()},i.prototype.closeCalendar=function(){this.calendar.close(),this.removeListeners(),this.setDialogPickerStyleDisplay("none")},i.prototype.controlChangeEmitter=function(){var t=this,e=this.formatToDate(this.date);e!==this.valueBeforeChange&&(this.valueBeforeChange=e,clearTimeout(this.timeoutChange),this.timeoutChange=setTimeout(function(){t.onchange.emit(e)},200))},i.prototype.hasAttrCalendar=function(t){return t&&t.hasAttribute("attr-calendar")||t.parentElement&&t.parentElement.hasAttribute("attr-calendar")},i.prototype.initializeListeners=function(){var t=this;this.clickListener=this.renderer.listen("document","click",function(e){t.wasClickedOnPicker(e)}),this.eventResizeListener=this.renderer.listen("window","resize",function(){t.closeCalendar()}),window.addEventListener("scroll",this.onScroll,!0)},i.prototype.removeListeners=function(){this.clickListener&&this.clickListener(),this.eventResizeListener&&this.eventResizeListener(),window.removeEventListener("scroll",this.onScroll,!0)},i.prototype.setDialogPickerStyleDisplay=function(t){this.dialogPicker.nativeElement.style.display=t},i.prototype.setCalendarPosition=function(){this.setDialogPickerStyleDisplay("block"),this.controlPosition.setElements(this.dialogPicker.nativeElement,8,this.inputEl,["top-left","bottom-left"],!1,!0),this.controlPosition.adjustPosition(fe)},i.decorators=[{type:e.Component,args:[{selector:"thf-datepicker",template:'<thf-field-container [t-help]="help" [t-label]="label" [t-opcional]="!required"> <div class="thf-field-container-content"> <input #inp class="thf-input thf-datepicker" [ngClass]="clean && inp.value ? \'thf-input-double-icon-right\' : \'thf-input-icon-right\'" type="text" [attr.name]="name" [disabled]="disabled" [placeholder]="placeholder" [readonly]="readonly" [required]="required" (blur)="eventOnBlur($event)" (change)="eventOnChange($event)" (click)="eventOnClick($event)"> <div class="thf-field-icon-container-right"> <thf-clean [t-element-ref]="inputEl" (t-change-event)="clear()"></thf-clean> <span #iconDatepicker class="thf-icon thf-field-icon thf-icon-calendar" [class.thf-field-icon]="!disabled && !readonly" [class.thf-field-icon-disabled]="disabled || readonly" (click)="togglePicker()"> </span> </div> </div> <div #dialogPicker [class.thf-datepicker-popup-calendar]="!verifyMobile()"> <thf-calendar #calendar [(t-selected-date)]="date" [t-date-end]="end" [t-date-start]="start" [t-locale]="locale" (t-submit)="dateSelected()"> </thf-calendar> </div> <thf-field-container-bottom [t-error-pattern]="getErrorPattern()"></thf-field-container-bottom> </thf-field-container> ',providers:[{provide:l.NG_VALUE_ACCESSOR,useExisting:e.forwardRef(function(){return i}),multi:!0},{provide:l.NG_VALIDATORS,useExisting:e.forwardRef(function(){return i}),multi:!0},dt]}]}],i.ctorParameters=function(){return[{type:dt},{type:e.Renderer2},{type:e.ElementRef}]},i.propDecorators={calendar:[{type:e.ViewChild,args:["calendar"]}],dialogPicker:[{type:e.ViewChild,args:["dialogPicker",{read:e.ElementRef}]}],iconDatepicker:[{type:e.ViewChild,args:["iconDatepicker",{read:e.ElementRef}]}],inputEl:[{type:e.ViewChild,args:["inp",{read:e.ElementRef}]}],label:[{type:e.Input,args:["t-label"]}],help:[{type:e.Input,args:["t-help"]}],onKeyup:[{type:e.HostListener,args:["keyup",["$event"]]}],onKeydown:[{type:e.HostListener,args:["keydown",["$event"]]}]},i}(he),me=function(){return(me=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},ye={en:{invalidFormat:"Date in invalid format",startDateGreaterThanEndDate:"Start date greater than end date"},es:{invalidFormat:"Fecha en formato no válido",startDateGreaterThanEndDate:"Fecha de inicio mayor que fecha final"},pt:{invalidFormat:"Data no formato inválido",startDateGreaterThanEndDate:"Data inicial maior que data final"}},be=function(){function t(t){this.thfDateService=t,this.errorMessage="",this._clean=!1,this._readonly=!1,this._required=!1,this.dateRange={start:"",end:""},this.format="dd/mm/yyyy",this.isDateRangeInputFormatValid=!0,this.isStartDateRangeInputValid=!0,this.onChange=new e.EventEmitter}return Object.defineProperty(t.prototype,"isDateRangeInputValid",{get:function(){return this.isDateRangeInputFormatValid&&this.isStartDateRangeInputValid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"clean",{get:function(){return this._clean},set:function(t){this._clean=d(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this._disabled},set:function(t){this._disabled=d(t),this.validateModel(this.dateRange)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endDate",{get:function(){return this._endDate},set:function(t){this._endDate=this.convertPatternDateFormat(t),this.dateRange.end=this.endDate,this.updateScreenByModel(this.dateRange),this.updateModel(this.dateRange)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"literals",{get:function(){return this._literals||ye[h()]},set:function(t){t instanceof Object&&!(t instanceof Array)?this._literals=me({},ye[p],ye[h()],t):this._literals=ye[h()]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"readonly",{get:function(){return this._readonly},set:function(t){this._readonly=d(t),this.validateModel(this.dateRange)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"required",{get:function(){return this._required},set:function(t){this._required=d(t),this.validateModel(this.dateRange)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startDate",{get:function(){return this._startDate},set:function(t){this._startDate=this.convertPatternDateFormat(t),this.dateRange.start=this.startDate,this.updateScreenByModel(this.dateRange),this.updateModel(this.dateRange)},enumerable:!0,configurable:!0}),t.prototype.registerOnChange=function(t){this.onChangeModel=t},t.prototype.registerOnTouched=function(t){this.onTouchedModel=t},t.prototype.registerOnValidatorChange=function(t){this.validatorChange=t},t.prototype.validate=function(t){var e=t.value||{},i=e.start?this.convertPatternDateFormat(e.start):"",n=e.end?this.convertPatternDateFormat(e.end):"";return this.requiredDateRangeFailed(i,n)?(this.errorMessage="",{required:{valid:!1}}):this.dateRangeObjectFailed(t.value)||this.dateRangeFormatFailed(i,n)?(this.errorMessage=this.literals.invalidFormat,{date:{valid:!1}}):this.dateRangeFailed(i,n)?(this.errorMessage=this.literals.startDateGreaterThanEndDate,{date:{valid:!1}}):null},t.prototype.writeValue=function(t){this.resetDateRangeInputValidation(),t&&!this.dateRangeObjectFailed(t)||(this.dateRange={start:"",end:""}),t||this.validateModel(this.dateRange),this.dateRangeObjectFailed(t)&&this.updateModel(t),this.isDateRangeObject(t)&&(this.dateRange={start:this.convertPatternDateFormat(t.start),end:this.convertPatternDateFormat(t.end)},this.updateModel(this.dateRange)),this.updateScreenByModel(this.dateRange)},t.prototype.dateFormatFailed=function(t){return t&&!this.thfDateService.isValidIso(t)},t.prototype.updateModel=function(t){var e="object"==typeof t?me({},t):t;this.onChangeModel&&this.onChangeModel(e)},t.prototype.validateModel=function(t){var e=me({},t);this.validatorChange&&this.validatorChange(e)},t.prototype.convertPatternDateFormat=function(t){return t instanceof Date?this.thfDateService.convertDateToISO(t):t},t.prototype.dateRangeFailed=function(t,e){return!this.thfDateService.isDateRangeValid(e,t)||!this.isStartDateRangeInputValid},t.prototype.dateRangeFormatFailed=function(t,e){return this.dateFormatFailed(e)||this.dateFormatFailed(t)||!this.isDateRangeInputFormatValid},t.prototype.dateRangeObjectFailed=function(t){return t&&!this.isDateRangeObject(t)},t.prototype.isDateRangeObject=function(t){return t&&t.hasOwnProperty("start")&&t.hasOwnProperty("end")},t.prototype.requiredDateRangeFailed=function(t,e){return this.isDateRangeInputValid&&Kt(this.required,this.disabled,t)&&Kt(this.required,this.disabled,e)},t.propDecorators={clean:[{type:e.Input,args:["t-clean"]}],disabled:[{type:e.Input,args:["t-disabled"]}],endDate:[{type:e.Input,args:["t-end-date"]}],help:[{type:e.Input,args:["t-help"]}],label:[{type:e.Input,args:["t-label"]}],literals:[{type:e.Input,args:["t-literals"]}],readonly:[{type:e.Input,args:["t-readonly"]}],required:[{type:e.Input,args:["t-required"]}],startDate:[{type:e.Input,args:["t-start-date"]}],onChange:[{type:e.Output,args:["t-change"]}]},t}(),ve=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Ce=function(){return(Ce=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},we=function(t){function i(e,i){var n=t.call(this,e)||this;return n.thfDatepickerRangeElement=i,n}return ve(i,t),Object.defineProperty(i.prototype,"enableCleaner",{get:function(){return(this.startDateInputValue||this.endDateInputValue)&&!this.disabled&&!this.readonly},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"endDateInputName",{get:function(){return"end-date"},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"endDateInputValue",{get:function(){return this.endDateInput.nativeElement.value},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"getErrorMessage",{get:function(){return""!==this.errorMessage&&this.hasInvalidClass()?this.errorMessage:""},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isDateRangeInputUncompleted",{get:function(){return this.endDateInputValue.length<10&&this.startDateInputValue.length<10},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isDirtyDateRangeInput",{get:function(){return this.endDateInputValue.length>0||this.startDateInputValue.length>0},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"startDateInputName",{get:function(){return"start-date"},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"startDateInputValue",{get:function(){return this.startDateInput.nativeElement.value},enumerable:!0,configurable:!0}),i.getKeyCode=function(t){return t.keyCode||t.which},i.getTargetElement=function(t){return t.target||t.srcElement},i.isValidKey=function(t){return t>=48&&t<=57||t>=96&&t<=105},i.prototype.ngOnInit=function(){this.thfMaskObject=this.buildMask()},i.prototype.clear=function(){this.resetDateRangeInputValidation(),this.dateRange={start:"",end:""},this.updateScreenByModel(this.dateRange),this.updateModel(this.dateRange)},i.prototype.onBlur=function(){this.removeFocusFromDatePickerRangeField()},i.prototype.onFocus=function(){this.applyFocusOnDatePickerRangeField()},i.prototype.onKeydown=function(t){this.readonly||(this.isSetFocusOnBackspace(t)?(t.preventDefault(),this.setFocusOnBackspace()):this.thfMaskObject.keydown(t))},i.prototype.onKeyup=function(t){if(!this.readonly){var e=t.target.name===this.startDateInputName;this.setFocus(t),this.thfMaskObject.keyup(t),this.updateModelByScreen(e)}},i.prototype.resetDateRangeInputValidation=function(){this.isStartDateRangeInputValid=!0,this.isDateRangeInputFormatValid=!0},i.prototype.updateScreenByModel=function(t){var e=this,i={start:t.start,end:t.end},n=this.thfDateService.isDateRangeValid(i.end,i.start),o=function(t){return!e.dateFormatFailed(t)&&n},r=o(i.end)?this.formatModelToScreen(i.end):"",s=o(i.start)?this.formatModelToScreen(i.start):"";this.endDateInput.nativeElement.value=r,this.startDateInput.nativeElement.value=s},i.prototype.applyFocusOnDatePickerRangeField=function(){this.dateRangeField.nativeElement.classList.add("thf-datepicker-range-field-focused")},i.prototype.buildMask=function(){var t=this.format.toUpperCase();return t=(t=(t=t.replace(/DD/g,"99")).replace(/MM/g,"99")).replace(/YYYY/g,"9999"),new ue(t,!0)},i.prototype.formatDate=function(t,e,i,n){void 0===e&&(e=""),void 0===i&&(i=""),void 0===n&&(n="");var o=t;return e=e&&e.includes("T")?e.slice(0,2):e,o=(o=(o=o.replace("dd",("0"+e).slice(-2))).replace("mm",("0"+i).slice(-2))).replace("yyyy",String(n))},i.prototype.formatScreenToModel=function(t){void 0===t&&(t="");var e=t.split("/"),i=e[0],n=e[1],o=e[2];return t?this.formatDate("yyyy-mm-dd",i,n,o):""},i.prototype.formatModelToScreen=function(t){void 0===t&&(t="");var e=t.split("-"),i=e[0],n=e[1],o=e[2];return t?this.formatDate(this.format,o,n,i):""},i.prototype.getDateRangeFormatValidation=function(t,e,i){return this.setDateRangeInputValidation(t,e),{isValid:this.isDateRangeInputFormatValid&&this.isStartDateRangeInputValid,dateRangeModel:this.getValidatedModel(t,e,i)}},i.prototype.getValidatedModel=function(t,e,i){var n={start:"",end:""};return n.end=!i&&!this.isStartDateRangeInputValid||this.dateFormatFailed(e)?"":e,n.start=i&&!this.isStartDateRangeInputValid||this.dateFormatFailed(t)?"":t,n},i.prototype.hasInvalidClass=function(){return this.thfDatepickerRangeElement.nativeElement.classList.contains("ng-invalid")&&this.thfDatepickerRangeElement.nativeElement.classList.contains("ng-dirty")},i.prototype.isEqualBeforeValue=function(t,e){return this.isDateRangeInputFormatValid&&e===this.dateRange.end&&t===this.dateRange.start},i.prototype.isSetFocusOnBackspace=function(t){return t.target.name===this.endDateInputName&&0===this.endDateInput.nativeElement.selectionStart&&0===this.endDateInput.nativeElement.selectionEnd&&8===t.keyCode},i.prototype.removeFocusFromDatePickerRangeField=function(){this.dateRangeField.nativeElement.classList.remove("thf-datepicker-range-field-focused")},i.prototype.setDateRangeInputValidation=function(t,e){this.isStartDateRangeInputValid=this.thfDateService.isDateRangeValid(e,t),this.isDateRangeInputFormatValid=!this.dateFormatFailed(t)&&!this.dateFormatFailed(e)},i.prototype.setFocus=function(t){var e=i.getTargetElement(t),n=i.getKeyCode(t),o=e.name;this.setFocusOnArrowLeft(n,o),this.setFocusOnArrowRight(n,o,e),this.setFocusOnStartDateCompleted(n,o)},i.prototype.setFocusAndPosition=function(t,e,i){var n=this;this.focusOnElement(e),setTimeout(function(){e.nativeElement.setSelectionRange(i,i),n.thfMaskObject.initialPosition=t,n.thfMaskObject.finalPosition=t})},i.prototype.focusOnElement=function(t){t.nativeElement.focus()},i.prototype.setFocusOnArrowLeft=function(t,e){var i=0===this.endDateInput.nativeElement.selectionStart;if(e===this.endDateInputName&&i&&37===t){var n=this.startDateInput.nativeElement.value.length;this.setFocusAndPosition(n,this.startDateInput,n)}},i.prototype.setFocusOnArrowRight=function(t,e,i){var n=this.startDateInput.nativeElement.selectionStart===i.value.length;e===this.startDateInputName&&n&&39===t&&this.setFocusAndPosition(0,this.endDateInput,0)},i.prototype.setFocusOnBackspace=function(){var t=this.startDateInput.nativeElement.value.length;this.startDateInput.nativeElement.value=this.startDateInputValue.slice(0,-1),this.setFocusAndPosition(t,this.startDateInput,t)},i.prototype.setFocusOnStartDateCompleted=function(t,e){var n=10===this.startDateInput.nativeElement.selectionStart,o=10===this.startDateInputValue.length&&n,r=i.isValidKey(t);e===this.startDateInputName&&o&&r&&this.setFocusAndPosition(0,this.endDateInput,0)},i.prototype.updateModelByScreen=function(t){var e=this.formatScreenToModel(this.endDateInputValue),i=this.formatScreenToModel(this.startDateInputValue);if(this.isDateRangeInputUncompleted&&this.isDirtyDateRangeInput)this.updateModel(this.dateRange);else{if(this.isEqualBeforeValue(i,e))return this.resetDateRangeInputValidation(),void this.validateModel(this.dateRange);var n=this.getDateRangeFormatValidation(i,e,t);n.isValid&&(this.dateRange={start:i,end:e},this.updateModel(this.dateRange),this.onChange.emit(Ce({},this.dateRange))),n.isValid||(this.dateRange=Ce({},n.dateRangeModel),this.updateModel(n.dateRangeModel))}},i.decorators=[{type:e.Component,args:[{selector:"thf-datepicker-range",template:'<thf-field-container [t-help]="help" [t-label]="label" [t-opcional]="!required"> <div #dateRangeField class="thf-datepicker-range-field thf-input" [class.thf-datepicker-range-field-disabled]="disabled"> <div class="thf-datepicker-range-start-date"> <input #startDateInput class="thf-datepicker-range-input" maxlength="10" type="text" [disabled]="disabled" [name]="startDateInputName" [readonly]="readonly" (blur)="onBlur()" (focus)="onFocus()" (keydown)="onKeydown($event)" (keyup)="onKeyup($event)"> </div> <div class="thf-datepicker-range-separator">-</div> <div class="thf-datepicker-range-end-date"> <input #endDateInput class="thf-datepicker-range-input" maxlength="10" type="text" [disabled]="disabled" [name]="endDateInputName" [readonly]="readonly" (blur)="onBlur()" (focus)="onFocus()" (keydown)="onKeydown($event)" (keyup)="onKeyup($event)"> </div> <div class="thf-datepicker-range-icon"> <thf-clean *ngIf="enableCleaner" (t-change-event)="clear($event)"></thf-clean> </div> <div class="thf-datepicker-range-icon"> <span class="thf-icon thf-field-icon thf-icon-calendar" [class.thf-field-icon-disabled]="disabled || readonly"> </span> </div> </div> <thf-field-container-bottom [t-error-pattern]="getErrorMessage"></thf-field-container-bottom> </thf-field-container> ',providers:[{provide:l.NG_VALUE_ACCESSOR,useExisting:e.forwardRef(function(){return i}),multi:!0},{provide:l.NG_VALIDATORS,useExisting:e.forwardRef(function(){return i}),multi:!0}]}]}],i.ctorParameters=function(){return[{type:_t},{type:e.ElementRef}]},i.propDecorators={dateRangeField:[{type:e.ViewChild,args:["dateRangeField",{read:e.ElementRef}]}],endDateInput:[{type:e.ViewChild,args:["endDateInput",{read:e.ElementRef}]}],startDateInput:[{type:e.ViewChild,args:["startDateInput",{read:e.ElementRef}]}]},i}(be),Oe=function(){function t(){this._placeholder="",this.passedWriteValue=!1,this.disabled=!1,this.readonly=!1,this.required=!1,this.focus=!1,this.clean=!1,this.errorPattern="",this.mask="",this.maskFormatModel=!1,this.blur=new e.EventEmitter,this.enter=new e.EventEmitter,this.change=new e.EventEmitter,this.changeModel=new e.EventEmitter,this.onChangePropagate=null,this.onTouched=null}return Object.defineProperty(t.prototype,"placeholder",{get:function(){return this._placeholder},set:function(t){this._placeholder=t||""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"setDisabled",{set:function(t){this.disabled=""===t||d(t),this.validateModel()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"setReadonly",{set:function(t){this.readonly=""===t||d(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"setRequired",{set:function(t){this.required=""===t||d(t),this.validateModel()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"setFocus",{set:function(t){this.focus=""===t||d(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"setClean",{set:function(t){this.clean=""===t||d(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"setPattern",{set:function(t){this.pattern=t,this.validateModel()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxlength",{get:function(){return this._maxlength},set:function(t){isNaN(parseInt(t,10))?t||(this._maxlength=void 0,this.validateModel()):(this._maxlength=parseInt(t,10),this.validateModel())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minlength",{get:function(){return this._minlength},set:function(t){isNaN(parseInt(t,10))?t||(this._minlength=void 0,this.validateModel()):(this._minlength=parseInt(t,10),this.validateModel())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"setMask",{set:function(t){this.mask=t,this.objMask=new ue(this.mask,this.maskFormatModel),this.validateModel()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"setMaskFormatModel",{set:function(t){this.maskFormatModel=""===t||d(t),this.objMask instanceof ue&&(this.objMask.formatModel=this.maskFormatModel,this.validateModel())},enumerable:!0,configurable:!0}),t.prototype.updateModel=function(t){this.onChangePropagate&&this.onChangePropagate(t)},t.prototype.callOnChange=function(t){this.updateModel(t),this.controlChangeModelEmitter(t)},t.prototype.controlChangeModelEmitter=function(t){this.modelLastUpdate!==t&&(this.changeModel.emit(t),this.modelLastUpdate=t)},t.prototype.validate=function(t){return Kt(this.required,this.disabled,this.getScreenValue())?{required:{valid:!1}}:Yt(this.maxlength,this.getScreenValue())?{maxlength:{valid:!1}}:Gt(this.minlength,this.getScreenValue())?{minlength:{valid:!1}}:function(t,e){var i;try{i=new RegExp(t)}catch(t){return!0}return t&&e&&!i.test(e)}(this.pattern,t.value)?(this.validatePatternOnWriteValue(t.value),{pattern:{valid:!1}}):this.extraValidation(t)},t.prototype.registerOnChange=function(t){this.onChangePropagate=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.registerOnValidatorChange=function(t){this.validatorChange=t},t.prototype.writeValue=function(t){this.writeValueModel(t)},t.prototype.validateModel=function(){this.validatorChange&&this.validatorChange()},t.prototype.validatePatternOnWriteValue=function(t){var e=this;t&&this.passedWriteValue&&(setTimeout(function(){e.updateModel(t)}),this.passedWriteValue=!1)},t.propDecorators={icon:[{type:e.Input,args:["t-icon"]}],label:[{type:e.Input,args:["t-label"]}],help:[{type:e.Input,args:["t-help"]}],name:[{type:e.Input,args:["name"]}],placeholder:[{type:e.Input,args:["t-placeholder"]}],setDisabled:[{type:e.Input,args:["t-disabled"]}],setReadonly:[{type:e.Input,args:["t-readonly"]}],setRequired:[{type:e.Input,args:["t-required"]}],setFocus:[{type:e.Input,args:["t-focus"]}],setClean:[{type:e.Input,args:["t-clean"]}],setPattern:[{type:e.Input,args:["t-pattern"]}],errorPattern:[{type:e.Input,args:["t-error-pattern"]}],maxlength:[{type:e.Input,args:["t-maxlength"]}],minlength:[{type:e.Input,args:["t-minlength"]}],setMask:[{type:e.Input,args:["t-mask"]}],setMaskFormatModel:[{type:e.Input,args:["t-mask-format-model"]}],blur:[{type:e.Output,args:["t-blur"]}],enter:[{type:e.Output,args:["t-enter"]}],change:[{type:e.Output,args:["t-change"]}],changeModel:[{type:e.Output,args:["t-change-model"]}]},t}(),Ie=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Ee=2,Pe=13,ke=function(t){function i(e){var i=t.call(this)||this;return i.el=e,i._decimalsLength=Ee,i._thousandMaxlength=Pe,i.decimalSeparator=",",i.fireChange=!1,i.isKeyboardAndroid=!1,i.minusSign="-",i.oldDotsLength=null,i.thousandSeparator=".",i.regex={thousand:new RegExp("\\.","g"),decimal:new RegExp("\\,","g")},i.isKeyboardAndroid=!!navigator.userAgent.match(/Android/i),i}return Ie(i,t),Object.defineProperty(i.prototype,"decimalsLength",{get:function(){return this._decimalsLength},set:function(t){this._decimalsLength=f(t,Ee)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"thousandMaxlength",{get:function(){return this._thousandMaxlength},set:function(t){var e=f(t,Pe);this._thousandMaxlength=e<=Pe?e:Pe},enumerable:!0,configurable:!0}),i.prototype.ngAfterViewInit=function(){this.putFocus(),this.setPaddingInput()},i.prototype.clear=function(t){this.callOnChange(t),this.controlChangeEmitter()},i.prototype.extraValidation=function(t){return null},i.prototype.getScreenValue=function(){return this.inputEl?this.inputEl.nativeElement.value:""},i.prototype.hasInvalidClass=function(){return this.el.nativeElement.classList.contains("ng-invalid")&&this.el.nativeElement.classList.contains("ng-dirty")&&""!==this.getScreenValue()},i.prototype.hasLetters=function(t){return void 0===t&&(t=""),t.match(/[a-zA-Z:;+=_´^~"'@#$%¨&*()\/\\|]+/)},i.prototype.isValidNumber=function(t){var e=String.fromCharCode(t.which),i=8!==t.which&&0!==t.which;return!this.hasLetters(e)&&i},i.prototype.onBlur=function(t){var e=t.target.value;if(e){if(this.hasLetters(e)||this.containsMoreThanOneComma(e))return this.setViewValue(""),void this.callOnChange(void 0);var i=this.formatValueWithoutThousandSeparator(e);this.setViewValue(this.formatToViewValue(i))}this.blur.emit(),this.controlChangeEmitter()},i.prototype.onFocus=function(t){this.valueBeforeChange=this.getScreenValue(),this.enter.emit()},i.prototype.onInput=function(t){var e,i,n=t.target.selectionStart,o=t.target.selectionEnd;this.isKeyboardAndroid&&this.onInputKeyboardAndroid(t),e=this.formatValueWithoutThousandSeparator(t.target.value),e=this.addZeroBefore(e),i=this.formatMask(e),this.setViewValue(i),this.setCursorInput(t,n,o),this.callOnChange(this.formatToModelValue(e))},i.prototype.onInputKeyboardAndroid=function(t){var e=t.target.value,i=t.target.selectionStart,n=this.hasLetters(e);if(n)return this.setViewValue(e.replace(n[0],"")),t.preventDefault();var o=i-1,r=e.charAt(o);this.setPositionValue(t),this.isValidKey(t,r)&&this.setViewValue(e)},i.prototype.onKeyPress=function(t){this.isValidKey(t)},i.prototype.setPaddingInput=function(){var t=this;setTimeout(function(){var e=t.el.nativeElement.querySelectorAll(".thf-field-icon-container:not(.thf-field-icon-container-left) > .thf-icon").length;t.clean&&e++,e&&(t.inputEl.nativeElement.style.paddingRight=36*e+"px")})},i.prototype.writeValueModel=function(t){if(this.inputEl)if(t||0===t){var e=this.formatToViewValue(t);this.setViewValue(e)}else this.setViewValue("");t&&this.change.emit(t)},i.prototype.addZeroBefore=function(t){return t===this.decimalSeparator?"0"+t:t},i.prototype.containsComma=function(t){return t.includes(this.decimalSeparator)},i.prototype.containsMoreThanOneComma=function(t){void 0===t&&(t="");var e=t.match(/,/g);return!!(e&&e.length>1)},i.prototype.controlChangeEmitter=function(){var t=this,e=this.getScreenValue();e!==this.valueBeforeChange&&(this.fireChange=!0,setTimeout(function(){t.fireChange&&t.change.emit(e)},200))},i.prototype.formatMask=function(t){if(t.match(this.regex.decimal)){var e=new RegExp("(\\d)(?=(\\d{3})+(?!\\d),)","g");return t.toString().replace(e,"$1.")}return t.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1.")},i.prototype.formatToModelValue=function(t){var e=this.replaceCommaToDot(t),i=e?parseFloat(Number(e).toFixed(this.decimalsLength)):void 0;return 0===i||i?i:void 0},i.prototype.formatToViewValue=function(t){var e,i,n,o;return t=this.replaceCommaToDot(t),i=Number(t).toFixed(this.decimalsLength),n=this.getValueBeforeSeparator(i,this.thousandSeparator),o=this.getValueAfterSeparator(i,this.thousandSeparator),e=this.formatMask(n),0===this.decimalsLength?e:e+this.decimalSeparator+o},i.prototype.formatValueWithoutThousandSeparator=function(t){return void 0===t&&(t=""),t.toString().replace(this.regex.thousand,"")},i.prototype.getValueAfterSeparator=function(t,e){return void 0===t&&(t=""),t.split(e)[1]||""},i.prototype.getValueBeforeSeparator=function(t,e){return void 0===t&&(t=""),t.split(e)[0]||""},i.prototype.hasLessDot=function(t){if(t){var e=t.match(this.regex.thousand),i=e&&e.length;if(i<this.oldDotsLength)return this.oldDotsLength=i,!0}return t||(this.oldDotsLength=null),!1},i.prototype.hasMoreDot=function(t){if(t){var e=t.match(this.regex.thousand),i=e&&e.length;if(i>this.oldDotsLength)return this.oldDotsLength=i,!0}return t||(this.oldDotsLength=null),!1},i.prototype.hasMinusSignInvalidPosition=function(t){var e=t.key===this.minusSign,i=t.target.selectionStart;return e&&0!==i},i.prototype.isInvalidKey=function(t,e){var i=!this.isValidNumber(t);return this.verifyInsertComma(t)||this.verifyThousandLength(t)||this.verifyValueAfterComma(t)||this.verifyInsertMinusSign(t)||this.hasMinusSignInvalidPosition(t)||i||this.validateCursorPositionBeforeSeparator(t)||this.verifyDecimalLengthIsZeroAndKeyPressedIsComma(e)},i.prototype.isKeyDecimalSeparator=function(t){return t.key===this.decimalSeparator||t.char===this.decimalSeparator},i.prototype.isPositionAfterDecimalSeparator=function(t,e){var i=e&&e.indexOf(this.decimalSeparator);if(i&&this.decimalsLength>0)return t>i},i.prototype.isSelectionStartDifferentSelectionEnd=function(t){return t.selectionStart!==t.selectionEnd},i.prototype.isValidKey=function(t,e){var i=t.which||t.keyCode;if(!(8===t.which||0===t.which)||this.isKeyboardAndroid)return e&&(t.key=e),!this.isInvalidKey(t,i)||(t.preventDefault(),!1)},i.prototype.verifyDecimalLengthIsZeroAndKeyPressedIsComma=function(t){return 44===t&&0===this.decimalsLength},i.prototype.putFocus=function(){this.focus&&this.inputEl.nativeElement.focus()},i.prototype.setInitialSelectionRange=function(t,e,i){return 1===e&&1===i?t.setSelectionRange(e+1,i+1):t.setSelectionRange(e-1,i-1)},i.prototype.replaceAt=function(t,e,i){return t.substring(0,e)+i+t.substring(e+1)},i.prototype.replaceCommaToDot=function(t){return void 0===t&&(t=""),t.toString().replace(this.regex.decimal,".")},i.prototype.setCursorInput=function(t,e,i){var n=t.target,o=n.value;return this.hasMoreDot(o)||o==="0"+this.decimalSeparator?n.setSelectionRange(e+1,i+1):(this.hasLessDot(o)&&this.setInitialSelectionRange(n,e,i),n.setSelectionRange(e,i))},i.prototype.setPositionValue=function(t){var e=t.target.value,i=t.target.selectionStart-1;i>0&&t.key===this.minusSign&&(t.target.value=e.substring(0,i)+e.substr(i+1))},i.prototype.setViewValue=function(t){this.inputEl.nativeElement.value=t},i.prototype.validateCursorPositionBeforeSeparator=function(t){var e=t.target,i=this.formatValueWithoutThousandSeparator(e.value),n=this.getValueBeforeSeparator(e.value,this.decimalSeparator),o=this.getValueBeforeSeparator(i,this.decimalSeparator);return!this.isSelectionStartDifferentSelectionEnd(e)&&(e.selectionStart<=n.length&&o.length===this.thousandMaxlength&&!this.isKeyDecimalSeparator(t))},i.prototype.verifyThousandLength=function(t){var e=t.target,i=this.formatValueWithoutThousandSeparator(e.value),n=this.getValueBeforeSeparator(i,this.decimalSeparator);return!this.isSelectionStartDifferentSelectionEnd(e)&&(n.length>=this.thousandMaxlength&&!this.isKeyDecimalSeparator(t)&&this.isPositionAfterDecimalSeparator(e.selectionStart-this.decimalsLength,e.value))},i.prototype.verifyInsertComma=function(t){return this.containsComma(t.target.value)&&t.key===this.decimalSeparator},i.prototype.verifyInsertMinusSign=function(t){var e=t.target.value,i=-1!==e.lastIndexOf(this.minusSign),n=e.lastIndexOf("-"),o=e.match(new RegExp("-","g"));return this.isKeyboardAndroid&&i&&o.length>1&&(t.target.value=this.replaceAt(e,n,"")),i&&t.key===this.minusSign},i.prototype.verifyValueAfterComma=function(t){var e=t.target.value,i=t.target.selectionStart,n=this.getValueAfterSeparator(e,this.decimalSeparator);return this.isPositionAfterDecimalSeparator(i,e)&&n.length>=this.decimalsLength},i.decorators=[{type:e.Component,args:[{selector:"thf-decimal",template:'<thf-field-container [t-label]="label" [t-help]="help" [t-opcional]="!required"> <div class="thf-field-container-content"> <div *ngIf="icon" class="thf-field-icon-container-left"> <span class="thf-icon thf-field-icon {{ icon }}" [class.thf-field-icon-disabled]="disabled"></span> </div> <input #inp class="thf-input" type="text" (input)="onInput($event)" (focus)="onFocus($event)" (blur)="onBlur($event)" (keypress)="onKeyPress($event)" [attr.name]="name" [class.thf-input-icon-left]="icon" [class.thf-input-icon-right]="clean" [disabled]="disabled" [placeholder]="placeholder" [readonly]="readonly" [required]="required"> <div class="thf-field-icon-container-right"> <thf-clean [t-element-ref]="inputEl" (t-change-event)="clear($event)"></thf-clean> </div> </div> <thf-field-container-bottom> </thf-field-container-bottom> </thf-field-container> ',providers:[{provide:l.NG_VALUE_ACCESSOR,useExisting:e.forwardRef(function(){return i}),multi:!0},{provide:l.NG_VALIDATORS,useExisting:e.forwardRef(function(){return i}),multi:!0}]}]}],i.ctorParameters=function(){return[{type:e.ElementRef}]},i.propDecorators={inputEl:[{type:e.ViewChild,args:["inp",{read:e.ElementRef}]}],decimalsLength:[{type:e.Input,args:["t-decimals-length"]}],thousandMaxlength:[{type:e.Input,args:["t-thousand-maxlength"]}]},i}(Oe),Se=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),De=function(t){function i(e){var i=t.call(this)||this;return i.type="text",i.el=e,i}return Se(i,t),i.prototype.ngAfterViewInit=function(){this.afterViewInit()},i.prototype.afterViewInit=function(){this.putFocus(),"password"!==this.type&&this.setPaddingInput()},i.prototype.setPaddingInput=function(){var t=this;setTimeout(function(){var e=t.el.nativeElement.querySelectorAll(".thf-field-icon-container:not(.thf-field-icon-container-left) > .thf-icon").length;t.clean&&e++,e&&(t.inputEl.nativeElement.style.paddingRight=36*e+"px")})},i.prototype.putFocus=function(){this.focus&&this.inputEl.nativeElement.focus()},i.prototype.onKeydown=function(t){this.mask&&!this.readonly&&229!==t.target.keyCode&&(this.eventOnBlur(t),this.objMask.keydown(t))},i.prototype.onKeyup=function(t){this.mask&&!this.readonly&&(229!==t.target.keyCode&&(this.eventOnBlur(t),this.objMask.keyup(t)),this.callOnChange(this.objMask.valueToModel))},i.prototype.eventOnInput=function(t){if(!this.mask){var e=this.validMaxLength(this.maxlength,t.target.value);this.inputEl.nativeElement.value=e,this.callOnChange(e)}},i.prototype.validMaxLength=function(t,e){return(t||0===t)&&e.length>t?e.toString().substring(0,t):e},i.prototype.eventOnFocus=function(t){this.valueBeforeChange=this.inputEl.nativeElement.value,this.enter.emit()},i.prototype.eventOnBlur=function(t){this.mask&&this.objMask.blur(t),"blur"===t.type&&(this.blur.emit(),this.controlChangeEmitter())},i.prototype.controlChangeEmitter=function(){var t=this,e=this.inputEl.nativeElement.value;e!==this.valueBeforeChange&&(clearTimeout(this.timeoutChange),this.timeoutChange=setTimeout(function(){t.change.emit(e)},200))},i.prototype.eventOnClick=function(t){this.mask&&this.objMask.click(t)},i.prototype.hasInvalidClass=function(){return this.el.nativeElement.classList.contains("ng-invalid")&&this.el.nativeElement.classList.contains("ng-dirty")&&""!==this.inputEl.nativeElement.value},i.prototype.getErrorPattern=function(){return""!==this.errorPattern&&this.hasInvalidClass()?this.errorPattern:""},i.prototype.validateClassesForPattern=function(){var t=this.getScreenValue(),e=this.el.nativeElement;t&&!this.verifyPattern(this.pattern,t)?(e.classList.add("ng-invalid"),e.classList.add("ng-dirty")):e.classList.remove("ng-invalid")},i.prototype.verifyPattern=function(t,e){return new RegExp(t).test(e)},i.prototype.clear=function(t){this.callOnChange(t),this.controlChangeEmitter()},i.prototype.writeValueModel=function(t){this.passedWriteValue=!0,this.inputEl&&(t?this.mask?(this.inputEl.nativeElement.value=this.objMask.controlFormatting(String(t)),this.objMask.formatModel&&this.onChangePropagate(this.objMask.valueToModel)):this.inputEl.nativeElement.value=t:this.inputEl.nativeElement.value=""),t&&this.changeModel.emit(t)},i.prototype.getScreenValue=function(){var t=this.inputEl&&this.inputEl.nativeElement.value||void 0;if("number"===this.type){var e=parseFloat(t);return e||0===e?e:null}return t},i.propDecorators={inputEl:[{type:e.ViewChild,args:["inp",{read:e.ElementRef}]}],onKeydown:[{type:e.HostListener,args:["keydown",["$event"]]}],onKeyup:[{type:e.HostListener,args:["keyup",["$event"]]}]},i}(Oe),Me=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),_e=function(t){function i(e){var i=t.call(this,e)||this;return i.icon="thf-icon-mail",i.maxlength=254,i.type="email",i.pattern="^([\\w-]+(?:\\.[\\w-]+)*)@((?:[\\w-]+\\.)*\\w[\\w-]{0,66})\\.([a-z]{2,6}(?:\\.[a-z]{2})?)$",i.mask="",i.listener=i.validateClassesForPattern.bind(i),i}return Me(i,t),i.prototype.ngAfterViewInit=function(){var t=this;setTimeout(function(){t.onChangePropagate||t.inputEl.nativeElement.addEventListener("keyup",t.listener)})},i.prototype.ngOnDestroy=function(){this.onChangePropagate||this.inputEl.nativeElement.removeEventListener("keyup",this.listener)},i.prototype.extraValidation=function(t){return null},i.decorators=[{type:e.Component,args:[{selector:"thf-email",template:'<thf-field-container [t-help]="help" [t-label]="label" [t-opcional]="!required"> <div class="thf-field-container-content"> <div *ngIf="icon" class="thf-field-icon-container-left"> <span class="thf-icon thf-field-icon {{ icon }}" [class.thf-field-icon-disabled]="disabled"></span> </div> <input #inp class="thf-input" [attr.name]="name" [class.thf-input-icon-left]="icon" [class.thf-input-icon-right]="clean" [disabled]="disabled" [placeholder]="placeholder" [readonly]="readonly" [required]="required" [type]="type" (blur)="eventOnBlur($event)" (click)="eventOnClick($event)" (focus)="eventOnFocus($event)" (input)="eventOnInput($event)"> <div class="thf-field-icon-container-right"> <thf-clean [t-element-ref]="inputEl" (t-change-event)="clear($event)"></thf-clean> </div> </div> <thf-field-container-bottom [t-error-pattern]="getErrorPattern()"> </thf-field-container-bottom> </thf-field-container> ',providers:[{provide:l.NG_VALUE_ACCESSOR,useExisting:e.forwardRef(function(){return i}),multi:!0},{provide:l.NG_VALIDATORS,useExisting:e.forwardRef(function(){return i}),multi:!0}]}]}],i.ctorParameters=function(){return[{type:e.ElementRef}]},i}(De),Ve=function(){function t(){this.optional={pt:"(Opcional)",en:"(Optional)",es:"(Opcional)"}}return t.prototype.getOptional=function(){var t=navigator.language?navigator.language.toLowerCase().slice(0,2):"pt";return this.optional[t]?this.optional[t]:""},t.decorators=[{type:e.Component,args:[{selector:"thf-field-container",template:'<div class="thf-field-container"> <div class="thf-field-container-title"> <span class="thf-field-title">{{ label }}</span> <span class="thf-field-optional" *ngIf="opcional && (label || help)">{{ getOptional() }}</span> </div> <div class="thf-field-help" *ngIf="help">{{ help }}</div> <ng-content></ng-content> </div> '}]}],t.propDecorators={label:[{type:e.Input,args:["t-label"]}],help:[{type:e.Input,args:["t-help"]}],opcional:[{type:e.Input,args:["t-opcional"]}]},t}(),xe=function(){function t(){this.errorPattern=""}return t.decorators=[{type:e.Component,args:[{selector:"thf-field-container-bottom",template:'<div class="thf-field-container-bottom"> <span *ngIf="errorPattern"  class="thf-field-container-bottom-text-error"> <span class="thf-icon thf-icon-warning thf-field-container-icon-error"></span> {{ errorPattern }} </span> </div> '}]}],t.propDecorators={errorPattern:[{type:e.Input,args:["t-error-pattern"]}]},t}(),Re=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Le=function(t){function i(e){var i=t.call(this,e)||this;return i.type="text",i}return Re(i,t),i.prototype.extraValidation=function(t){return null},i.decorators=[{type:e.Component,args:[{selector:"thf-login",template:'<thf-field-container [t-label]="label" [t-help]="help" [t-opcional]="!required"> <div class="thf-field-container-content"> <div class="thf-field-icon-container-left"> <span class="thf-icon thf-field-icon thf-icon-user" [class.thf-field-icon-disabled]="disabled"></span> </div> <input #inp class="thf-input thf-input-icon-left" [attr.name]="name" [class.thf-input-icon-right]="clean" [disabled]="disabled" [placeholder]="placeholder" [readonly]="readonly" [required]="required" [type]="type" (blur)="eventOnBlur($event)" (click)="eventOnClick($event)" (focus)="eventOnFocus($event)" (input)="eventOnInput($event)"> <div class="thf-field-icon-container-right"> <thf-clean [t-element-ref]="inputEl" (t-change-event)="clear($event)"></thf-clean> </div> </div> <thf-field-container-bottom [t-error-pattern]="getErrorPattern()"> </thf-field-container-bottom> </thf-field-container> ',providers:[{provide:l.NG_VALUE_ACCESSOR,useExisting:e.forwardRef(function(){return i}),multi:!0},{provide:l.NG_VALIDATORS,useExisting:e.forwardRef(function(){return i}),multi:!0}]}]}],i.ctorParameters=function(){return[{type:e.ElementRef}]},i}(De),Fe=function(){function t(){this._disabled=!1,this._focus=!1,this._required=!1,this.oldValue="",this.onChangePropagate=null,this.onTouched=null,this.placeholder="",this.onError=new e.EventEmitter,this.selected=new e.EventEmitter}return Object.defineProperty(t.prototype,"required",{get:function(){return this._required},set:function(t){this._required=d(t),this.validateModel(this.valueToModel)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"focus",{get:function(){return this._focus},set:function(t){this._focus=""===t||d(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this._disabled},set:function(t){this._disabled=""===t||d(t)},enumerable:!0,configurable:!0}),t.prototype.ngOnDestroy=function(){this.getSubscription&&this.getSubscription.unsubscribe()},t.prototype.ngOnInit=function(){this.initializeColumn()},t.prototype.initializeColumn=function(){this.fieldLabel?this.keysDescription=[this.fieldLabel]:(this.keysDescription=[],this.keysDescription=this.columns.filter(function(t){return t.fieldLabel}).map(function(t){return t.column}))},t.prototype.registerOnValidatorChange=function(t){this.validatorChange=t},t.prototype.registerOnChange=function(t){this.onChangePropagate=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.selectValue=function(t){this.valueToModel=t[this.fieldValue],this.callOnChange(this.valueToModel),this.selected.emit(t)},t.prototype.callOnChange=function(t){this.onChangePropagate&&this.onChangePropagate(t)},t.prototype.searchById=function(t){var e=this;"string"==typeof t&&(t=t.trim()),""!==t?this.getSubscription=this.service.getObjectByValue(t,this.filterParams).subscribe(function(t){t?(e.oldValue=t[e.fieldLabel],e.selectValue(t),e.setViewValue(e.getFormattedLabel(t),t)):e.cleanModel()},function(t){e.cleanModel(),e.onError.emit(t)}):this.cleanModel()},t.prototype.validate=function(t){if(Kt(this.required,this.disabled,t.value))return{required:{valid:!1}}},t.prototype.writeValue=function(t){t&&t instanceof Object?(this.oldValue=t[this.fieldLabel],this.valueToModel=t[this.fieldValue],this.setViewValue(this.getFormattedLabel(t),t)):t?this.searchById(t):this.cleanViewValue()},t.prototype.cleanModel=function(){this.cleanViewValue(),this.callOnChange(void 0)},t.prototype.cleanViewValue=function(){this.setViewValue("",{}),this.oldValue="",this.valueToModel=null},t.prototype.getFormattedLabel=function(t){return t?this.keysDescription.map(function(e){return t[e]}).join(" - "):""},t.prototype.selectModel=function(t){this.writeValue(t),t&&t instanceof Object&&this.selectValue(t)},t.prototype.validateModel=function(t){this.validatorChange&&this.validatorChange(t)},t.propDecorators={label:[{type:e.Input,args:["t-label"]}],literals:[{type:e.Input,args:["t-literals"]}],help:[{type:e.Input,args:["t-help"]}],placeholder:[{type:e.Input,args:["t-placeholder"]}],name:[{type:e.Input,args:["name"]}],title:[{type:e.Input,args:["t-title"]}],fieldValue:[{type:e.Input,args:["t-field-value"]}],fieldLabel:[{type:e.Input,args:["t-field-label"]}],filterParams:[{type:e.Input,args:["t-filter-params"]}],fieldFormat:[{type:e.Input,args:["t-field-format"]}],columns:[{type:e.Input,args:["t-columns"]}],service:[{type:e.Input,args:["t-filter-service"]}],required:[{type:e.Input,args:["t-required"]}],focus:[{type:e.Input,args:["t-focus"]}],disabled:[{type:e.Input,args:["t-disabled"]}],onError:[{type:e.Output,args:["t-error"]}],selected:[{type:e.Output,args:["t-selected"]}]},t}(),Ae=function(){function t(t,e,i){this.componentResolver=t,this.applicationRef=e,this.injector=i}return t.prototype.createComponentInApplication=function(t){var e=this.componentResolver.resolveComponentFactory(t).create(this.injector);this.applicationRef.attachView(e.hostView);var i=e.hostView.rootNodes[0];return document.body.appendChild(i),e},t.prototype.destroyComponentInApplication=function(t){this.applicationRef.detachView(t.hostView),t.destroy()},t.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[{type:e.ComponentFactoryResolver},{type:e.ApplicationRef},{type:e.Injector}]},t.ngInjectableDef=e.defineInjectable({factory:function(){return new t(e.inject(e.ComponentFactoryResolver),e.inject(e.ApplicationRef),e.inject(e.INJECTOR))},token:t,providedIn:"root"}),t}(),Te=function(){return(Te=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},je={en:{modalPrimaryActionLabel:"Select",modalSecondaryActionLabel:"Cancel",modalPlaceholder:"Search",modalTitle:"Select a record",modalTableNoColumns:Rt.en.noColumns,modalTableNoData:Rt.en.noData,modalTableLoadingData:Rt.en.loadingData,modalTableLoadMoreData:Rt.en.loadMoreData},es:{modalPrimaryActionLabel:"Seleccionar",modalSecondaryActionLabel:"Cancelar",modalPlaceholder:"Buscar",modalTitle:"Seleccione un registro",modalTableNoColumns:Rt.es.noColumns,modalTableNoData:Rt.es.noData,modalTableLoadingData:Rt.es.loadingData,modalTableLoadMoreData:Rt.es.loadMoreData},pt:{modalPrimaryActionLabel:"Selecionar",modalSecondaryActionLabel:"Cancelar",modalPlaceholder:"Pesquisar",modalTitle:"Selecione um registro",modalTableNoColumns:Rt.pt.noColumns,modalTableNoData:Rt.pt.noData,modalTableLoadingData:Rt.pt.loadingData,modalTableLoadMoreData:Rt.pt.loadMoreData}},qe=function(){function t(){var t=this;this.hasNext=!0,this.isLoading=!1,this.page=1,this.pageSize=10,this.primaryAction={action:function(){t.items.forEach(function(e){e.$selected&&(t.model.emit(e),t.thfModal.close())})},label:this.literals.modalPrimaryActionLabel},this.searchValue="",this.secondaryAction={action:function(){t.model.emit(null),t.thfModal.close()},label:this.literals.modalSecondaryActionLabel},this.model=new e.EventEmitter}return Object.defineProperty(t.prototype,"literals",{get:function(){return this._literals||je[h()]},set:function(t){t instanceof Object&&!(t instanceof Array)?(this._literals=Te({},je[p],je[h()],t),t.modalTitle&&(this.title=this.literals.modalTitle)):this._literals=je[h()],this.primaryAction.label=this.literals.modalPrimaryActionLabel,this.secondaryAction.label=this.literals.modalSecondaryActionLabel,this.setTableLiterals()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){return this._title},set:function(t){this._title=g(t,"string")?t:this.literals.modalTitle},enumerable:!0,configurable:!0}),t.prototype.ngOnDestroy=function(){this.filterSubscription&&this.filterSubscription.unsubscribe(),this.searchSubscription&&this.searchSubscription.unsubscribe(),this.showMoreSubscription&&this.showMoreSubscription.unsubscribe()},t.prototype.ngOnInit=function(){this.initializeData(),this.setTableLiterals()},t.prototype.search=function(){var t=this;this.page=1,this.searchValue?(this.isLoading=!0,this.searchSubscription=this.getFilteredData(this.searchValue).subscribe(function(e){t.items=e.items,t.hasNext=e.hasNext,t.isLoading=!1})):this.initializeData()},t.prototype.showMoreEvent=function(){var t=this;this.page++,this.isLoading=!0,this.showMoreSubscription=this.getFilteredData(this.searchValue).subscribe(function(e){e.items.forEach(function(e){t.items.push(e)}),t.hasNext=e.hasNext,t.isLoading=!1})},t.prototype.getFilteredData=function(t){return this.filterService.getFilteredData(t,this.page,this.pageSize,this.filterParams)},t.prototype.initializeData=function(){var t=this;this.isLoading=!0,this.filterSubscription=this.getFilteredData("").subscribe(function(e){t.items=e.items,t.hasNext=e.hasNext,t.isLoading=!1})},t.prototype.setTableLiterals=function(){this.tableLiterals={noColumns:this.literals.modalTableNoColumns,noData:this.literals.modalTableNoData,loadingData:this.literals.modalTableLoadingData,loadMoreData:this.literals.modalTableLoadMoreData}},t.propDecorators={thfModal:[{type:e.ViewChild,args:[st]}],columns:[{type:e.Input,args:["t-columns"]}],items:[{type:e.Input,args:["t-items"]}],literals:[{type:e.Input,args:["t-literals"]}],title:[{type:e.Input,args:["t-title"]}],filterService:[{type:e.Input,args:["t-filter-service"]}],filterParams:[{type:e.Input,args:["t-filter-params"]}],model:[{type:e.Output,args:["t-change-model"]}]},t}(),Ne=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Be=function(t){function i(){var e=null!==t&&t.apply(this,arguments)||this;return e.keyUpObservable=null,e.containerHeight=375,e.tableHeight=370,e}return Ne(i,t),i.prototype.ngOnInit=function(){t.prototype.ngOnInit.call(this),this.initializeEventInput(),this.setTableHeight()},i.prototype.initializeEventInput=function(){var t=this;this.keyUpObservable=r.fromEvent(this.inputSearchEl.nativeElement,"keyup").pipe(n.filter(function(e){return t.validateEnterPressed(e)}),n.debounceTime(400)),this.keyUpObservable.subscribe(function(){t.search()})},i.prototype.openModal=function(){this.thfModal.open()},i.prototype.setTableHeight=function(){window.innerHeight<615&&(this.tableHeight-=50,this.containerHeight-=50)},i.prototype.validateEnterPressed=function(t){return 13===t.keyCode},i.decorators=[{type:e.Component,args:[{selector:"thf-lookup-modal",template:'<thf-modal t-click-out="false" t-hide-close="false" t-size="lg" [t-primary-action]="primaryAction" [t-secondary-action]="secondaryAction" [t-title]="title"> <thf-field-container class="thf-lookup-header thf-md-6 thf-pull-right" [t-opcional]="false"> <div class="thf-field-container-content"> <input #inpsearch class="thf-input thf-input-icon-right" name="contentSearch" [(ngModel)]="searchValue" [placeholder]="literals.modalPlaceholder" type="text"> <div class="thf-field-icon-container-right"> <span #iconLookup class="thf-icon thf-field-icon thf-icon-search" (click)="search()"> </span> </div> </div> </thf-field-container> <div class="thf-row thf-lookup-container-table" [style.height.px]="containerHeight"> <thf-table class="thf-md-12" t-checkbox="true" t-hide-detail="true" t-single-select="true" t-sort="true" [t-columns]="columns" [t-height]="tableHeight" [t-items]="items" [t-literals]="tableLiterals" [t-loading]="isLoading" [t-show-more-disabled]="!hasNext" (t-show-more)="showMoreEvent()"> </thf-table> </div> </thf-modal> '}]}],i.propDecorators={inputSearchEl:[{type:e.ViewChild,args:["inpsearch"]}]},i}(qe),ze=function(){function t(t){this.thfComponentInjector=t,this.componentRef=null,this.selectValueEvent=new e.EventEmitter}return t.prototype.openModal=function(t){var e=this,i=t.service,n=t.columns,o=t.filterParams,r=t.title,s=t.literals;this.componentRef=this.thfComponentInjector.createComponentInApplication(Be),this.componentRef.instance.title=r,this.componentRef.instance.columns=n,this.componentRef.instance.filterService=i,this.componentRef.instance.filterParams=o,this.componentRef.instance.literals=s,this.componentRef.instance.model.subscribe(function(t){e.selectValue(t)}),this.componentRef.changeDetectorRef.detectChanges(),this.componentRef.instance.openModal()},t.prototype.selectValue=function(t){t&&this.selectValueEvent.emit(t),this.componentRef.destroy()},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:Ae}]},t}(),We=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),He=function(t){function i(e){var i=t.call(this)||this;return i.thfLookupModalService=e,i}return We(i,t),i.prototype.ngOnDestroy=function(){this.modalSubscription&&this.modalSubscription.unsubscribe()},i.prototype.ngOnInit=function(){t.prototype.ngOnInit.call(this)},i.prototype.openLookup=function(){var t=this;if(!this.disabled){var e=this.service,i=this.columns,n=this.filterParams,o=this.literals,r=this.title||this.label;this.thfLookupModalService.openModal({service:e,columns:i,filterParams:n,title:r,literals:o}),this.modalSubscription||(this.modalSubscription=this.thfLookupModalService.selectValueEvent.subscribe(function(e){t.selectModel(e)}))}},i.prototype.setViewValue=function(t,e){this.fieldFormat?this.setInputValueWithFieldFormat(e):this.inputEl.nativeElement.value=this.valueToModel?t:""},i.prototype.getViewValue=function(){return this.inputEl.nativeElement.value},i.prototype.searchEvent=function(){var t=this.getViewValue();this.oldValue!==t&&this.searchById(t)},i.prototype.setInputValueWithFieldFormat=function(t){var e=0===Object.keys(t).length,i=this.fieldFormat(t);this.oldValue=e?"":i,this.inputEl.nativeElement.value=e?"":i},i.decorators=[{type:e.Component,args:[{selector:"thf-lookup",template:'<thf-field-container [t-label]="label" [t-help]="help" [t-opcional]="!required"> <div class="thf-field-container-content"> <input #inp class="thf-input thf-input-icon-right" type="text" [disabled]="disabled" [placeholder]="placeholder" [required]="required" (blur)="searchEvent()"> <div class="thf-field-icon-container-right"> <span tabindex="1" #iconLookup (click)="openLookup()" (focus)="inp.focus()" class="thf-icon thf-field-icon thf-icon-search" [class.thf-field-icon-disabled]="disabled" [class.thf-field-icon]="!disabled"> </span> </div> </div> <thf-field-container-bottom></thf-field-container-bottom> </thf-field-container> ',providers:[ze,{provide:l.NG_VALUE_ACCESSOR,useExisting:e.forwardRef(function(){return i}),multi:!0},{provide:l.NG_VALIDATORS,useExisting:e.forwardRef(function(){return i}),multi:!0}]}]}],i.ctorParameters=function(){return[{type:ze}]},i.propDecorators={inputEl:[{type:e.ViewChild,args:["inp",{read:e.ElementRef}]}]},i}(Fe),$e=function(){function t(){this.change=new e.EventEmitter}return Object.defineProperty(t.prototype,"placeholder",{get:function(){return this._placeholder||this.literals.placeholderSearch},set:function(t){this._placeholder=t&&g(t,"string")?t:this.literals.placeholderSearch},enumerable:!0,configurable:!0}),t.prototype.onChange=function(t){this.change.emit({event:t,value:this.inputElement.nativeElement.value})},t.prototype.setFocus=function(){this.inputElement.nativeElement.focus()},t.prototype.clean=function(){this.inputElement.nativeElement.value=""},t.decorators=[{type:e.Component,args:[{selector:"thf-multiselect-search",template:'<div class="thf-field-container-content thf-multiselect-content-search"> <div class="thf-field-icon-container-left"> <span class="thf-icon thf-icon-search thf-field-icon"></span> </div> <input #inputElement class="thf-input thf-input-icon-left" type="text" [placeholder]="placeholder" (keyup)="onChange($event)"> </div> '}]}],t.propDecorators={literals:[{type:e.Input,args:["t-literals"]}],placeholder:[{type:e.Input,args:["t-placeholder"]}],change:[{type:e.Output,args:["t-change"]}],inputElement:[{type:e.ViewChild,args:["inputElement",{read:e.ElementRef}]}]},t}(),Ue=function(){function t(){this.scrollTop=0,this.show=!1,this.haveOptions=!1,this.hideSearch=!1,this.selectedValues=[],this.options=[],this.changeSearch=new e.EventEmitter,this.change=new e.EventEmitter,this.closeDropdown=new e.EventEmitter}return t.prototype.scrollTo=function(t){this.scrollTop=t<=2?0:44*t-88},t.prototype.isSelectedItem=function(t){return this.selectedValues.some(function(e){return e===t.value})},t.prototype.clickItem=function(t,e){this.updateSelectedValues(t,e),this.hideSearch||this.searchElement.setFocus()},t.prototype.updateSelectedValues=function(t,e){if(t)this.selectedValues.push(e.value);else{var i=this.selectedValues.indexOf(e.value);this.selectedValues.splice(i,1)}this.change.emit(this.selectedValues)},t.prototype.callChangeSearch=function(t){this.changeSearch.emit(t)},t.prototype.onKeydown=function(t){9===t.keyCode&&this.closeDropdown.emit()},t.prototype.controlVisibility=function(t){var e=this;this.show=t,this.checkInitialOptions(),t&&this.searchElement&&!this.hideSearch&&setTimeout(function(){e.searchElement.setFocus(),e.searchElement.clean()})},t.prototype.checkInitialOptions=function(){this.options.length&&(this.haveOptions=!0)},t.decorators=[{type:e.Component,args:[{selector:"thf-multiselect-dropdown",template:'<div class="thf-multiselect-content" [hidden]="!show"> <thf-multiselect-search #searchElement *ngIf="!hideSearch && haveOptions" [t-literals]="literals" [t-placeholder]="placeholderSearch" (t-change)="callChangeSearch($event)"> </thf-multiselect-search> <ul class="thf-multiselect-items-content" [scrollTop]="scrollTop" #ulElement> <div *ngIf="!options.length" class="thf-multiselect-content-no-data thf-text-center"> <span> {{ literals.noData }}</span> </div> <thf-multiselect-item *ngFor="let option of options" [t-option]="option" [t-selected]="isSelectedItem(option)" (t-change)="clickItem($event, option)"> </thf-multiselect-item> </ul> </div> '}]}],t.propDecorators={hideSearch:[{type:e.Input,args:["t-hide-search"]}],literals:[{type:e.Input,args:["t-literals"]}],placeholderSearch:[{type:e.Input,args:["t-placeholder-search"]}],selectedValues:[{type:e.Input,args:["t-selected-values"]}],options:[{type:e.Input,args:["t-options"]}],changeSearch:[{type:e.Output,args:["t-change-search"]}],change:[{type:e.Output,args:["t-change"]}],closeDropdown:[{type:e.Output,args:["t-close-dropdown"]}],ulElement:[{type:e.ViewChild,args:["ulElement",{read:e.ElementRef}]}],searchElement:[{type:e.ViewChild,args:["searchElement"]}],onKeydown:[{type:e.HostListener,args:["keydown",["$event"]]}]},t}(),Ke={startsWith:0,contains:1,endsWith:2};Ke[Ke.startsWith]="startsWith",Ke[Ke.contains]="contains",Ke[Ke.endsWith]="endsWith";var Ye=function(){return(Ye=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Ge={en:{noData:"No data found",placeholderSearch:"Search"},es:{noData:"Datos no encontrados",placeholderSearch:"Busca"},pt:{noData:"Nenhum dado encontrado",placeholderSearch:"Buscar"}},Je=function(){function t(){this._disabled=!1,this._filterMode=Ke.startsWith,this._focus=!1,this._hideSearch=!1,this._required=!1,this._sort=!1,this.firstInWriteValue=!0,this.readyToValidation=!1,this.selectedOptions=[],this.visibleOptionsDropdown=[],this.visibleDisclaimers=[],this.placeholder="",this.placeholderSearch="",this.change=new e.EventEmitter}return Object.defineProperty(t.prototype,"literals",{get:function(){return this._literals||Ge[h()]},set:function(t){t instanceof Object&&!(t instanceof Array)?this._literals=Ye({},Ge[p],Ge[h()],t):this._literals=Ge[h()]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"required",{get:function(){return this._required},set:function(t){this._required=""===t||d(t),this.updateModelToValidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this._disabled},set:function(t){this._disabled=""===t||d(t),this.updateModelToValidate(),this.updateVisibleItems()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hideSearch",{get:function(){return this._hideSearch},set:function(t){this._hideSearch=""===t||d(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this._options},set:function(t){this._options=t,this.validAndSortOptions()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sort",{get:function(){return this._sort},set:function(t){this._sort=""===t||d(t),this.validAndSortOptions()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"focus",{get:function(){return this._focus},set:function(t){this._focus=""===t||d(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filterMode",{get:function(){return this._filterMode},set:function(t){switch(this._filterMode=t in Ke?t:Ke.startsWith,this._filterMode.toString()){case"startsWith":this._filterMode=Ke.startsWith;break;case"contains":this._filterMode=Ke.contains;break;case"endsWith":this._filterMode=Ke.endsWith}},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.updateList(this.options)},t.prototype.ngAfterContentChecked=function(){this.readyToValidation=!0},t.prototype.validAndSortOptions=function(){var t,e;this.options&&this.options.length&&(O(this.options),w(this.options),this.setUndefinedLabels(this.options),this.sort&&(t=this.options,e="label",t.sort(function(t,i){return(t=t[e].toString().toLowerCase())<(i=i[e].toString().toLowerCase())?-1:t>i?1:0})))},t.prototype.setUndefinedLabels=function(t){t.forEach(function(t){t.label||(t.label=t.value)})},t.prototype.updateList=function(t){t&&(this.visibleOptionsDropdown=t)},t.prototype.updateModelToValidate=function(){var t=this;this.readyToValidation&&setTimeout(function(){t.callOnChange(t.selectedOptions)})},t.prototype.callOnChange=function(t){this.onModelChange&&(this.onModelChange(this.getValuesFromOptions(t)),this.eventChange(t))},t.prototype.eventChange=function(t){t&&this.lastLengthModel!==t.length&&this.change.emit(t),this.lastLengthModel=t?t.length:null},t.prototype.getValuesFromOptions=function(t){return t&&t.length?t.map(function(t){return t.value}):[]},t.prototype.getLabelByValue=function(t){var e=this.options.findIndex(function(e){return e.value===t});return this.options[e].label},t.prototype.changeItems=function(t){this.updateSelectedOptions(t),this.callOnChange(this.selectedOptions)},t.prototype.searchByLabel=function(t,e,i){var n=this;if(t&&e&&e.length){var o=[];e.forEach(function(e){e.label&&n.compareMethod(t,e,i)&&o.push(e)}),this.visibleOptionsDropdown=o}},t.prototype.compareMethod=function(t,e,i){switch(i){case Ke.startsWith:return this.startsWith(t,e);case Ke.contains:return this.contains(t,e);case Ke.endsWith:return this.endsWith(t,e)}},t.prototype.startsWith=function(t,e){return e.label.toLowerCase().startsWith(t.toLowerCase())},t.prototype.contains=function(t,e){return e.label.toLowerCase().indexOf(t.toLowerCase())>-1},t.prototype.endsWith=function(t,e){return e.label.toLowerCase().endsWith(t.toLowerCase())},t.prototype.validate=function(t){return Kt(this.required,this.disabled,t.value)?{required:{valid:!1}}:null},t.prototype.updateSelectedOptions=function(t){var e=this;this.selectedOptions=[],t.forEach(function(t){e.options.forEach(function(i){i.value===t&&e.selectedOptions.push(i)})}),this.updateVisibleItems()},t.prototype.writeValue=function(t){this.firstInWriteValue?this.firstInWriteValue=!1:(t||(t=[],this.callOnChange([])),this.updateSelectedOptions(t),this.selectedOptions.length<t.length&&this.callOnChange(this.selectedOptions))},t.prototype.registerOnChange=function(t){this.onModelChange=t},t.prototype.registerOnTouched=function(t){this.onModelTouched=t},t.propDecorators={label:[{type:e.Input,args:["t-label"]}],help:[{type:e.Input,args:["t-help"]}],literals:[{type:e.Input,args:["t-literals"]}],placeholder:[{type:e.Input,args:["t-placeholder"]}],placeholderSearch:[{type:e.Input,args:["t-placeholder-search"]}],name:[{type:e.Input,args:["name"]}],required:[{type:e.Input,args:["t-required"]}],disabled:[{type:e.Input,args:["t-disabled"]}],hideSearch:[{type:e.Input,args:["t-hide-search"]}],options:[{type:e.Input,args:["t-options"]}],sort:[{type:e.Input,args:["t-sort"]}],focus:[{type:e.Input,args:["t-focus"]}],filterMode:[{type:e.Input,args:["t-filter-mode"]}],change:[{type:e.Output,args:["t-change"]}]},t}(),Ze=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Xe=function(t){function i(e,i){var n=t.call(this)||this;return n.el=e,n.renderer=i,n.disclaimerOffset=0,n.dropdownIcon="thf-icon-arrow-down",n.dropdownOpen=!1,n.initialized=!1,n.visibleElement=!1,n.isCalculateVisibleItems=!0,n}return Ze(i,t),i.prototype.ngAfterViewInit=function(){this.focus&&this.inputElement.nativeElement.focus(),this.initialized=!0,this.initializeResizeListener()},i.prototype.ngDoCheck=function(){var t=this.inputElement.nativeElement.offsetWidth;if(t&&!this.visibleElement&&this.initialized||t&&this.isCalculateVisibleItems)return this.debounceResize(),void(this.visibleElement=!0)},i.prototype.ngOnDestroy=function(){this.removeClickoutListener(),this.removeResizeListener()},i.prototype.getInputWidth=function(){return this.el.nativeElement.querySelector(".thf-input").offsetWidth-40},i.prototype.getDisclaimersWidth=function(){var t=this.el.nativeElement.querySelectorAll("thf-disclaimer");return Array.from(t).map(function(t){return t.offsetWidth})},i.prototype.calculateVisibleItems=function(){var t=this.getDisclaimersWidth(),e=this.getInputWidth(),i=t[0];if(this.visibleDisclaimers=[],e>0){var n=0,o=0;for(o=0;o<this.selectedOptions.length;o++)if(n+=t[o],this.visibleDisclaimers.push(this.selectedOptions[o]),n>e){n-=t[o],this.isCalculateVisibleItems=!1;break}if(i||!this.selectedOptions.length){if(o===this.selectedOptions.length)return void(this.isCalculateVisibleItems=!1);if(n+38>e){this.visibleDisclaimers.splice(-2,2);var r="+"+(this.selectedOptions.length+1-o).toString();this.visibleDisclaimers.push({value:"",label:r})}else{this.visibleDisclaimers.splice(-1,1);r="+"+(this.selectedOptions.length-o).toString();this.visibleDisclaimers.push({value:"",label:r})}}}},i.prototype.updateVisibleItems=function(){this.visibleDisclaimers=[].concat(this.selectedOptions),this.debounceResize(),this.inputElement.nativeElement.offsetWidth||(this.isCalculateVisibleItems=!0)},i.prototype.debounceResize=function(){var t=this;clearTimeout(this.timeoutResize),this.timeoutResize=setTimeout(function(){t.calculateVisibleItems()},200)},i.prototype.onKeyDown=function(t){if(38===t.keyCode||40===t.keyCode)return t.preventDefault(),void this.controlDropdownVisibility(!0);9!==t.keyCode||this.controlDropdownVisibility(!1)},i.prototype.toggleDropdownVisibility=function(){this.disabled||this.controlDropdownVisibility(!this.dropdownOpen)},i.prototype.openDropdown=function(t){t&&!this.disabled&&this.controlDropdownVisibility(!0)},i.prototype.controlDropdownVisibility=function(t){this.dropdownIcon=t?"thf-icon-arrow-up":"thf-icon-arrow-down",this.dropdownOpen=t,this.dropdown.controlVisibility(t),this.setVisibleOptionsDropdown(this.options),t?(this.initializeClickoutListener(),this.setPositionOpeningDropdown()):this.removeClickoutListener()},i.prototype.setPositionOpeningDropdown=function(){var t=this;if(this.selectedOptions&&this.selectedOptions.length){var e=this.options.findIndex(function(e){return e.value===t.selectedOptions[0].value});this.dropdown.scrollTo(e)}},i.prototype.setVisibleOptionsDropdown=function(t){this.visibleOptionsDropdown=t},i.prototype.changeSearch=function(t){t&&t.value?this.searchByLabel(t.value,this.options,this.filterMode):this.setVisibleOptionsDropdown(this.options)},i.prototype.getPlaceholder=function(){return this.placeholder&&!this.visibleDisclaimers.length?this.placeholder:""},i.prototype.closeDisclaimer=function(t){var e=this.selectedOptions.findIndex(function(e){return e.value===t});this.selectedOptions.splice(e,1),this.updateVisibleItems(),this.callOnChange(this.selectedOptions)},i.prototype.wasClickedOnToggle=function(t){this.inputElement.nativeElement.contains(t.target)||this.iconElement.nativeElement.contains(t.target)||this.dropdownElement.nativeElement.contains(t.target)||this.disclaimerContainerElement.nativeElement.contains(t.target)||!this.dropdownOpen||this.controlDropdownVisibility(!1)},i.prototype.initializeClickoutListener=function(){var t=this;this.clickoutListener=this.renderer.listen("document","click",function(e){t.wasClickedOnToggle(e)})},i.prototype.initializeResizeListener=function(){var t=this;this.resizeListener=this.renderer.listen("window","resize",function(e){t.updateVisibleItems()})},i.prototype.removeClickoutListener=function(){this.clickoutListener&&this.clickoutListener()},i.prototype.removeResizeListener=function(){this.resizeListener()},i.decorators=[{type:e.Component,args:[{selector:"thf-multiselect",template:'<thf-field-container [t-label]="label" [t-help]="help" [t-opcional]="!required"> <div class="thf-field-container-content" [class.thf-multiselect-show]="dropdownOpen"> <input #inputElement class="thf-input thf-input-icon-right thf-clickable" readonly type="text" [value]="getPlaceholder()" [disabled]="disabled" (keydown)="onKeyDown($event)" (click)="toggleDropdownVisibility()"> <div class="thf-field-icon-container-right"> <span #iconElement class="thf-icon thf-field-icon {{ dropdownIcon }}" [ngClass]="disabled ? \'thf-field-icon-disabled\' : \'\'" (click)="toggleDropdownVisibility()"> </span> </div> <div #disclaimerContainer class="thf-multiselect-field" [class.thf-multiselect-field-disabled]="disabled"> <thf-disclaimer *ngFor="let disclaimer of visibleDisclaimers" [t-label]="disclaimer.label" [t-value]="disclaimer.value" [t-hide-close]="disclaimer.value === \'\' || disabled" [class.thf-clickable]="disclaimer.value === \'\' && !disabled" (click)="openDropdown(disclaimer.value === \'\')" (t-close-action)="closeDisclaimer(disclaimer.value)"> </thf-disclaimer> </div> <thf-multiselect-dropdown #dropdownElement [t-hide-search]="hideSearch" [t-literals]="literals" [t-options]="visibleOptionsDropdown" [t-selected-values]="getValuesFromOptions(selectedOptions)" [t-placeholder-search]="placeholderSearch" (t-change)="changeItems($event)" (t-change-search)="changeSearch($event)" (t-close-dropdown)="controlDropdownVisibility(false)"> </thf-multiselect-dropdown> </div> <thf-field-container-bottom></thf-field-container-bottom> </thf-field-container> ',providers:[{provide:l.NG_VALUE_ACCESSOR,useExisting:e.forwardRef(function(){return i}),multi:!0},{provide:l.NG_VALIDATORS,useExisting:e.forwardRef(function(){return i}),multi:!0}]}]}],i.ctorParameters=function(){return[{type:e.ElementRef},{type:e.Renderer2}]},i.propDecorators={dropdownElement:[{type:e.ViewChild,args:["dropdownElement",{read:e.ElementRef}]}],dropdown:[{type:e.ViewChild,args:["dropdownElement"]}],disclaimerContainerElement:[{type:e.ViewChild,args:["disclaimerContainer",{read:e.ElementRef}]}],iconElement:[{type:e.ViewChild,args:["iconElement",{read:e.ElementRef}]}],inputElement:[{type:e.ViewChild,args:["inputElement",{read:e.ElementRef}]}]},i}(Je),Qe=function(){function t(){this.option=null,this.selected=!1,this.change=new e.EventEmitter}return t.prototype.itemClicked=function(){this.selected=!this.selected,this.change.emit(this.selected)},t.decorators=[{type:e.Component,args:[{selector:"thf-multiselect-item",template:'<li [value]="option?.value" (click)="itemClicked()" [class.thf-multiselect-item-selected]="selected"> <a class="thf-multiselect-item"> <input [checked]="selected" class="thf-multiselect-checkbox-input" [class.thf-multiselect-checkbox-input-checked]="selected" type="checkbox"> <label class="thf-multiselect-checkbox-label thf-clickable"> {{ option?.label }} </label> </a> </li> '}]}],t.propDecorators={option:[{type:e.Input,args:["t-option"]}],selected:[{type:e.Input,args:["t-selected"]}],change:[{type:e.Output,args:["t-change"]}]},t}(),ti=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),ei=function(t){function i(e){return t.call(this,e)||this}return ti(i,t),i.prototype.extraValidation=function(t){return null},i.decorators=[{type:e.Component,args:[{selector:"thf-input",template:'<thf-field-container [t-help]="help" [t-label]="label" [t-opcional]="!required"> <div class="thf-field-container-content"> <div *ngIf="icon" class="thf-field-icon-container-left"> <span class="thf-icon thf-field-icon {{ icon }}" [class.thf-field-icon-disabled]="disabled"></span> </div> <input #inp class="thf-input" [attr.name]="name" [class.thf-input-icon-left]="icon" [class.thf-input-icon-right]="clean" [disabled]="disabled" [placeholder]="placeholder" [readonly]="readonly" [required]="required" [type]="type" (blur)="eventOnBlur($event)" (click)="eventOnClick($event)" (focus)="eventOnFocus($event)" (input)="eventOnInput($event)"> <div class="thf-field-icon-container-right"> <thf-clean [t-element-ref]="inputEl" (t-change-event)="clear($event)"></thf-clean> </div> </div> <thf-field-container-bottom [t-error-pattern]="getErrorPattern()"> </thf-field-container-bottom> </thf-field-container> ',providers:[{provide:l.NG_VALUE_ACCESSOR,useExisting:e.forwardRef(function(){return i}),multi:!0},{provide:l.NG_VALIDATORS,useExisting:e.forwardRef(function(){return i}),multi:!0}]}]}],i.ctorParameters=function(){return[{type:e.ElementRef}]},i}(De),ii=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),ni=function(t){function e(e){var i=t.call(this,e)||this;return i.type="number",i}return ii(e,t),e.prototype.eventOnInput=function(t){if(!this.mask){var e=t.target.value,i=this.validMaxLength(this.maxlength,e);e!==i&&(e=i,this.inputEl.nativeElement.value=e),this.callOnChange(this.formatNumber(e))}},e.prototype.validMaxLength=function(t,e){if(t&&e.length>t){var i=e.toString().substring(0,t);return i&&this.isEndWithDot(i)?i.toString().substring(0,t-1):i}return e},e.prototype.writeValueModel=function(t){this.inputEl&&(t||0===t?this.mask?(this.inputEl.nativeElement.value=this.objMask.controlFormatting(String(t)),this.objMask.formatModel&&this.onChangePropagate(this.objMask.valueToModel)):this.inputEl.nativeElement.value=t:this.inputEl.nativeElement.value=""),this.changeModel.emit(t)},e.prototype.isEndWithDot=function(t){return t&&t.lastIndexOf(".")===t.length-1},e.prototype.formatNumber=function(t){return t?Number(t):null},e}(De),oi=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),ri=function(t){function i(e){var i=t.call(this,e)||this;return i.step="1",i}return oi(i,t),Object.defineProperty(i.prototype,"setMin",{set:function(t){var e=parseInt(t,10);this.min=isNaN(e)?void 0:e,this.validateModel()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"setMax",{set:function(t){var e=parseInt(t,10);this.max=isNaN(e)?void 0:e,this.validateModel()},enumerable:!0,configurable:!0}),i.prototype.extraValidation=function(t){return e=this.min,((i=t.value)||0===i)&&(e||0===e)&&i<e?{min:{valid:!1}}:function(t,e){return(e||0===e)&&(t||0===t)&&e>t}(this.max,t.value)?{max:{valid:!1}}:null;var e,i},i.decorators=[{type:e.Component,args:[{selector:"thf-number",template:'<thf-field-container [t-help]="help" [t-label]="label" [t-opcional]="!required"> <div class="thf-field-container-content"> <input #inp class="thf-input" type="number" [attr.max]="max" [attr.min]="min" [attr.name]="name" [attr.step]="step" [class.thf-input-icon-right]="clean" [disabled]="disabled" [placeholder]="placeholder" [readonly]="readonly" [required]="required" [tabindex]="disabled ? -1 : 0" (blur)="eventOnBlur($event)" (focus)="eventOnFocus($event)" (input)="eventOnInput($event)"> <div class="thf-field-icon-container-right"> <thf-clean [t-default-value]="null" [t-element-ref]="inputEl" (t-change-event)="clear($event)"> </thf-clean> </div> </div> <thf-field-container-bottom [t-error-pattern]="getErrorPattern()"> </thf-field-container-bottom> </thf-field-container> ',providers:[{provide:l.NG_VALUE_ACCESSOR,useExisting:e.forwardRef(function(){return i}),multi:!0},{provide:l.NG_VALIDATORS,useExisting:e.forwardRef(function(){return i}),multi:!0}]}]}],i.ctorParameters=function(){return[{type:e.ElementRef}]},i.propDecorators={setMin:[{type:e.Input,args:["t-min"]}],setMax:[{type:e.Input,args:["t-max"]}],step:[{type:e.Input,args:["t-step"]}]},i}(ni),si=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),ai=function(t){function i(e){var i=t.call(this,e)||this;return i._hidePasswordPeek=!1,i.type="password",i.visiblePassword=!1,i}return si(i,t),Object.defineProperty(i.prototype,"hidePasswordPeek",{get:function(){return this._hidePasswordPeek},set:function(t){this._hidePasswordPeek=d(t),t&&(this.visiblePassword=!1,this.type="password")},enumerable:!0,configurable:!0}),i.prototype.extraValidation=function(t){return null},i.prototype.showPassword=function(){this.visiblePassword=!this.visiblePassword,this.type="password"===this.type?"text":"password"},i.decorators=[{type:e.Component,args:[{selector:"thf-password",template:'<thf-field-container [t-label]="label" [t-help]="help" [t-opcional]="!required"> <div class="thf-field-container-content"> <div class="thf-field-icon-container-left"> <span class="thf-icon thf-field-icon thf-icon-lock" [class.thf-field-icon-disabled]="disabled"> </span> </div> <input #inp class="thf-input thf-input-icon-left" [ngClass]="clean && inp.value && !hidePasswordPeek ? \'thf-input-double-icon-right\' : \'thf-input-icon-right\'" [attr.name]="name" [class.thf-input-icon-right]="clean" [disabled]="disabled" [placeholder]="placeholder" [readonly]="readonly" [required]="required" [type]="disabled ? \'password\' : type" (blur)="eventOnBlur($event)" (click)="eventOnClick($event)" (focus)="eventOnFocus($event)" (input)="eventOnInput($event)"> <div class="thf-field-icon-container-right"> <thf-clean  class="thf-icon thf-field-icon" [t-element-ref]="inputEl" (t-change-event)="clear($event)"> </thf-clean> <span *ngIf="!hidePasswordPeek && !disabled" class="thf-icon thf-field-icon" [ngClass]="visiblePassword ? \'thf-icon-eye\' : \'thf-icon-eye-off thf-field-icon-disabled\'" (click)="showPassword()"> </span> </div> </div> <thf-field-container-bottom [t-error-pattern]="getErrorPattern()"> </thf-field-container-bottom> </thf-field-container> ',providers:[{provide:l.NG_VALUE_ACCESSOR,useExisting:e.forwardRef(function(){return i}),multi:!0},{provide:l.NG_VALIDATORS,useExisting:e.forwardRef(function(){return i}),multi:!0}]}]}],i.ctorParameters=function(){return[{type:e.ElementRef}]},i.propDecorators={hidePasswordPeek:[{type:e.Input,args:["t-hide-password-peek"]}]},i}(De),li=6,ci=function(){function t(){this._columns=li,this._disabled=!1,this._required=!1,this.mdColumns=li,this.onChangePropagate=null,this.change=new e.EventEmitter}return Object.defineProperty(t.prototype,"columns",{get:function(){return this._columns},set:function(t){var e=f(t,li);this._columns=this.getGridSystemColumns(e,4),this.mdColumns=this.getGridSystemColumns(e,2)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this._disabled},set:function(t){this._disabled=d(t),this.validateModel()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"required",{get:function(){return this._required},set:function(t){this._required=d(t),this.validateModel()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this._options},set:function(t){this._options=t,w(this.options)},enumerable:!0,configurable:!0}),t.prototype.changeValue=function(t){this.onChangePropagate&&this.onChangePropagate(t),this.value!==t&&this.change.emit(t),this.value=t},t.prototype.registerOnChange=function(t){this.onChangePropagate=t},t.prototype.registerOnTouched=function(t){},t.prototype.registerOnValidatorChange=function(t){this.validatorChange=t},t.prototype.validate=function(t){if(Kt(this.required,this.disabled,t.value))return{required:{valid:!1}}},t.prototype.writeValue=function(t){this.value=t,!this.getElementByValue(t)&&this.onChangePropagate&&(this.value=void 0,this.onChangePropagate(this.value))},t.prototype.checkColumnsRange=function(t,e){return t>=1&&t<=e},t.prototype.getGridSystemColumns=function(t,e){var i=12/t;return this.checkColumnsRange(t,e)?i:li},t.prototype.validateModel=function(){this.validatorChange&&this.validatorChange()},t.propDecorators={name:[{type:e.Input,args:["name"]}],columns:[{type:e.Input,args:["t-columns"]}],disabled:[{type:e.Input,args:["t-disabled"]}],required:[{type:e.Input,args:["t-required"]}],options:[{type:e.Input,args:["t-options"]}],change:[{type:e.Output,args:["t-change"]}]},t}(),ui=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),pi=function(t){function i(e){var i=t.call(this)||this;return i.differ=e.find([]).create(null),i}return ui(i,t),i.prototype.ngDoCheck=function(){this.differ.diff(this.options)&&w(this.options)},i.prototype.eventClick=function(t,e){e||this.changeValue(t)},i.prototype.getElementByValue=function(t){return this.inputEl.nativeElement.querySelector("input[value='"+t+"']")},i.prototype.onKeyUp=function(t,e){var i=t.keyCode||t.which;this.isArrowKey(i)&&this.changeValue(e)},i.prototype.isArrowKey=function(t){return t>=37&&t<=40},i.decorators=[{type:e.Component,args:[{selector:"thf-radio-group",template:'<thf-field-container [t-help]="help" [t-label]="label" [t-opcional]="!required"> <div class="thf-row thf-pt-1 thf-pb-1" #inp> <div *ngFor="let option of options" class="thf-radio-group-item thf-md-{{ mdColumns }} thf-lg-{{ columns }}"> <input #input class="thf-radio-group-input" type="radio" [attr.name]="name" [checked]="value === option.value" [class.thf-radio-group-input-checked]="value === option.value" [disabled]="option.disabled === true || disabled" [readonly]="readonly" [required]="required" [value]="option.value" (keyup)="onKeyUp($event, option.value)"> <label class="thf-radio-group-label" [class.thf-clickable]="!input.disabled" [for]="name" (click)="eventClick(option.value, option.disabled === true || disabled)"> {{ option.label }} </label> </div> </div> <thf-field-container-bottom></thf-field-container-bottom> </thf-field-container> ',providers:[{provide:l.NG_VALUE_ACCESSOR,useExisting:e.forwardRef(function(){return i}),multi:!0},{provide:l.NG_VALIDATORS,useExisting:e.forwardRef(function(){return i}),multi:!0}]}]}],i.ctorParameters=function(){return[{type:e.IterableDiffers}]},i.propDecorators={label:[{type:e.Input,args:["t-label"]}],help:[{type:e.Input,args:["t-help"]}],inputEl:[{type:e.ViewChild,args:["inp",{read:e.ElementRef}]}]},i}(ci),hi=function(){function t(t,i){this.element=t,this._disabled=!1,this._required=!1,this.change=new e.EventEmitter,this.ngModelChange=new e.EventEmitter,this.readyToValidation=!1,this.element=t,this.changeDetector=i}return Object.defineProperty(t.prototype,"options",{get:function(){return this._options},set:function(t){this._options=t,w(this._options),O(this._options),this.onUpdateOptions()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this._disabled},set:function(t){this._disabled=d(t),this.validateModel()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"required",{get:function(){return this._required},set:function(t){this._required=d(t),this.validateModel()},enumerable:!0,configurable:!0}),t.prototype.callModelChange=function(t){return this.onModelChange?this.onModelChange(t):this.ngModelChange.emit(t)},t.prototype.onChange=function(t){this.change.emit(t)},t.prototype.validate=function(t){return Kt(this._required,this._disabled,t.value)?{required:{valid:!1}}:null},t.prototype.registerOnChange=function(t){this.onModelChange=t},t.prototype.registerOnTouched=function(t){this.onModelTouched=t},t.prototype.registerOnValidatorChange=function(t){this.onValidatorChange=t},t.prototype.validateModel=function(){this.onValidatorChange&&this.onValidatorChange()},t.propDecorators={label:[{type:e.Input,args:["t-label"]}],name:[{type:e.Input,args:["name"]}],help:[{type:e.Input,args:["t-help"]}],placeholder:[{type:e.Input,args:["t-placeholder"]}],options:[{type:e.Input,args:["t-options"]}],change:[{type:e.Output,args:["t-change"]}],ngModelChange:[{type:e.Output,args:["ngModelChange"]}],disabled:[{type:e.Input,args:["t-disabled"]}],required:[{type:e.Input,args:["t-required"]}]},t}(),di=function(){function t(t){this.templateRef=t}return t.decorators=[{type:e.Directive,args:[{selector:"[t-select-option-template]"}]}],t.ctorParameters=function(){return[{type:e.TemplateRef}]},t}(),fi=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),gi="bottom",mi=function(t){function i(e,i,n,o,r){var s=t.call(this,e,i)||this;return s.renderer=o,s.controlPosition=r,s.isMobile=v(),s.open=!1,s.selectIcon="thf-icon-arrow-down",s.onScroll=function(){s.controlPosition.adjustPosition(gi)},s.differ=n.find([]).create(null),s}return fi(i,t),i.prototype.onKeydown=function(t){var e=t.which||t.keyCode;this.open&&!t.altKey||40!==e&&38!==e||this.disableDefaultEventAndToggleButton(),13!==e&&32!==e||this.disableDefaultEventAndToggleButton(),this.open&&9===e&&(t.preventDefault(),this.toggleButton())},i.prototype.ngDoCheck=function(){this.differ.diff(this.options)&&(w(this.options),O(this.options))},i.prototype.hideDropDown=function(){this.selectIcon="thf-icon-arrow-down",this.selector(".thf-select-container").classList.remove("thf-select-show"),this.open=!1,this.changeDetector.markForCheck(),this.removeListeners()},i.prototype.isEqual=function(t,e){return(t||0===t)&&e?t.toString()===e.toString():((null===t&&null!==e||void 0===t&&void 0!==e)&&(t=""+t),t===e)},i.prototype.onOptionClick=function(t){this.toggleButton(),this.updateModel(t)},i.prototype.onSelectChange=function(t){var e=this,i=this.element.nativeElement.querySelector("ul.thf-select-content");if(t&&this.options&&this.options.length){var n=this.options.find(function(i){return e.isEqual(i.value,t)});if(n){var o=this.options.indexOf(n);i.scrollTop=this.scrollValue(o,i.clientHeight),this.updateModel(n)}}},i.prototype.onUpdateOptions=function(){this.modelValue&&this.onSelectChange(this.modelValue)},i.prototype.scrollValue=function(t,e){var i=(t+1)*this.getSelectItemHeight();return this.scrollPosition=i>e?i:0},i.prototype.selector=function(t){return this.element.nativeElement.querySelector(t)},i.prototype.toggleButton=function(){var t=this.element.nativeElement.querySelector("ul.thf-select-content");this.selectElement.nativeElement.focus(),this.selectIcon=this.open?"thf-icon-arrow-down":"thf-icon-arrow-up",this.changeDetector.markForCheck(),this.options&&this.options.length&&(this.selector(".thf-select-container").classList.toggle("thf-select-show"),t.scrollTop=this.scrollPosition),this.open=!this.open,this.open?(this.setPositionDropdown(),this.initializeListeners()):this.removeListeners()},i.prototype.updateModel=function(t){this.selectedValue!==t.value&&(this.selectedValue=t.value,this.selectElement.nativeElement.value=t.value,this.callModelChange(t.value),this.displayValue=t.label,this.onChange(t.value))},i.prototype.wasClickedOnToggle=function(t){this.selectButtonElement.nativeElement.contains(t.target)||this.iconElement.nativeElement.contains(t.target)||this.hideDropDown()},i.prototype.writeValue=function(t){var e=this,i=this.options.find(function(i){return e.isEqual(i.value,t)});i?(this.selectElement.nativeElement.value=i.value,this.selectedValue=i.value,this.displayValue=i.label):I(this.selectedValue)&&(this.selectElement.nativeElement.value=void 0,this.callModelChange(void 0),this.selectedValue=void 0,this.displayValue=void 0),this.modelValue=t,this.changeDetector.detectChanges()},i.prototype.disableDefaultEventAndToggleButton=function(){var t=this;this.selectElement.nativeElement.style.display="none",setTimeout(function(){t.selectElement.nativeElement.style.display="block",t.toggleButton()})},i.prototype.getSelectItemHeight=function(){var t=this.selector("div.thf-select-item");return t&&t.clientHeight},i.prototype.initializeListeners=function(){var t=this;this.clickoutListener=this.renderer.listen("document","click",function(e){t.wasClickedOnToggle(e)}),this.eventResizeListener=this.renderer.listen("window","resize",function(){t.hideDropDown()}),window.addEventListener("scroll",this.onScroll,!0)},i.prototype.removeListeners=function(){this.clickoutListener&&this.clickoutListener(),this.eventResizeListener(),window.removeEventListener("scroll",this.onScroll,!0)},i.prototype.setPositionDropdown=function(){this.controlPosition.setElements(this.contentList.nativeElement,8,this.selectButtonElement,["top","bottom"],!0),this.controlPosition.adjustPosition(gi)},i.decorators=[{type:e.Component,args:[{selector:"thf-select",template:'<thf-field-container [t-label]="label" [t-help]="help" [t-opcional]="!required"> <select #select class="thf-select" [attr.name]="name" [disabled]="disabled" [ngClass]="{\'thf-select-mobile\' : isMobile}" [required]="required" (change)="onSelectChange($event.target.value)"> <option *ngIf="isMobile" disabled hidden selected></option> <option *ngFor="let option of options" [value]="option.value" (click)="onOptionClick(option)"> {{option?.label}} </option> </select> <div class="thf-select-container"> <div #selectButton class="thf-select-button" [ngClass]="{\'thf-select-button-disabled\' : disabled}" (click)="toggleButton()"> <span>{{displayValue || placeholder}}</span> <div class="thf-field-icon-container-right"> <span #icon class="thf-icon {{selectIcon}}" [ngClass]="disabled ? \'thf-field-icon-disabled\' : \'thf-field-icon\'"></span> </div> </div> <ul #contentList class="thf-select-content" [ngClass]="{\'thf-invisible\': isMobile}"> <li *ngFor="let option of options" [class.thf-select-item-selected]="selectedValue == option.value" [value]="option.value" (click)="onOptionClick(option)"> <div class="thf-select-item"> <ng-container *ngIf="selectOptionTemplate; then optionTemplate; else defaultOptionTemplate"></ng-container> <ng-template #defaultOptionTemplate> <span>{{option?.label}}</span> </ng-template> <ng-template #optionTemplate [ngTemplateOutlet]="selectOptionTemplate?.templateRef" [ngTemplateOutletContext]="{$implicit: option}"> </ng-template> </div> </li> </ul> </div> <thf-field-container-bottom></thf-field-container-bottom> </thf-field-container> ',changeDetection:e.ChangeDetectionStrategy.OnPush,providers:[{provide:l.NG_VALUE_ACCESSOR,useExisting:e.forwardRef(function(){return i}),multi:!0},{provide:l.NG_VALIDATORS,useExisting:e.forwardRef(function(){return i}),multi:!0},dt]}]}],i.ctorParameters=function(){return[{type:e.ElementRef},{type:e.ChangeDetectorRef},{type:e.IterableDiffers},{type:e.Renderer2},{type:dt}]},i.propDecorators={selectOptionTemplate:[{type:e.ContentChild,args:[di]}],contentList:[{type:e.ViewChild,args:["contentList",{read:e.ElementRef}]}],iconElement:[{type:e.ViewChild,args:["icon",{read:e.ElementRef}]}],selectElement:[{type:e.ViewChild,args:["select",{read:e.ElementRef}]}],selectButtonElement:[{type:e.ViewChild,args:["selectButton",{read:e.ElementRef}]}],onKeydown:[{type:e.HostListener,args:["keydown",["$event"]]}]},i}(hi),yi={Right:0,Left:1};yi[yi.Right]="Right",yi[yi.Left]="Left";var bi=function(){function t(){this._disabled=!1,this.switchValue=!1,this.labelOn="true",this.labelOff="false",this.labelPosition=yi.Right,this.change=new e.EventEmitter,this.ngModelChange=new e.EventEmitter}return Object.defineProperty(t.prototype,"setLabelOn",{set:function(t){this.labelOn=t||"true"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"setLabelOff",{set:function(t){this.labelOff=t||"false"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"setLabelPosition",{set:function(t){this.labelPosition=t in yi?parseInt(t,10):yi.Right},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this._disabled},set:function(t){this._disabled=d(t)},enumerable:!0,configurable:!0}),t.prototype.changeValue=function(t){this.switchValue!==t&&(this.switchValue=t,this.propagateChange?this.propagateChange(t):this.ngModelChange.emit(t),this.change.emit(this.switchValue))},t.prototype.eventClick=function(){this.disabled||this.changeValue(!this.switchValue)},t.prototype.registerOnChange=function(t){this.propagateChange=t},t.prototype.registerOnTouched=function(t){},t.prototype.writeValue=function(t){t!==this.switchValue&&(this.switchValue=!!t)},t.propDecorators={name:[{type:e.Input,args:["name"]}],label:[{type:e.Input,args:["t-label"]}],help:[{type:e.Input,args:["t-help"]}],setLabelOn:[{type:e.Input,args:["t-label-on"]}],setLabelOff:[{type:e.Input,args:["t-label-off"]}],setLabelPosition:[{type:e.Input,args:["t-label-position"]}],disabled:[{type:e.Input,args:["t-disabled"]}],required:[{type:e.Input,args:["t-required"]}],change:[{type:e.Output,args:["t-change"]}],ngModelChange:[{type:e.Output,args:["ngModelChange"]}]},t}(),vi=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Ci=function(t){function i(e){var i=t.call(this)||this;return i.changeDetector=e,i}return vi(i,t),i.prototype.ngAfterViewChecked=function(){this.changeDetector.detectChanges()},i.prototype.getLabelPosition=function(){switch(this.labelPosition){case yi.Left:return"left";case yi.Right:default:return"right"}},i.prototype.getSwitchPosition=function(){switch(this.labelPosition){case yi.Left:return"right";case yi.Right:default:return"left"}},i.prototype.onKeyDown=function(t){32!==t.which&&32!==t.keyCode||(t.preventDefault(),this.eventClick())},i.decorators=[{type:e.Component,args:[{selector:"thf-switch",template:'<thf-field-container [t-label]="label" [t-help]="help"> <div class="thf-field-container-content thf-switch-content" [attr.name]="name"> <div class="thf-switch-container thf-clickable" [class.thf-switch-container-disabled]="disabled" [class.thf-switch-container-off]="switchValue === false && !disabled" [class.thf-switch-container-on]="switchValue === true && !disabled" [class.thf-switch-container-right]="getSwitchPosition() === \'right\'" [tabindex]="disabled ? -1 : 0" (click)="eventClick()" (keydown)="onKeyDown($event)"> <div class="thf-switch-button" [class.thf-switch-button-on]="switchValue === true" [class.thf-switch-button-off]="switchValue === false" [class.thf-switch-button-disabled]="disabled"> <span class="thf-icon thf-icon-{{ switchValue === true ? \'ok\' : \'close\' }}"></span> </div> </div> <span class="thf-switch-label thf-clickable thf-switch-label-{{ getLabelPosition() }}" (click)="eventClick()"> {{ switchValue === true ? labelOn : labelOff }} </span> </div> <thf-field-container-bottom></thf-field-container-bottom> </thf-field-container> ',providers:[{provide:l.NG_VALUE_ACCESSOR,useExisting:e.forwardRef(function(){return i}),multi:!0}]}]}],i.ctorParameters=function(){return[{type:e.ChangeDetectorRef}]},i}(bi),wi=function(){function t(){this._disabled=!1,this._focus=!1,this._readonly=!1,this._required=!1,this._rows=3,this.onChangePropagate=null,this.onTouched=null,this.placeholder="",this.blur=new e.EventEmitter,this.enter=new e.EventEmitter,this.change=new e.EventEmitter,this.changeModel=new e.EventEmitter}return Object.defineProperty(t.prototype,"disabled",{get:function(){return this._disabled},set:function(t){this._disabled=d(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"readonly",{get:function(){return this._readonly},set:function(t){this._readonly=d(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"required",{get:function(){return this._required},set:function(t){this._required=d(t),this.validateModel()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"focus",{get:function(){return this._focus},set:function(t){this._focus=d(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minlength",{get:function(){return this._minlength},set:function(t){this._minlength=f(t),this.validateModel()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxlength",{get:function(){return this._maxlength},set:function(t){this._maxlength=f(t),this.validateModel()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rows",{get:function(){return this._rows},set:function(t){this._rows=isNaN(parseInt(t,10))||t<3?3:parseInt(t,10)},enumerable:!0,configurable:!0}),t.prototype.callOnChange=function(t){this.onChangePropagate&&this.onChangePropagate(t),this.controlChangeModelEmitter(t)},t.prototype.controlChangeModelEmitter=function(t){this.modelLastUpdate!==t&&(this.changeModel.emit(t),this.modelLastUpdate=t)},t.prototype.registerOnChange=function(t){this.onChangePropagate=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.registerOnValidatorChange=function(t){this.validatorChange=t},t.prototype.validate=function(t){return Kt(this.required,this.disabled,t.value)?{required:{valid:!1}}:Gt(this.minlength,t.value)?{minlength:{valid:!1}}:Yt(this.maxlength,t.value)?{maxlength:{valid:!1}}:void 0},t.prototype.writeValue=function(t){this.writeValueModel(t)},t.prototype.validateModel=function(){this.validatorChange&&this.validatorChange()},t.propDecorators={label:[{type:e.Input,args:["t-label"]}],help:[{type:e.Input,args:["t-help"]}],placeholder:[{type:e.Input,args:["t-placeholder"]}],name:[{type:e.Input,args:["name"]}],disabled:[{type:e.Input,args:["t-disabled"]}],readonly:[{type:e.Input,args:["t-readonly"]}],required:[{type:e.Input,args:["t-required"]}],focus:[{type:e.Input,args:["t-focus"]}],minlength:[{type:e.Input,args:["t-minlength"]}],maxlength:[{type:e.Input,args:["t-maxlength"]}],rows:[{type:e.Input,args:["t-rows"]}],blur:[{type:e.Output,args:["t-blur"]}],enter:[{type:e.Output,args:["t-enter"]}],change:[{type:e.Output,args:["t-change"]}],changeModel:[{type:e.Output,args:["t-change-model"]}]},t}(),Oi=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Ii=function(t){function i(){var e=t.call(this)||this;return e.fireChange=!1,e}return Oi(i,t),i.prototype.writeValueModel=function(t){this.inputEl&&(this.inputEl.nativeElement.value=t||""),t&&this.change.emit(t)},i.prototype.validMaxLength=function(t,e){return t&&e.length>t?e.toString().substring(0,t):e},i.prototype.eventOnInput=function(t){var e=this.validMaxLength(this.maxlength,t.target.value);this.callOnChange(e),this.inputEl.nativeElement.value=e},i.prototype.eventOnFocus=function(){this.valueBeforeChange=this.inputEl.nativeElement.value,this.enter.emit()},i.prototype.eventOnBlur=function(){this.blur.emit(),this.controlChangeEmitter()},i.prototype.controlChangeEmitter=function(){var t=this.inputEl.nativeElement.value;t!==this.valueBeforeChange&&this.change.emit(t)},i.decorators=[{type:e.Component,args:[{selector:"thf-textarea",template:'<thf-field-container [t-help]="help" [t-label]="label" [t-opcional]="!required"> <div class="thf-field-container-content"> <textarea #inp class="thf-textarea" (blur)="eventOnBlur()" (focus)="eventOnFocus()" (input)="eventOnInput($event)" [attr.name]="name" [disabled]="disabled" [placeholder]="placeholder" [readonly]="readonly" [required]="required" [rows]="rows"> </textarea> </div> <thf-field-container-bottom></thf-field-container-bottom> </thf-field-container> ',providers:[{provide:l.NG_VALUE_ACCESSOR,useExisting:e.forwardRef(function(){return i}),multi:!0},{provide:l.NG_VALIDATORS,useExisting:e.forwardRef(function(){return i}),multi:!0}]}]}],i.ctorParameters=function(){return[]},i.propDecorators={inputEl:[{type:e.ViewChild,args:["inp",{read:e.ElementRef}]}]},i}(wi),Ei=function(){return(Ei=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Pi={en:{selectFile:"Select file",deleteFile:"Delete",cancel:"Cancel",tryAgain:"Try again",startSending:"Start sending"},es:{selectFile:"Seleccionar archivo",deleteFile:"Borrar",cancel:"Cancelar",tryAgain:"Intentar de nuevo",startSending:"Iniciar carga"},pt:{selectFile:"Selecionar arquivo",deleteFile:"Excluir",cancel:"Cancelar",tryAgain:"Tentar Novamente",startSending:"Iniciar envio"}},ki=function(){function t(){this.name="file",this.autoUpload=!1,this.onUpload=new e.EventEmitter,this.onError=new e.EventEmitter,this.onSuccess=new e.EventEmitter,this.ngModelChange=new e.EventEmitter}return Object.defineProperty(t.prototype,"literals",{get:function(){return this._literals||Pi[h()]},set:function(t){t instanceof Object&&!(t instanceof Array)?this._literals=Ei({},Pi[p],Pi[h()],t):this._literals=Pi[h()]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fileRestrictions",{get:function(){return this._fileRestrictions},set:function(t){this._fileRestrictions=t,this.setAllowedExtensions(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formField",{get:function(){return this._formField},set:function(t){this._formField=t&&"string"==typeof t?t:"files",this.getUploadService().formField=this.formField},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this._disabled},set:function(t){this._disabled=d(t),this.validateModel(this.currentFiles)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"required",{get:function(){return this._required},set:function(t){this._required=d(t),this.validateModel(this.currentFiles)},enumerable:!0,configurable:!0}),t.prototype.registerOnChange=function(t){this.onModelChange=t},t.prototype.registerOnTouched=function(t){this.onModelTouched=t},t.prototype.registerOnValidatorChange=function(t){this.validatorChange=t},t.prototype.validate=function(t){if(Kt(this.required,this.disabled,t.value))return{required:{valid:!1}}},t.prototype.setAllowedExtensions=function(t){void 0===t&&(t={});var e=t.allowedExtensions||[];this.allowedExtensions=e.join(",")},t.prototype.validateModel=function(t){this.validatorChange&&this.validatorChange(t)},t.propDecorators={label:[{type:e.Input,args:["t-label"]}],literals:[{type:e.Input,args:["t-literals"]}],help:[{type:e.Input,args:["t-help"]}],url:[{type:e.Input,args:["t-url"]}],fileRestrictions:[{type:e.Input,args:["t-restrictions"]}],name:[{type:e.Input,args:["name"]}],formField:[{type:e.Input,args:["t-form-field"]}],disabled:[{type:e.Input,args:["t-disabled"]}],autoUpload:[{type:e.Input,args:["t-auto-upload"]}],isMultiple:[{type:e.Input,args:["t-multiple"]}],required:[{type:e.Input,args:["t-required"]}],onUpload:[{type:e.Output,args:["t-upload"]}],onError:[{type:e.Output,args:["t-error"]}],onSuccess:[{type:e.Output,args:["t-success"]}],ngModelChange:[{type:e.Output,args:["ngModelChange"]}]},t}(),Si={Uploaded:0,Uploading:1,Error:2,None:3};Si[Si.Uploaded]="Uploaded",Si[Si.Uploading]="Uploading",Si[Si.Error]="Error",Si[Si.None]="None";var Di=function(){function t(t){t&&(this.name=t.name,this.extension=this.getExtension(t.name),this.size=t.size,this.rawFile=t,this.uid=this.generateUUID(),this.status=Si.None)}return t.prototype.getExtension=function(t){return t?t.substr(t.lastIndexOf(".")).toLowerCase():""},t.prototype.generateUUID=function(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()},t}(),Mi=function(){function t(t){this.http=t,this.formField="files",this.requests=[]}return t.prototype.upload=function(t,e,i,n,o,r){for(var s=e.length,a={data:{},file:null},l=0;l<s;l++){var c=new FormData,u=e[l],p=u.rawFile.name;c.append(this.formField,u.rawFile,p),i&&(a.file=u,i.emit(a),c.append("data",JSON.stringify(a.data))),this.sendFile(t,u,c,n,o,r)}},t.prototype.sendFile=function(t,e,i,n,o,r){var a=this,l=this.getRequest(t,i).subscribe(function(t){if(t.type===s.HttpEventType.UploadProgress){a.addRequest(e,l);var i=Math.round(100*t.loaded/t.total);n(e,i)}else t instanceof s.HttpResponse&&o(e,t)},function(t){r(e,t)})},t.prototype.getRequest=function(t,e){var i=new s.HttpRequest("POST",t,e,{reportProgress:!0});return this.http.request(i)},t.prototype.stopRequestByFile=function(t,e){var i=this.requests.find(function(e){return e.file.uid===t.uid});i&&(i.request.unsubscribe(),this.removeRequest(i),e())},t.prototype.removeRequest=function(t){var e=this.requests.indexOf(t);this.requests.splice(e,1)},t.prototype.addRequest=function(t,e){this.requests.some(function(e){return e.file.uid===t.uid})||this.requests.push({file:t,request:e})},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:s.HttpClient}]},t}(),_i=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Vi=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return _i(i,t),i.decorators=[{type:e.Injectable}],i}(Mi),xi=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Ri=function(t){function i(e,i){var n=t.call(this)||this;return n.elementRef=e,n.uploadService=i,n.calledByCleanInputValue=!1,n}return xi(i,t),Object.defineProperty(i.prototype,"hasFileNotUploaded",{get:function(){return!!Array.isArray(this.currentFiles)&&this.currentFiles.some(function(t){return t.status!==Si.Uploaded})},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isDisabled",{get:function(){var t=this.currentFiles||[];return this.hasAnyFileUploading(this.currentFiles)||!this.url||this.disabled||this.isExceededFileLimit(t.length)},enumerable:!0,configurable:!0}),i.prototype.onClick=function(){this.calledByCleanInputValue=!1,this.inputFile.nativeElement.click()},i.prototype.onFileChange=function(t){if(this.calledByCleanInputValue)return this.calledByCleanInputValue=!1,t.preventDefault();var e=t.target.files;this.currentFiles=this.currentFiles||[],this.currentFiles=this.parseFiles(e),this.updateModel(this.currentFiles.slice()),this.autoUpload&&this.uploadFiles(this.currentFiles),this.cleanInputValue()},i.prototype.updateModel=function(t){this.onModelChange?this.onModelChange(t):this.ngModelChange.emit(t)},i.prototype.uploadFiles=function(t){var e=this,i=t.filter(function(t){return t.status!==Si.Uploaded});this.uploadService.upload(this.url,i,this.onUpload,function(t,i){e.uploadingHandler(t,i)},function(t,i){e.successHandler(t),e.onSuccess.emit(i)},function(t,i){e.errorHandler(t),e.onError.emit(i)})},i.prototype.stopUpload=function(t){var e=this;this.uploadService.stopRequestByFile(t,function(){e.autoUpload?e.removeFile(t):e.stopUploadHandler(t)})},i.prototype.stopUploadHandler=function(t){t.status=Si.None,this.removeFileNameClass(t.uid),this.setProgressStatus(t.uid,0,!1),this.setUploadStatus(t,"thf-upload-progress",100)},i.prototype.uploadingHandler=function(t,e){t.status=Si.Uploading,this.setProgressStatus(t.uid,e,!0),this.setUploadStatus(t,"thf-upload-progress",e)},i.prototype.successHandler=function(t){t.status=Si.Uploaded,this.setProgressStatus(t.uid,0,!1),this.setUploadStatus(t,"thf-upload-progress-success",100)},i.prototype.errorHandler=function(t){t.status=Si.Error,this.setProgressStatus(t.uid,0,!1),this.setUploadStatus(t,"thf-upload-progress-error",100)},i.prototype.isStatusFile=function(t,e){return e.status===Si[t]},i.prototype.hasAnyFileUploading=function(t){return!(!t||!t.length)&&t.some(function(t){return t.status===Si.Uploading})},i.prototype.getThfIcon=function(t){switch(t.status){case Si.Uploaded:return"thf-icon-ok";case Si.Error:return"thf-icon-close";case Si.None:return"thf-icon-info";case Si.Uploading:default:return""}},i.prototype.getUploadService=function(){return this.uploadService},i.prototype.setUploadStatus=function(t,e,i){var n=t.uid,o=this.elementRef.nativeElement.querySelector("div[id='"+n+"'].thf-upload-progress");o.classList.remove("thf-upload-progress-error","thf-upload-progress-success"),o.classList.add(e),i>5&&t.status!==Si.None&&this.addFileNameClass(n)},i.prototype.setProgressStatus=function(t,e,i){var n=this.elementRef.nativeElement.querySelector("div[id='"+t+"'].thf-upload-progress").querySelector(".thf-upload-progress-status"),o=i?"block":"none";n.setAttribute("style","display: "+o+";"),n.setAttribute("style","width: "+e+"%;")},i.prototype.removeFile=function(t){var e=this.currentFiles.indexOf(t);this.currentFiles.splice(e,1),this.updateModel(this.currentFiles.slice())},i.prototype.getFileSize=function(t){var e=0;return t&&(e=Math.ceil(t/1024)),e+" KB"},i.prototype.writeValue=function(t){var e,i;t?(e=this.currentFiles,i=t,JSON.stringify(e)!==JSON.stringify(i)&&(this.currentFiles=this.parseFiles(t))):this.currentFiles=void 0},i.prototype.addFileNameClass=function(t){this.elementRef.nativeElement.querySelector("div[id='"+t+"'].thf-upload-progress").querySelector(".thf-upload-filename").classList.add("thf-upload-filename-loading")},i.prototype.removeFileNameClass=function(t){this.elementRef.nativeElement.querySelector("div[id='"+t+"'].thf-upload-progress").querySelector(".thf-upload-filename").classList.remove("thf-upload-filename-loading")},i.prototype.parseFiles=function(t){for(var e=this.currentFiles||[],i=t.length,n=0;n<i&&!this.isExceededFileLimit(e.length);n++){var o=new Di(t[n]);this.checkRestrictions(o)&&(e=this.insertFileInFiles(o,e))}return e},i.prototype.checkRestrictions=function(t){var e=this.fileRestrictions;if(e){var i=e.allowedExtensions,n=e.minFileSize||0,o=e.maxFileSize||31457280,r=!i||this.isAllowedExtension(t.extension,i),s=t.size>=n&&t.size<=o;return r&&s}return!0},i.prototype.isAllowedExtension=function(t,e){return void 0===e&&(e=[]),e.some(function(e){return e.toLowerCase()===t})},i.prototype.cleanInputValue=function(){this.calledByCleanInputValue=!0,this.inputFile.nativeElement.value=""},i.prototype.existsFileSameName=function(t,e){return e.some(function(e){return t.name===e.name})},i.prototype.insertFileInFiles=function(t,e){return this.existsFileSameName(t,e)?this.updateExistsFileInFiles(t,e):(this.isMultiple?e.push(t):e.splice(0,e.length,t),e)},i.prototype.isExceededFileLimit=function(t){return this.isMultiple&&this.fileRestrictions&&this.fileRestrictions.maxFiles>0&&this.fileRestrictions.maxFiles<=t},i.prototype.updateExistsFileInFiles=function(t,e){var i=e.findIndex(function(e){return t.name===e.name&&e.status!==Si.Uploaded});return-1!==i&&e.splice(i,1,t),e},i.decorators=[{type:e.Component,args:[{selector:"thf-upload",template:'<thf-field-container [t-label]="label" [t-help]="help" [t-opcional]="!required"> <div class="thf-upload"> <input #inputFile class="thf-upload-input" type="file" [accept]="allowedExtensions" [attr.name]="name" [disabled]="isDisabled" [multiple]="isMultiple" [required]="required" (change)="onFileChange($event)"> <thf-button class="thf-upload-button" for="file" [t-disabled]="isDisabled" [t-label]="literals.selectFile" (t-click)="onClick()"> </thf-button> <div class="thf-upload-progress" *ngFor="let file of currentFiles" [id]="file.uid"> <div class="thf-upload-progress-status"></div> <div class="thf-upload-filename-foreground"> <div class="thf-upload-filename"> <span class="thf-icon {{ getThfIcon(file) }}"></span> {{ file.name }} - {{ getFileSize(file.size) }} </div> <div class="thf-upload-group-actions"> <span *ngIf="isStatusFile(\'None\', file) || isStatusFile(\'Error\', file)" class="thf-upload-action" (click)="removeFile(file)"> {{ literals.deleteFile }} </span> <span *ngIf="isStatusFile(\'Uploading\', file)" class="thf-upload-action" (click)="stopUpload(file)"> {{ literals.cancel }} </span> <span *ngIf="isStatusFile(\'Error\', file)" class="thf-upload-action" (click)="uploadFiles([file])"> {{ literals.tryAgain }} </span> </div> </div> </div> <thf-button *ngIf="!autoUpload && (currentFiles?.length > 0 && hasFileNotUploaded)" t-type="primary" [t-disabled]="hasAnyFileUploading(currentFiles)" [t-label]="literals.startSending" (t-click)="uploadFiles(currentFiles)"> </thf-button> </div> </thf-field-container> ',providers:[Vi,{provide:l.NG_VALUE_ACCESSOR,useExisting:e.forwardRef(function(){return i}),multi:!0},{provide:l.NG_VALIDATORS,useExisting:e.forwardRef(function(){return i}),multi:!0}]}]}],i.ctorParameters=function(){return[{type:e.ElementRef},{type:Vi}]},i.propDecorators={inputFile:[{type:e.ViewChild,args:["inputFile",{read:e.ElementRef}]}]},i}(ki),Li=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Fi=function(t){function i(e){var i=t.call(this,e)||this;return i.icon="thf-icon-world",i.maxlength=254,i.type="url",i.pattern="^((https|http):\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$",i.mask="",i.listener=i.validateClassesForPattern.bind(i),i}return Li(i,t),i.prototype.ngAfterViewInit=function(){var t=this;setTimeout(function(){t.onChangePropagate||t.inputEl.nativeElement.addEventListener("keyup",t.listener)})},i.prototype.ngOnDestroy=function(){this.onChangePropagate||this.inputEl.nativeElement.removeEventListener("keyup",this.listener)},i.prototype.extraValidation=function(t){return null},i.decorators=[{type:e.Component,args:[{selector:"thf-url",template:'<thf-field-container [t-help]="help" [t-label]="label" [t-opcional]="!required"> <div class="thf-field-container-content"> <div *ngIf="icon" class="thf-field-icon-container-left"> <span class="thf-icon thf-field-icon {{ icon }}" [class.thf-field-icon-disabled]="disabled"></span> </div> <input #inp class="thf-input" [attr.name]="name" [class.thf-input-icon-left]="icon" [class.thf-input-icon-right]="clean" [disabled]="disabled" [placeholder]="placeholder" [readonly]="readonly" [required]="required" [type]="type" (blur)="eventOnBlur($event)" (click)="eventOnClick($event)" (focus)="eventOnFocus($event)" (input)="eventOnInput($event)"> <div class="thf-field-icon-container-right"> <thf-clean [t-element-ref]="inputEl" (t-change-event)="clear($event)"></thf-clean> </div> </div> <thf-field-container-bottom [t-error-pattern]="getErrorPattern()"> </thf-field-container-bottom> </thf-field-container> ',providers:[{provide:l.NG_VALUE_ACCESSOR,useExisting:e.forwardRef(function(){return i}),multi:!0},{provide:l.NG_VALIDATORS,useExisting:e.forwardRef(function(){return i}),multi:!0}]}]}],i.ctorParameters=function(){return[{type:e.ElementRef}]},i}(De),Ai=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[a.CommonModule,l.FormsModule,s.HttpClientModule,H,G,it,at,zt],exports:[Qt,ie,ce,ke,ge,we,_e,ei,Le,He,Be,Xe,ri,ai,pi,mi,di,Ci,Ii,Ri,Fi],declarations:[Ut,Qt,ie,ce,ke,ge,we,_e,Ve,xe,ei,Le,He,Be,Xe,Ue,Qe,$e,ri,ai,pi,mi,di,Ci,Ii,Ri,Fi],providers:[],entryComponents:[Ut,Be]}]}],t}(),Ti=function(){function t(){this.clean=!0,this.filter=new e.EventEmitter}return t.prototype.filterItems=function(t){this.filter.emit(t)},t.decorators=[{type:e.Component,args:[{selector:"thf-menu-filter",template:'<div class="thf-menu-filter-container"> <input #inputFilter type="text" class="thf-menu-filter" placeholder="Pesquisar" (keyup)="filterItems(inputFilter.value)"> <div class="thf-menu-filter-search-icon-container"> <span *ngIf="!loading" class="thf-icon thf-menu-filter-icon thf-icon-search"></span> <span *ngIf="loading" class="thf-icon thf-menu-filter-icon thf-loading-icon"></span> </div> <div class="thf-menu-filter-close-icon-container"> <thf-clean [t-element-ref]="inputFilterElement" (t-change-event)="filterItems(inputFilter.value)"></thf-clean> </div> </div> '}]}],t.propDecorators={loading:[{type:e.Input,args:["t-loading"]}],inputFilterElement:[{type:e.ViewChild,args:["inputFilter",{read:e.ElementRef}]}],filter:[{type:e.Output,args:["t-filter"]}]},t}(),ji=function(){function t(t){this.menuItemsService=t,this.maxHeight=0,this.subItemSize=74}return t.prototype.ngOnDestroy=function(){this.itemSubscription.unsubscribe()},t.prototype.ngOnInit=function(){var t=this;this.itemSubscription=this.menuItemsService.receiveFromParentMenuClicked().subscribe(function(e){t.processMenuItem(e)})},t.prototype.clickMenuItem=function(t){t.ctrlKey||t.metaKey||(t.preventDefault(),this.menuItemsService.sendToParentMenuClicked({link:this.link,action:this.action,id:this.id,icon:this.icon,label:this.label,level:this.level,subItems:this.subItems,isSelected:this.isSelected,isOpened:this.isOpened,shortLabel:this.shortLabel,type:this.type}))},t.prototype.accordionAnimation=function(t,e,i,n){this.id===e.id&&(this.maxHeight=this.subItems.length*this.subItemSize),i&&(this.maxHeight=e.isOpened?this.maxHeight+e.subItems.length*this.subItemSize:this.maxHeight-e.subItems.length*this.subItemSize,n&&(this.maxHeight=this.getMinimumHeight(0,this,t)))},t.prototype.activateMenu=function(t){this.isSelected=t&&this.id===t.id},t.prototype.getMinimumHeight=function(t,e,i){if(t+=this.subItemSize,e.subItems&&this.hasSubItem(e.subItems,i.id))for(var n=0;n<e.subItems.length;n++)t=this.getMinimumHeight(t,e.subItems[n],i);return t},t.prototype.groupedMenu=function(t,e,i){void 0===i&&(i=!1);var n=!(!e||this.id===e.id)&&this.hasSubItem(this.subItems,e.id);this.isOpened=this.isMenuOpened(e,n),this.isSelected=!(!t||this.isOpened)&&this.hasSubItem(this.subItems,t.id),this.isOpened?this.accordionAnimation(t,e,n,i):this.maxHeight=0},t.prototype.hasSubItem=function(t,e){var i=this;if(t)return t.some(function(t){return t.id===e||i.hasSubItem(t.subItems,e)})},t.prototype.isMenuOpened=function(t,e){return!!t&&(this.id===t.id?t.isOpened:e)},t.prototype.processMenuItem=function(t){"internalLink"!==this.type?"subItems"!==this.type||this.groupedMenu(t.active,t.grouped,t.activatedByRoute):this.activateMenu(t.active)},t.decorators=[{type:e.Component,args:[{selector:"thf-menu-item",template:'\x3c!-- menu com link interno --\x3e <a *ngIf="type === \'internalLink\'" class="thf-menu-item-link" [routerLink]="link"> <ng-container *ngTemplateOutlet="menuItemTemplate"></ng-container> </a> \x3c!-- menu com link externo --\x3e <a *ngIf="type === \'externalLink\'" class="thf-menu-item-link" [href]="link"> <ng-container *ngTemplateOutlet="menuItemTemplate"></ng-container> </a> \x3c!-- menu sem link --\x3e <a *ngIf="type === \'noLink\'" class="thf-menu-item-link" href="javascript:;"> <ng-container *ngTemplateOutlet="menuItemTemplate"></ng-container> </a> \x3c!-- menu com sub itens --\x3e <div *ngIf="type === \'subItems\'" class="thf-menu-item-link thf-clickable"> <ng-container *ngTemplateOutlet="menuItemTemplate;"></ng-container> <div [hidden]="collapsedMenu" class="thf-menu-sub-items" [style.maxHeight.px]="maxHeight"> <div *ngFor="let subItem of subItems"> <thf-menu-item [t-action]="subItem.action" [t-id]="subItem.id" [t-label]="subItem.label" [t-level]="subItem.level" [t-link]="subItem.link" [t-sub-items]="subItem.subItems" [t-type]="subItem.type"> </thf-menu-item> </div> </div> </div> <ng-template #menuItemTemplate> <div class="thf-menu-item" [class.thf-menu-icon-container]="level === 1 && icon" [class.thf-menu-item-selected]="isSelected" [class.thf-menu-item-level-two]="level === 2" [class.thf-menu-item-level-three]="level === 3" [class.thf-menu-item-level-four]="level === 4" [class.thf-menu-item-grouper-up]="type === \'subItems\' && isOpened" [class.thf-menu-item-grouper-down]="type === \'subItems\' && !isOpened" (click)="clickMenuItem($event);"> <span *ngIf="level === 1 && icon" class="thf-icon {{icon}} thf-menu-icon-item"></span> <span *ngIf="type === \'subItems\' && !collapsedMenu" class="thf-icon thf-menu-group-icon" [class.thf-icon-arrow-up]="isOpened" [class.thf-icon-arrow-down]="!isOpened"> </span> <div [class.thf-menu-icon-label]="level === 1 && icon"> {{ label }} </div> <div *ngIf="collapsedMenu" class="thf-menu-short-label">{{ shortLabel }}</div> </div> </ng-template> '}]}],t.ctorParameters=function(){return[{type:R}]},t.propDecorators={action:[{type:e.Input,args:["t-action"]}],collapsedMenu:[{type:e.Input,args:["t-collapsed-menu"]}],icon:[{type:e.Input,args:["t-icon"]}],id:[{type:e.Input,args:["t-id"]}],isOpened:[{type:e.Input,args:["t-is-opened"]}],isSelected:[{type:e.Input,args:["t-is-selected"]}],label:[{type:e.Input,args:["t-label"]}],level:[{type:e.Input,args:["t-level"]}],link:[{type:e.Input,args:["t-link"]}],shortLabel:[{type:e.Input,args:["t-short-label"]}],subItems:[{type:e.Input,args:["t-sub-items"]}],type:[{type:e.Input,args:["t-type"]}]},t}(),qi=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[a.CommonModule,i.RouterModule,Ai],declarations:[q,Ti,ji],exports:[q]}]}],t}();t.ThfMenuComponent=q,t.ThfMenuModule=qi,Object.defineProperty(t,"__esModule",{value:!0})});