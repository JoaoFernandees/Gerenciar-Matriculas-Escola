var __extends=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();import{Component,Renderer2,ViewContainerRef}from"@angular/core";import{Router}from"@angular/router";import{callFunction,isTypeof}from"../../../utils/util";import{ThfPageDefaultBaseComponent}from"./thf-page-default-base.component";var ThfPageDefaultComponent=function(t){function e(e,i,n){var o=t.call(this)||this;return o.renderer=i,o.router=n,o.limitPrimaryActions=3,o.maxWidthMobile=480,o.parentRef=e._view.component,o}return __extends(e,t),e.prototype.ngAfterContentInit=function(){var t=this;this.setIsMobile(),this.setDropdownActions(),this.renderer.listen("window","resize",function(e){t.onResize(e)})},e.prototype.ngOnChanges=function(t){this.setDropdownActions()},e.prototype.actionIsDisabled=function(t){return isTypeof(t.disabled,"function")?t.disabled(t):t.disabled},e.prototype.callAction=function(t){t.url?this.router.navigate([t.url]):t.action&&callFunction(t.action,this.parentRef)},e.prototype.hasPageHeader=function(){return!!(this.title||this.actions&&this.actions.length||this.breadcrumb&&this.breadcrumb.items.length)},e.prototype.onResize=function(t){t.target.innerWidth<this.maxWidthMobile?(this.isMobile=!0,this.limitPrimaryActions=2,this.setDropdownActions()):(this.isMobile=!1,this.limitPrimaryActions=3,this.setDropdownActions())},e.prototype.setIsMobile=function(){window.innerWidth<this.maxWidthMobile&&(this.isMobile=!0,this.limitPrimaryActions=2)},e.prototype.setDropdownActions=function(){this.actions.length>this.limitPrimaryActions&&(this.dropdownActions=this.actions.slice(this.limitPrimaryActions-1))},e.decorators=[{type:Component,args:[{selector:"thf-page-default",template:'<thf-page> \x3c!-- HEADER --\x3e <thf-page-header *ngIf="hasPageHeader()" [t-breadcrumb]="breadcrumb" [t-title]="title"> \x3c!-- OPERATIONS --\x3e <div class="thf-page-header-actions"> <thf-dropdown *ngIf="actions.length > limitPrimaryActions" t-label="Outras ações" [t-actions]="dropdownActions"> </thf-dropdown> <thf-button *ngIf="actions.length === 3 && actions[2] && !isMobile" [t-disabled]="actionIsDisabled(actions[2])" [t-label]="actions[2].label" (t-click)="callAction(actions[2])"> </thf-button> <thf-button *ngIf="actions[1] && (actions.length === 2 || !isMobile)" [t-disabled]="actionIsDisabled(actions[1])" [t-label]="actions[1].label" (t-click)="callAction(actions[1])"> </thf-button> <thf-button *ngIf="actions[0]" t-type="primary" [t-disabled]="actionIsDisabled(actions[0])" [t-icon]="actions[0].icon" [t-label]="actions[0].label" (t-click)="callAction(actions[0])"> </thf-button> </div> </thf-page-header> \x3c!-- CONTENT --\x3e <thf-page-content> <ng-content></ng-content> </thf-page-content> </thf-page> '}]}],e.ctorParameters=function(){return[{type:ViewContainerRef},{type:Renderer2},{type:Router}]},e}(ThfPageDefaultBaseComponent);export{ThfPageDefaultComponent};