var __extends=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();import{Component,ElementRef,EventEmitter,Output,ViewChild,ViewContainerRef}from"@angular/core";import{ThfWidgetBaseComponent}from"./thf-widget-base.component";var ThfWidgetComponent=function(t){function e(e){var i=t.call(this)||this;return i.setting=new EventEmitter,i}return __extends(e,t),Object.defineProperty(e.prototype,"showTitleAction",{get:function(){return!!this.titleAction.observers[0]},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.setHeight(this.height)},e.prototype.hasTitleHelpOrSetting=function(){return!!this.title||!!this.help||!!this.setting.observers[0]},e.prototype.isTypeof=function(t,e){return typeof t===e},e.prototype.onClick=function(t){this.click.emit(t)},e.prototype.openHelp=function(t){t.stopPropagation(),window.open(this.help,"_blank")},e.prototype.runPrimaryAction=function(t){t.stopPropagation(),this.primaryAction.emit()},e.prototype.runSecondaryAction=function(t){t.stopPropagation(),this.secondaryAction.emit()},e.prototype.runTitleAction=function(t){t.stopPropagation(),this.titleAction.emit()},e.prototype.setHeight=function(t){if(t){var e=t-32;this.title&&(e-=40),this.primaryLabel&&(e-=40),this.elBody.nativeElement.style.height=e+"px"}else this.elBody.nativeElement.style.height="auto"},e.prototype.settingOutput=function(t){t.stopPropagation(),this.setting.emit()},e.decorators=[{type:Component,args:[{selector:"thf-widget",template:'<div [class.thf-clickable]="click.observers.length" [class.thf-widget]="!primary" [class.thf-widget-primary]="primary" [class.thf-widget-no-shadow]="noShadow" [ngClass]="size" [style.background-image]="background ? \'url(\' + background + \')\' : undefined" (click)="onClick($event)"> <div *ngIf="hasTitleHelpOrSetting()" class="thf-widget-header"> <span *ngIf="showTitleAction; else noTitleAction" class="thf-widget-title-action" (click)="runTitleAction($event)"> {{ title }} </span> <ng-template #noTitleAction>{{ title }}</ng-template> <div *ngIf="setting.observers[0] || help" class="thf-pull-right"> <span id="settingAction" *ngIf="setting.observers[0]" class="thf-clickable thf-icon thf-icon-settings" (click)="settingOutput($event)"> </span> <span id="helpLink" *ngIf="help" class="thf-clickable thf-icon thf-icon-help" (click)="openHelp($event)"> </span> </div> </div> <div class="thf-widget-body" #elemBody> <ng-content></ng-content> </div> <div *ngIf="!isTypeof(primaryLabel, \'undefined\')" class="thf-widget-footer"> <div class="thf-widget-xl" *ngIf="isTypeof(secondaryLabel, \'undefined\')"> <a class="thf-widget-action" id=\'primaryAct\' (click)="runPrimaryAction($event)">{{ primaryLabel }}</a> </div> <div class="thf-widget-md" *ngIf="!isTypeof(secondaryLabel, \'undefined\')"> <a class="thf-widget-action" id=\'primaryAct\' (click)="runPrimaryAction($event)">{{ primaryLabel }}</a> </div> <div class="thf-widget-md" *ngIf="!isTypeof(secondaryLabel, \'undefined\')"> <a class="thf-widget-action" id=\'secondaryAct\' (click)="runSecondaryAction($event)">{{ secondaryLabel }}</a> </div> </div> </div> '}]}],e.ctorParameters=function(){return[{type:ViewContainerRef}]},e.propDecorators={setting:[{type:Output,args:["t-setting"]}],elBody:[{type:ViewChild,args:["elemBody",{read:ElementRef}]}]},e}(ThfWidgetBaseComponent);export{ThfWidgetComponent};