!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/common")):"function"==typeof define&&define.amd?define(["exports","@angular/core","@angular/common"],e):e(t["thf-widget"]={},t.core,t.common)}(this,function(t,e,i){"use strict";function n(t){return"string"==typeof t?"true"===(t=t.toLowerCase().trim())||"on"===t||""===t:"number"==typeof t?1===t:!!t}var o,r=function(){function t(){this._noShadow=!1,this._primary=!1,this._size="thf-widget-xl",this.click=new e.EventEmitter,this.primaryAction=new e.EventEmitter,this.secondaryAction=new e.EventEmitter,this.titleAction=new e.EventEmitter}return Object.defineProperty(t.prototype,"background",{get:function(){return this._background},set:function(t){this._background=t&&"string"==typeof t?t:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(t){this._height=parseInt(t,10),this.setHeight(this.height)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"noShadow",{get:function(){return this._noShadow},set:function(t){this._noShadow=""===t||n(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"primary",{get:function(){return this._primary},set:function(t){this._primary=""===t||n(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._size},set:function(t){this._size=["sm","md","lg","xl"].indexOf(t)>-1?"thf-widget-"+t:"thf-widget-xl"},enumerable:!0,configurable:!0}),t.propDecorators={background:[{type:e.Input,args:["t-background"]}],height:[{type:e.Input,args:["t-height"]}],help:[{type:e.Input,args:["t-help"]}],noShadow:[{type:e.Input,args:["t-no-shadow"]}],click:[{type:e.Output,args:["t-click"]}],primary:[{type:e.Input,args:["t-primary"]}],primaryAction:[{type:e.Output,args:["t-primary-action"]}],primaryLabel:[{type:e.Input,args:["t-primary-label"]}],secondaryAction:[{type:e.Output,args:["t-secondary-action"]}],secondaryLabel:[{type:e.Input,args:["t-secondary-label"]}],size:[{type:e.Input,args:["t-size"]}],title:[{type:e.Input,args:["t-title"]}],titleAction:[{type:e.Output,args:["t-title-action"]}]},t}(),s=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=function(t){function i(i){var n=t.call(this)||this;return n.setting=new e.EventEmitter,n}return s(i,t),Object.defineProperty(i.prototype,"showTitleAction",{get:function(){return!!this.titleAction.observers[0]},enumerable:!0,configurable:!0}),i.prototype.ngOnInit=function(){this.setHeight(this.height)},i.prototype.hasTitleHelpOrSetting=function(){return!!this.title||!!this.help||!!this.setting.observers[0]},i.prototype.isTypeof=function(t,e){return typeof t===e},i.prototype.onClick=function(t){this.click.emit(t)},i.prototype.openHelp=function(t){t.stopPropagation(),window.open(this.help,"_blank")},i.prototype.runPrimaryAction=function(t){t.stopPropagation(),this.primaryAction.emit()},i.prototype.runSecondaryAction=function(t){t.stopPropagation(),this.secondaryAction.emit()},i.prototype.runTitleAction=function(t){t.stopPropagation(),this.titleAction.emit()},i.prototype.setHeight=function(t){if(t){var e=t-32;this.title&&(e-=40),this.primaryLabel&&(e-=40),this.elBody.nativeElement.style.height=e+"px"}else this.elBody.nativeElement.style.height="auto"},i.prototype.settingOutput=function(t){t.stopPropagation(),this.setting.emit()},i.decorators=[{type:e.Component,args:[{selector:"thf-widget",template:'<div [class.thf-clickable]="click.observers.length" [class.thf-widget]="!primary" [class.thf-widget-primary]="primary" [class.thf-widget-no-shadow]="noShadow" [ngClass]="size" [style.background-image]="background ? \'url(\' + background + \')\' : undefined" (click)="onClick($event)"> <div *ngIf="hasTitleHelpOrSetting()" class="thf-widget-header"> <span *ngIf="showTitleAction; else noTitleAction" class="thf-widget-title-action" (click)="runTitleAction($event)"> {{ title }} </span> <ng-template #noTitleAction>{{ title }}</ng-template> <div *ngIf="setting.observers[0] || help" class="thf-pull-right"> <span id="settingAction" *ngIf="setting.observers[0]" class="thf-clickable thf-icon thf-icon-settings" (click)="settingOutput($event)"> </span> <span id="helpLink" *ngIf="help" class="thf-clickable thf-icon thf-icon-help" (click)="openHelp($event)"> </span> </div> </div> <div class="thf-widget-body" #elemBody> <ng-content></ng-content> </div> <div *ngIf="!isTypeof(primaryLabel, \'undefined\')" class="thf-widget-footer"> <div class="thf-widget-xl" *ngIf="isTypeof(secondaryLabel, \'undefined\')"> <a class="thf-widget-action" id=\'primaryAct\' (click)="runPrimaryAction($event)">{{ primaryLabel }}</a> </div> <div class="thf-widget-md" *ngIf="!isTypeof(secondaryLabel, \'undefined\')"> <a class="thf-widget-action" id=\'primaryAct\' (click)="runPrimaryAction($event)">{{ primaryLabel }}</a> </div> <div class="thf-widget-md" *ngIf="!isTypeof(secondaryLabel, \'undefined\')"> <a class="thf-widget-action" id=\'secondaryAct\' (click)="runSecondaryAction($event)">{{ secondaryLabel }}</a> </div> </div> </div> '}]}],i.ctorParameters=function(){return[{type:e.ViewContainerRef}]},i.propDecorators={setting:[{type:e.Output,args:["t-setting"]}],elBody:[{type:e.ViewChild,args:["elemBody",{read:e.ElementRef}]}]},i}(r),c=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[i.CommonModule],exports:[a],declarations:[a]}]}],t}();t.ThfWidgetComponent=a,t.ThfWidgetModule=c,Object.defineProperty(t,"__esModule",{value:!0})});