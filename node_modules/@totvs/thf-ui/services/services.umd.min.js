!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/common"),require("uuid"),require("rxjs"),require("@angular/common/http")):"function"==typeof define&&define.amd?define(["exports","@angular/core","@angular/common","uuid","rxjs","@angular/common/http"],e):e(t.services={},t.core,t.common,t.uuid,t.rxjs,t.http)}(this,function(t,e,o,n,i,r){"use strict";var s={Color01:"color-01",Color02:"color-02",Color03:"color-03",Color04:"color-04",Color05:"color-05",Color06:"color-06",Color07:"color-07",Color08:"color-08",Color09:"color-09",Color10:"color-10",Color11:"color-11",Color12:"color-12"},a=function(){function t(){}return t.prototype.getColor=function(t){return Object.values(s).includes(t.color)?t.color:this.getColorFromType(t.type||t.color)},t.prototype.getColorFromType=function(t){switch(t){case"danger":return s.Color07;case"success":return s.Color11;case"warning":return s.Color08;default:return s.Color01}},t.decorators=[{type:e.Injectable}],t}(),c=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{providers:[a],bootstrap:[]}]}],t}(),l=function(){function t(t,e,o){this.componentResolver=t,this.applicationRef=e,this.injector=o}return t.prototype.createComponentInApplication=function(t){var e=this.componentResolver.resolveComponentFactory(t).create(this.injector);this.applicationRef.attachView(e.hostView);var o=e.hostView.rootNodes[0];return document.body.appendChild(o),e},t.prototype.destroyComponentInApplication=function(t){this.applicationRef.detachView(t.hostView),t.destroy()},t.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[{type:e.ComponentFactoryResolver},{type:e.ApplicationRef},{type:e.Injector}]},t.ngInjectableDef=e.defineInjectable({factory:function(){return new t(e.inject(e.ComponentFactoryResolver),e.inject(e.ApplicationRef),e.inject(e.INJECTOR))},token:t,providedIn:"root"}),t}(),p=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{declarations:[],imports:[],exports:[],providers:[l],bootstrap:[]}]}],t}(),u=["bottom","bottom-left","bottom-right","left","left-top","left-bottom","top","top-right","top-left","right","right-bottom","right-top"],f=function(){function t(){this.differenceDiagonalToWidthArrow=3,this.isSetElementWidth=!1,this.offsetArrow=12}return t.prototype.adjustPosition=function(t){this.elementPosition(t),this.customPositions&&this.customPositions.length?this.adjustCustomPosition(t):this.adjustDefaultPosition(t)},t.prototype.getArrowDirection=function(){return this.arrowDirection},t.prototype.setElements=function(t,o,n,i,r,s){void 0===r&&(r=!1),void 0===s&&(s=!1),this.element=t instanceof e.ElementRef?t.nativeElement:t,this.targetElement=n instanceof e.ElementRef?n.nativeElement:n,this.elementOffset=o,this.customPositions=i,this.isSetElementWidth=r,this.isCornerAligned=s},t.prototype.adjustCustomPosition=function(t){for(var e=this.customPositions.length,o=0;o++<e;)this.overflowAllSides(t)&&(t=this.nextPosition(t,this.customPositions),this.elementPosition(t))},t.prototype.adjustDefaultPosition=function(t){for(var e=this.getMainPositions(),o=e.length,n=0;n++<o;){var i=this.getMainPosition(t);if(!this.overflowMain(i))return this.overflowAllSides(t)?void this.verifySubPositions(t):void 0;t=this.nextPosition(i,e)}},t.prototype.elementPosition=function(t){this.isCornerAligned?this.setAlignedElementPosition(t):this.setElementPosition(t)},t.prototype.getMainPosition=function(t){return t.indexOf("-")>-1?t.substring(0,t.indexOf("-")):t},t.prototype.getMainPositions=function(){return this.customPositions&&this.customPositions.length?this.getMainPositionsByCustomPositions(this.customPositions):["top","right","bottom","left"]},t.prototype.getMainPositionsByCustomPositions=function(t){for(var e=[],o=t.length,n=0;n<o;n++){var i=t[n],r=this.getMainPosition(i);e.includes(r)||e.push(r)}return e},t.prototype.getOverflows=function(){var t=this.getSizesAndPositions();return{right:t.element.right>t.window.innerWidth,top:t.element.top<=0,left:t.element.left<=0,bottom:t.element.bottom>t.window.innerHeight}},t.prototype.getSizesAndPositions=function(){return{window:{scrollY:window.scrollY,scrollX:window.scrollX,innerWidth:window.innerWidth,innerHeight:window.innerHeight},element:this.element.getBoundingClientRect(),target:this.targetElement?this.targetElement.getBoundingClientRect():{top:0,bottom:0,right:0,left:0}}},t.prototype.nextPosition=function(t,e){void 0===e&&(e=[]);var o=e.indexOf(t),n=o+1;return o>-1&&n<e.length?e[n]:e[0]},t.prototype.overflowAllSides=function(t){var e=this.getOverflows();switch(t){case"top":return e.top||e.right||e.left;case"top-right":return e.top||e.right;case"top-left":return e.top||e.left;case"right":return e.right||e.top||e.bottom;case"right-top":return e.right||e.top;case"right-bottom":return e.right||e.bottom;case"bottom":return e.bottom||e.right||e.left;case"bottom-right":return e.bottom||e.right;case"bottom-left":return e.bottom||e.left;case"left":return e.left||e.top||e.bottom;case"left-top":return e.left||e.top;case"left-bottom":return e.left||e.bottom}},t.prototype.overflowMain=function(t){var e=this.getOverflows();switch(t){case"top":return e.top;case"right":return e.right;case"bottom":return e.bottom;case"left":return e.left}},t.prototype.setAlignedArrowDirection=function(t){switch(t){case"top-left":return"bottom-left";case"top-right":return"bottom-right";case"bottom-right":return"top-right";case"bottom-left":return"top-left"}},t.prototype.setAlignedBottomPositions=function(t,e){this.element.style.top=e.target.bottom+this.elementOffset+"px",this.element.style.left=e.target.left-t+"px"},t.prototype.setAlignedElementPosition=function(t){this.setElementWidth();var e=this.getSizesAndPositions();switch(t){case"bottom-left":this.setAlignedBottomPositions(0,e);break;case"bottom-right":this.setAlignedBottomPositions(e.element.width-e.target.width,e);break;case"top-left":this.setAlignedTopPositions(0,e);break;case"top-right":this.setAlignedTopPositions(e.element.width-e.target.width,e)}this.arrowDirection=this.setAlignedArrowDirection(t)},t.prototype.setAlignedTopPositions=function(t,e){this.element.style.top=e.target.top-e.element.height-this.elementOffset+"px",this.element.style.left=e.target.left-t+"px"},t.prototype.setArrowDirection=function(t){switch(t){case"top":return"bottom";case"top-left":return"bottom-right";case"top-right":return"bottom-left";case"right":return"left";case"right-top":return"left-bottom";case"right-bottom":return"left-top";case"bottom":return"top";case"bottom-right":return"top-left";case"bottom-left":return"top-right";case"left":return"right";case"left-bottom":return"right-top";case"left-top":return"right-bottom"}},t.prototype.setBottomPositions=function(t,e){this.element.style.top=e.target.bottom+this.elementOffset+"px",this.element.style.left=e.target.left+e.target.width/2-t+"px"},t.prototype.setElementPosition=function(t){this.setElementWidth();var e=this.getSizesAndPositions();switch(t){case"top":this.setTopPositions(e.element.width/2,e);break;case"top-left":this.setTopPositions(e.element.width-this.offsetArrow-this.differenceDiagonalToWidthArrow,e);break;case"top-right":this.setTopPositions(this.offsetArrow+this.differenceDiagonalToWidthArrow,e);break;case"right":this.setRightPositions(e.element.height/2,e);break;case"right-top":this.setRightPositions(e.element.height-this.offsetArrow-this.differenceDiagonalToWidthArrow,e);break;case"right-bottom":this.setRightPositions(this.offsetArrow,e);break;case"bottom":this.setBottomPositions(e.element.width/2,e);break;case"bottom-right":this.setBottomPositions(this.offsetArrow+this.differenceDiagonalToWidthArrow,e);break;case"bottom-left":this.setBottomPositions(e.element.width-this.offsetArrow-this.differenceDiagonalToWidthArrow,e);break;case"left":this.setLeftPositions(e.element.height/2,e);break;case"left-bottom":this.setLeftPositions(this.offsetArrow,e);break;case"left-top":this.setLeftPositions(e.element.height-this.offsetArrow,e)}this.arrowDirection=this.setArrowDirection(t)},t.prototype.setElementWidth=function(){this.isSetElementWidth&&this.targetElement&&(this.element.style.width=this.targetElement.clientWidth+"px")},t.prototype.setLeftPositions=function(t,e){this.element.style.top=e.target.top-t+e.target.height/2+"px",this.element.style.left=e.target.left-e.element.width-this.elementOffset+"px"},t.prototype.setRightPositions=function(t,e){this.element.style.top=e.target.top-t+e.target.height/2+"px",this.element.style.left=e.target.right+this.elementOffset+"px"},t.prototype.setTopPositions=function(t,e){this.element.style.top=e.target.top-e.element.height-this.elementOffset+"px",this.element.style.left=e.target.left+e.target.width/2-t+"px"},t.prototype.verifySubPositions=function(t){t.indexOf("-")>-1&&(t=t.substring(0,t.indexOf("-")),this.elementPosition(t));for(var e=0;e++<3;){if(!this.overflowAllSides(t))return null;t=this.nextPosition(t,this.customPositions||u),this.elementPosition(t)}},t.decorators=[{type:e.Injectable}],t}(),h=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{declarations:[],imports:[],exports:[],providers:[f],bootstrap:[]}]}],t}(),d=["pt","en","es"],g="pt";function m(){var t=navigator.language.toLowerCase().substring(0,2);return d.includes(t)?t:g}function y(t){return"string"==typeof t?"true"===(t=t.toLowerCase().trim())||"on"===t||""===t:"number"==typeof t?1===t:!!t}var b,v=function(){function t(){this.dateRegex=new RegExp("^(?:[0-9])\\d{1}(?:[0-9])\\d{1}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[12]\\d|3[01])$"),this.isoRegex=new RegExp("^(?:[0-9])\\d{1}(?:[0-9])\\d{1}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[12]\\d|3[01])T(?:[01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d(?:Z|-0[1-9]|-1\\d|-2[0-3]|-00:?(?:0[1-9]|[0-5]\\d)|\\+[01]\\d|\\+2[0-3])(?:|:?[0-5]\\d)$")}return t.prototype.convertIsoToDate=function(t,e,o){if(t){var n=this.getDateFromIso(t),i=n.year,r=n.month,s=n.day;if(e){var a=new Date(i,r-1,s,0,0,0);return this.setYearFrom0To100(a,i),a}if(o){a=new Date(i,r-1,s,23,59,59);return this.setYearFrom0To100(a,i),a}var c=Date.parse(t),l=6e4*(new Date).getTimezoneOffset();return new Date(c+l)}},t.prototype.convertDateToISO=function(t){if(t){var e=t.getFullYear(),o=t.getMonth()+1,n=t.getDate()<10?"0"+t.getDate():t.getDate(),i=o<10?"0"+o:o;return this.formatYear(e)+"-"+i+"-"+n}return null},t.prototype.formatYear=function(t){return t>999?t.toString():t>99&&t<1e3?"0"+t:t>9&&t<100?"00"+t:t>=0&&t<10?"000"+t:void 0},t.prototype.getDateFromIso=function(t){var e=parseInt(t.substring(8,10),10),o=parseInt(t.substring(5,7),10);return{year:parseInt(t.substring(0,4),10),month:o,day:e}},t.prototype.getDateForDateRange=function(t,e){var o=e?[0,0,0]:[23,59,59];if(t instanceof Date){var n=this.splitDate(t),i=n.year,r=n.month,s=n.day,a=new(Date.bind.apply(Date,[void 0,i,r,s].concat(o)));return this.setYearFrom0To100(a,i),a}if(this.isValidIso(t))return this.convertIsoToDate(t,e,!e)},t.prototype.isDateRangeValid=function(t,e){void 0===t&&(t=""),void 0===e&&(e="");for(var o=t.split("-").map(function(t){return parseInt(t,10)}),n=e.split("-").map(function(t){return parseInt(t,10)}),i=0;i<=o.length;i++){if(o[i]>n[i])return!0;if(o[i]<n[i])return!1}return!0},t.prototype.isValidIso=function(t){return this.dateRegex.test(t)||this.isoRegex.test(t)},t.prototype.setYearFrom0To100=function(t,e){e>=0&&e<100&&t.setFullYear(e)},t.prototype.sortDate=function(t,e,o){return function(t,e,o){if(void 0===o&&(o=!0),o){if(t<e)return-1;if(t>e)return 1}else if(!1===o){if(t<e)return 1;if(t>e)return-1}return 0}(this.validateDate(t),this.validateDate(e),o)},t.prototype.splitDate=function(t){return{year:t.getFullYear(),month:t.getMonth(),day:t.getDate()}},t.prototype.validateDateRange=function(t,e,o){return e&&o?t>=e&&t<=o:e&&!o?t>=e:!(!e&&o)||t<=o},t.prototype.validateDate=function(t){var e=t instanceof Date?this.convertDateToISO(t):t;return this.isValidIso(e)?e:void 0},t.decorators=[{type:e.Injectable}],t}(),C=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{providers:[v],bootstrap:[]}]}],t}(),w=["default","primary","danger","link"],P=function(){function t(){this._disabled=!1,this._loading=!1,this._small=!1,this._type="default",this.click=new e.EventEmitter}return Object.defineProperty(t.prototype,"loading",{get:function(){return this._loading},set:function(t){this._loading=y(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"small",{get:function(){return this._small},set:function(t){this._small=""===t||y(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return this._type},set:function(t){this._type=w.includes(t)?t:"default"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this._disabled},set:function(t){this._disabled=""===t||y(t)},enumerable:!0,configurable:!0}),t.propDecorators={label:[{type:e.Input,args:["t-label"]}],loading:[{type:e.Input,args:["t-loading"]}],icon:[{type:e.Input,args:["t-icon"]}],small:[{type:e.Input,args:["t-small"]}],type:[{type:e.Input,args:["t-type"]}],disabled:[{type:e.Input,args:["t-disabled"]}],click:[{type:e.Output,args:["t-click"]}]},t}(),I=(b=function(t,e){return(b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}b(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),O=function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return I(o,t),o.prototype.onClick=function(){this.click.emit(null)},o.decorators=[{type:e.Component,args:[{selector:"thf-button",template:'<button class="thf-button thf-text-ellipsis" type="button" [class.thf-button-danger]="type === \'danger\'" [class.thf-button-link]="type === \'link\'" [class.thf-button-primary]="type === \'primary\'" [class.thf-button-sm] = "small" [class.thf-clickable]="type === \'link\'" [disabled]="disabled || loading" (click)="onClick()"> <span *ngIf="loading" class="thf-icon thf-button-loading-icon"></span> <span *ngIf="icon" class="thf-icon {{ icon }}" aria-hidden="true"></span> <span *ngIf="label" class="thf-button-label">{{ label }}</span> </button> '}]}],o}(P),A=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[o.CommonModule],declarations:[O],exports:[O]}]}],t}(),T=function(){function t(){this._hideClose=!1,this._size="md",this.clickOut=!1,this.isHidden=!0,this.onXClosed=new e.EventEmitter}return Object.defineProperty(t.prototype,"size",{get:function(){return this._size},set:function(t){this._size=["sm","md","lg","xl","auto"].indexOf(t)>-1?t:"md"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"setClickOut",{set:function(t){this.clickOut=""!==t&&y(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hideClose",{get:function(){return this._hideClose},set:function(t){this._hideClose=y(t)},enumerable:!0,configurable:!0}),t.prototype.close=function(t){void 0===t&&(t=!1),this.isHidden=!0,t&&this.onXClosed.emit(t)},t.prototype.open=function(){this.validPrimaryAction(),this.isHidden=!1},t.prototype.validPrimaryAction=function(){var t=this;this.primaryAction||(this.primaryAction={action:function(){return t.close()},label:"Ok"}),this.primaryAction.action||(this.primaryAction.action=function(){return t.close()}),this.primaryAction.label||(this.primaryAction.label="Ok")},t.propDecorators={title:[{type:e.Input,args:["t-title"]}],primaryAction:[{type:e.Input,args:["t-primary-action"]}],secondaryAction:[{type:e.Input,args:["t-secondary-action"]}],size:[{type:e.Input,args:["t-size"]}],setClickOut:[{type:e.Input,args:["t-click-out"]}],hideClose:[{type:e.Input,args:["t-hide-close"]}]},t}(),x=function(){function t(){}return t.decorators=[{type:e.Injectable}],t}(),j=function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),D=function(t){function o(e){var o=t.call(this)||this;return o.thfModalService=e,o.focusableElements="input, select, textarea, button:not([disabled]), a",o.id=n.v4(),o}return j(o,t),o.prototype.close=function(e){void 0===e&&(e=!1),this.thfModalService.modalActive=void 0,t.prototype.close.call(this,e),document.removeEventListener("focus",this.focusFunction,!0),this.sourceElement&&this.sourceElement.focus()},o.prototype.closeModalOnEscapeKey=function(t){this.hideClose||(t.preventDefault(),t.stopPropagation(),this.close())},o.prototype.getPrimaryActionButtonType=function(){return this.primaryAction.danger?"danger":"primary"},o.prototype.getSecondaryActionButtonType=function(){return this.secondaryAction&&this.secondaryAction.danger&&!this.primaryAction.danger?"danger":"default"},o.prototype.onClickOut=function(t){this.clickOut&&!this.modalContent.nativeElement.contains(t.target)&&this.close()},o.prototype.open=function(){this.sourceElement=document.activeElement,t.prototype.open.call(this),this.handleFocus()},o.prototype.handleFocus=function(){var t=this;this.thfModalService.modalActive=this.id,setTimeout(function(){t.modalContent&&(t.initFocus(),document.addEventListener("focus",t.focusFunction,!0))})},o.prototype.initFocus=function(){var t=this;(this.focusFunction=function(e){t.thfModalService.modalActive=t.thfModalService.modalActive||t.id,t.modalContent.nativeElement.contains(e.target)||t.thfModalService.modalActive!==t.id||(e.stopPropagation(),t.firstElement.focus())},this.setFirstElement(),this.hideClose)?this.firstElement.focus():(this.modalContent.nativeElement.querySelectorAll(this.focusableElements)[1]||this.modalContent.nativeElement).focus()},o.prototype.setFirstElement=function(){this.firstElement=this.modalContent.nativeElement.querySelector(this.focusableElements)||this.modalContent.nativeElement},o.decorators=[{type:e.Component,args:[{selector:"thf-modal",template:'<div *ngIf="!isHidden" class="thf-modal" tabindex="0" (keydown.esc)="closeModalOnEscapeKey($event)"> <div class="thf-modal-overlay"> <div class="thf-modal-container thf-pb-2 thf-pt-2" (click)="onClickOut($event)"> <div class="thf-modal-vertical-align"> <div #modalContent class="thf-modal-content thf-modal-{{ size }}" tabindex="-1"> <div class="thf-modal-header"> <div class="thf-modal-title"> <a *ngIf="!hideClose" class="thf-modal-header-close-button" tabindex="0" (click)="close(true)"> <span class="thf-icon thf-icon-close"></span> </a> {{ title }} </div> </div> <div class="thf-modal-body"> <ng-content></ng-content> </div> <div class="thf-modal-footer"> <thf-button *ngIf="secondaryAction" [t-disabled]="secondaryAction.disabled" [t-label]="secondaryAction.label" [t-loading]="secondaryAction.loading" [t-type]="getSecondaryActionButtonType()" (t-click)="secondaryAction.action()"> </thf-button> <thf-button class="thf-button-modal-first-action" [t-disabled]="primaryAction.disabled" [t-label]="primaryAction.label" [t-loading]="primaryAction.loading" [t-type]="getPrimaryActionButtonType()" (t-click)="primaryAction.action()"> </thf-button> </div> </div> </div> </div> </div> </div> '}]}],o.ctorParameters=function(){return[{type:x}]},o.propDecorators={modalContent:[{type:e.ViewChild,args:["modalContent",{read:e.ElementRef}]}]},o}(T),_=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[o.CommonModule,A],declarations:[D],exports:[D],providers:[x]}]}],t}(),k={Alert:0,Confirm:1};k[k.Alert]="Alert",k[k.Confirm]="Confirm";var E=function(){return(E=Object.assign||function(t){for(var e,o=1,n=arguments.length;o<n;o++)for(var i in e=arguments[o])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},S={en:{ok:"Ok"},es:{ok:"Ok"},pt:{ok:"Ok"}},L={en:{cancel:"Cancel",confirm:"Confirm"},es:{cancel:"Cancelar",confirm:"Confirmar"},pt:{cancel:"Cancelar",confirm:"Confirmar"}},M=function(){function t(){this.primaryAction={label:"ok",action:function(){}}}return t.prototype.ngOnDestroy=function(){this.closeSubscription.unsubscribe()},t.prototype.ngOnInit=function(){var t=this;this.closeSubscription=this.thfModal.onXClosed.subscribe(function(e){return t.destroy()})},t.prototype.close=function(){this.thfModal.close(),this.destroy()},t.prototype.destroy=function(){this.componentRef&&this.componentRef.destroy()},t.prototype.configDialog=function(t,e,o,n){var i=this;this.primaryAction={label:t,action:function(){e&&e(),i.close()}},o&&(this.secondaryAction={label:o,action:function(){n&&n(),i.close()}})},t.prototype.open=function(t,e,o){switch(this.title=t.title,this.message=t.message,this.componentRef=o,this.setDialogLiterals(t,e),e){case k.Confirm:this.configDialog(this.literalsConfirm.confirm,t.confirm,this.literalsConfirm.cancel,t.cancel);break;case k.Alert:this.configDialog(this.literalsAlert.ok,t.ok)}this.thfModal.open()},t.prototype.setDialogLiterals=function(t,e){var o=S,n=L,i=t.literals;e===k.Alert?this.literalsAlert=E({},o[g],o[m()],i):this.literalsConfirm=E({},n[g],n[m()],i)},t.decorators=[{type:e.Component,args:[{template:'<thf-modal [t-title]="title" [t-primary-action]="primaryAction" [t-secondary-action]="secondaryAction"> {{ message }} </thf-modal> '}]}],t.propDecorators={thfModal:[{type:e.ViewChild,args:[D]}]},t}(),R=function(){function t(){}return t.prototype.confirm=function(t){this.openDialog(k.Confirm,t)},t.prototype.alert=function(t){this.openDialog(k.Alert,t)},t}(),F=function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),B=function(t){function o(e){var o=t.call(this)||this;return o.thfComponentInjector=e,o}return F(o,t),o.prototype.openDialog=function(t,e){var o=this.thfComponentInjector.createComponentInApplication(M);o.changeDetectorRef.detectChanges(),o.instance.open(e,t,o)},o.decorators=[{type:e.Injectable}],o.ctorParameters=function(){return[{type:l}]},o}(R),V=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{declarations:[M],imports:[_],exports:[M],entryComponents:[M],providers:[B]}]}],t}(),W=function(){function t(){}return t.prototype.transform=function(t,e){if(!t)return"";e instanceof Array||(e=[e]);for(var o=0,n=e;o<n.length;o++){var i=n[o];t=t.replace(/(\{\w*\})+/,i)}return t},t}(),N=function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),z=function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return N(o,t),o.decorators=[{type:e.Pipe,args:[{name:"thfI18n"}]}],o}(W),H={Bottom:0,Top:1};H[H.Bottom]="Bottom",H[H.Top]="Top";var Y=function(){return function(){this.orientation=H.Bottom}}(),q={Error:0,Information:1,Success:2,Warning:3};q[q.Error]="Error",q[q.Information]="Information",q[q.Success]="Success",q[q.Warning]="Warning";var X=function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),$=function(t){function o(e,o){var n=t.call(this)||this;return n.changeDetector=e,n.elementeRef=o,n.margin=20,n.observableOnClose=new i.Subject,n.showToaster=!0,n.toasterPosition="thf-toaster-bottom",n}return X(o,t),o.prototype.changePosition=function(t){this.elementeRef.nativeElement.style.display="table",this.margin=6+44*t+6*t,this.orientation===H.Top?this.toaster.nativeElement.style.top=this.margin+"px":this.toaster.nativeElement.style.bottom=this.margin+"px"},o.prototype.close=function(){this.showToaster=!1,this.observableOnClose.next(!0)},o.prototype.configToaster=function(t){switch(this.type=t.type,this.message=t.message,this.orientation=t.orientation,this.position=t.position,this.action=t.action,this.actionLabel=t.actionLabel?t.actionLabel:"Fechar",this.componentRef=t.componentRef,this.orientation===H.Top&&(this.toasterPosition="thf-toaster-top"),this.changePosition(this.position),this.type){case q.Error:this.toasterType="thf-toaster-error",this.icon="thf-icon-close";break;case q.Information:this.toasterType="thf-toaster-info",this.icon="thf-icon-info";break;case q.Success:this.toasterType="thf-toaster-success",this.icon="thf-icon-ok";break;case q.Warning:this.toasterType="thf-toaster-warning",this.icon="thf-icon-warning"}this.changeDetector.detectChanges()},o.prototype.getShowToaster=function(){return this.showToaster},o.prototype.getIcon=function(){return this.icon},o.prototype.getToasterPosition=function(){return this.toasterPosition},o.prototype.getToasterType=function(){return this.toasterType},o.prototype.thfToasterAction=function(){this.action(this)},o.decorators=[{type:e.Component,args:[{selector:"thf-toaster",template:'<div #toaster *ngIf="getShowToaster()" class="thf-toaster {{ getToasterType() }} {{ getToasterPosition() }} thf-clickable" (click)="close()"> <div class="thf-toaster-message"> <span class="thf-icon {{ getIcon() }}"></span> {{ message }} </div> <div *ngIf="action !== undefined" (click)="thfToasterAction()" class="thf-toaster-action"> {{ actionLabel }} </div> </div> '}]}],o.ctorParameters=function(){return[{type:e.ChangeDetectorRef},{type:e.ElementRef}]},o.propDecorators={toaster:[{type:e.ViewChild,args:["toaster"]}]},o}(Y),K=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{declarations:[$],imports:[o.CommonModule],exports:[],entryComponents:[$],providers:[],bootstrap:[]}]}],t}(),G=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{declarations:[z],imports:[c,p,h,C,V,K],exports:[c,p,h,C,V,z,K],providers:[],bootstrap:[]}]}],t}(),J=new e.InjectionToken("I18N_CONFIG"),Z=function(){function t(t,e){this.config=t,this.http=e,this.varI18n={},this.useCache=!1,this.servicesContext={},this.setConfig(t)}return t.prototype.setConfig=function(t){if(t.default&&(t.default.language?this.languageDefault=t.default.language.toLowerCase():this.languageDefault=navigator.language.toLowerCase(),this.contextDefault=t.default.context?t.default.context:"",this.useCache=!!t.default.cache&&t.default.cache),t.contexts&&(this.setVarI18n(t.contexts),!this.contextDefault))for(var e in t.contexts)if(this.config.contexts.hasOwnProperty(e)){this.contextDefault=e;break}},t.prototype.getLiterals=function(t){var e=this;void 0===t&&(t={});var o=t.language?t.language.toLowerCase():this.languageDefault.toLowerCase(),n=t.context?t.context:this.contextDefault,r=t.literals?t.literals:[];return new i.Observable(function(t){e.servicesContext[n]?e.getLiteralsFromContextService(o,n,r,t):e.getLiteralsFromContextConstant(o,n,r,t)})},t.prototype.getLiteralsFromContextService=function(t,e,o,n,i,r){void 0===i&&(i={}),void 0===r&&(r=null);var s=r||t;i=this.mergeObject(i,this.searchInVarI18n(s,e,o)),this.countObject(i)>0&&n.next(i),o.length>0?o.length>this.countObject(i)&&this.getLiteralsLocalStorageAndCache(s,e,o,n,i,r):this.getLiteralsLocalStorageAndCache(s,e,o,n,i,r)},t.prototype.getLiteralsLocalStorageAndCache=function(t,e,o,n,i,r){var s=this;void 0===r&&(r=null);var a,c=r||t;this.useCache&&(a=this.searchInLocalStorage(c,e,o),this.countObject(a)>0&&(this.updateVarI18n(t,e,a),i=this.mergeObject(i,a),n.next(i))),this.getHttpService(this.servicesContext[e],c,o).subscribe(function(c){c&&(s.updateLocalStorage(t,e,c),s.updateVarI18n(t,e,c),a=s.searchInVarI18n(t,e,o),i=s.mergeObject(i,a),n.next(i)),o.length>s.countObject(i)&&("pt-br"===r?(i=s.completeFaultLiterals(t,e,o,i),s.updateLocalStorage(t,e,i),s.updateVarI18n(t,e,i),n.next(i)):s.getLiteralsFromContextService(t,e,o,n,i,"pt-br"))})},t.prototype.getLiteralsFromContextConstant=function(t,e,o,n,i){void 0===i&&(i={}),i=this.mergeObject(i,this.searchInVarI18n(t,e,o)),this.countObject(i)>0&&n.next(i),o.length>0?o.length>this.countObject(i)&&("pt-br"===t?(i=this.completeFaultLiterals(t,e,o,i),n.next(i)):this.getLiteralsFromContextConstant("pt-br",e,o,n,i)):(0===this.countObject(i)&&"pt-br"!==t&&this.getLiteralsFromContextConstant("pt-br",e,o,n,i),n.next(i),n.complete())},t.prototype.searchInLocalStorage=function(t,e,o){var n={};if(o.length>0)for(var i=0;i<o.length;i++){var r=o[i],s=localStorage.getItem(t+"-"+e+"-"+r);s&&(n[r]=s)}return n},t.prototype.searchInVarI18n=function(t,e,o){var n={};if(this.varI18n[t]&&this.varI18n[t][e]){var i=this.varI18n[t][e];if(o.length>0)for(var r=0;r<o.length;r++){var s=o[r];i.hasOwnProperty(s)&&(n[s]=i[s])}else n=i}return n},t.prototype.updateLocalStorage=function(t,e,o){if(this.useCache)for(var n in o)o.hasOwnProperty(n)&&localStorage.setItem(t+"-"+e+"-"+n,o[n])},t.prototype.setVarI18n=function(t){for(var e in t)if(t.hasOwnProperty(e)){var o=t[e];for(var n in o)if(o.hasOwnProperty(n)){var i=o[n];"url"===n?this.servicesContext[e]=i:this.updateVarI18n(n,e,i)}}},t.prototype.updateVarI18n=function(t,e,o){var n;t=t.toLowerCase(),this.varI18n[t]||(this.varI18n[t]=((n={})[e]={},n)),this.varI18n[t][e]||(this.varI18n[t][e]={}),this.varI18n[t][e]=this.mergeObject(o,this.varI18n[t][e])},t.prototype.getHttpService=function(t,e,o){var n="?language="+e;return o.length>0&&(n+="&literals="+o.join()),t=t.lastIndexOf("/")===t.length-1?t.substr(0,t.length-1):t,this.http.get(t+n)},t.prototype.completeFaultLiterals=function(t,e,o,n){for(var i=0;i<o.length;i++){var r=o[i];n[r]||(n[r]=r)}return n},t.prototype.countObject=function(t){return Object.keys(t).length},t.prototype.mergeObject=function(t,e){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);return e},t.ctorParameters=function(){return[{type:void 0,decorators:[{type:e.Inject,args:[J]}]},{type:r.HttpClient,decorators:[{type:e.Inject,args:[r.HttpClient]}]}]},t}(),Q=function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),U=function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return Q(o,t),o.decorators=[{type:e.Injectable}],o}(Z);function tt(t,e){return new U(t,e)}var et=function(){function t(){}return t.config=function(e){return{ngModule:t,providers:[{provide:J,useValue:e},{provide:U,useFactory:tt,deps:[J,r.HttpClient]}]}},t.decorators=[{type:e.NgModule,args:[{}]}],t}(),ot=function(){function t(){this.stackTop=[],this.stackBottom=[],this.durationToaster=1e4}return t.prototype.success=function(t){this.createToaster(this.buildToaster(t,q.Success))},t.prototype.warning=function(t){this.createToaster(this.buildToaster(t,q.Warning))},t.prototype.error=function(t){this.createToaster(this.buildToaster(t,q.Error))},t.prototype.information=function(t){this.createToaster(this.buildToaster(t,q.Information))},t.prototype.buildToaster=function(t,e){var o,n=this,i=0;void 0===t.orientation||t.orientation===H.Bottom?(i=this.stackBottom.length,o=H.Bottom):(i=this.stackTop.length,o=H.Top);var r={componentRef:void 0,message:t.message||t,type:e,orientation:o,action:t.action,actionLabel:t.actionLabel,position:i};return t.action&&(r.action=function(e){t.action(),n.destroyToaster(e.componentRef)}),r},t}(),nt=function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),it=function(t){function o(e){var o=t.call(this)||this;return o.thfComponentInjector=e,o}return nt(o,t),o.prototype.createToaster=function(t){var e=this,o=this.thfComponentInjector.createComponentInApplication($);t.componentRef=o,o.changeDetectorRef.detectChanges(),o.instance.configToaster(t),t.orientation===H.Top?this.stackTop.push(o):this.stackBottom.push(o),this.observableOnClose(o),void 0===t.action&&setTimeout(function(){e.destroyToaster(o)},this.durationToaster)},o.prototype.destroyToaster=function(t){var e,o=(e=t.instance.orientation===H.Top?this.stackTop:this.stackBottom).indexOf(t);e.splice(o,1),this.thfComponentInjector.destroyComponentInApplication(t);for(var n=0;n<e.length;n++)e[n].instance.changePosition(n)},o.prototype.observableOnClose=function(t){var e=this;t.instance.observableOnClose.subscribe(function(){e.destroyToaster(t)})},o.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],o.ctorParameters=function(){return[{type:l}]},o.ngInjectableDef=e.defineInjectable({factory:function(){return new o(e.inject(l))},token:o,providedIn:"root"}),o}(ot);t.ThfServicesModule=G,t.ThfDialogType=k,t.ThfDialogService=B,t.ThfDialogModule=V,t.ThfI18nPipe=z,t.returnThfI18nService=tt,t.ThfI18nService=U,t.ThfI18nModule=et,t.ThfNotificationService=it,t.ThfToasterOrientation=H,t.ThfToasterType=q,t.ThfNotificationModule=K,Object.defineProperty(t,"__esModule",{value:!0})});