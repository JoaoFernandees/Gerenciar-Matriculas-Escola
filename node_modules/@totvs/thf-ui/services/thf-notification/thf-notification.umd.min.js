!function(t,o){"object"==typeof exports&&"undefined"!=typeof module?o(exports,require("@angular/core"),require("rxjs"),require("@angular/common")):"function"==typeof define&&define.amd?define(["exports","@angular/core","rxjs","@angular/common"],o):o(t["thf-notification"]={},t.core,t.rxjs,t.common)}(this,function(t,o,e,n){"use strict";var r=function(){function t(t,o,e){this.componentResolver=t,this.applicationRef=o,this.injector=e}return t.prototype.createComponentInApplication=function(t){var o=this.componentResolver.resolveComponentFactory(t).create(this.injector);this.applicationRef.attachView(o.hostView);var e=o.hostView.rootNodes[0];return document.body.appendChild(e),o},t.prototype.destroyComponentInApplication=function(t){this.applicationRef.detachView(t.hostView),t.destroy()},t.decorators=[{type:o.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[{type:o.ComponentFactoryResolver},{type:o.ApplicationRef},{type:o.Injector}]},t.ngInjectableDef=o.defineInjectable({factory:function(){return new t(o.inject(o.ComponentFactoryResolver),o.inject(o.ApplicationRef),o.inject(o.INJECTOR))},token:t,providedIn:"root"}),t}(),i={Bottom:0,Top:1};i[i.Bottom]="Bottom",i[i.Top]="Top";var s={Error:0,Information:1,Success:2,Warning:3};s[s.Error]="Error",s[s.Information]="Information",s[s.Success]="Success",s[s.Warning]="Warning";var a,c=function(){function t(){this.stackTop=[],this.stackBottom=[],this.durationToaster=1e4}return t.prototype.success=function(t){this.createToaster(this.buildToaster(t,s.Success))},t.prototype.warning=function(t){this.createToaster(this.buildToaster(t,s.Warning))},t.prototype.error=function(t){this.createToaster(this.buildToaster(t,s.Error))},t.prototype.information=function(t){this.createToaster(this.buildToaster(t,s.Information))},t.prototype.buildToaster=function(t,o){var e,n=this,r=0;void 0===t.orientation||t.orientation===i.Bottom?(r=this.stackBottom.length,e=i.Bottom):(r=this.stackTop.length,e=i.Top);var s={componentRef:void 0,message:t.message||t,type:o,orientation:e,action:t.action,actionLabel:t.actionLabel,position:r};return t.action&&(s.action=function(o){t.action(),n.destroyToaster(o.componentRef)}),s},t}(),p=function(){return function(){this.orientation=i.Bottom}}(),f=(a=function(t,o){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)o.hasOwnProperty(e)&&(t[e]=o[e])})(t,o)},function(t,o){function e(){this.constructor=t}a(t,o),t.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)}),h=function(t){function n(o,n){var r=t.call(this)||this;return r.changeDetector=o,r.elementeRef=n,r.margin=20,r.observableOnClose=new e.Subject,r.showToaster=!0,r.toasterPosition="thf-toaster-bottom",r}return f(n,t),n.prototype.changePosition=function(t){this.elementeRef.nativeElement.style.display="table",this.margin=6+44*t+6*t,this.orientation===i.Top?this.toaster.nativeElement.style.top=this.margin+"px":this.toaster.nativeElement.style.bottom=this.margin+"px"},n.prototype.close=function(){this.showToaster=!1,this.observableOnClose.next(!0)},n.prototype.configToaster=function(t){switch(this.type=t.type,this.message=t.message,this.orientation=t.orientation,this.position=t.position,this.action=t.action,this.actionLabel=t.actionLabel?t.actionLabel:"Fechar",this.componentRef=t.componentRef,this.orientation===i.Top&&(this.toasterPosition="thf-toaster-top"),this.changePosition(this.position),this.type){case s.Error:this.toasterType="thf-toaster-error",this.icon="thf-icon-close";break;case s.Information:this.toasterType="thf-toaster-info",this.icon="thf-icon-info";break;case s.Success:this.toasterType="thf-toaster-success",this.icon="thf-icon-ok";break;case s.Warning:this.toasterType="thf-toaster-warning",this.icon="thf-icon-warning"}this.changeDetector.detectChanges()},n.prototype.getShowToaster=function(){return this.showToaster},n.prototype.getIcon=function(){return this.icon},n.prototype.getToasterPosition=function(){return this.toasterPosition},n.prototype.getToasterType=function(){return this.toasterType},n.prototype.thfToasterAction=function(){this.action(this)},n.decorators=[{type:o.Component,args:[{selector:"thf-toaster",template:'<div #toaster *ngIf="getShowToaster()" class="thf-toaster {{ getToasterType() }} {{ getToasterPosition() }} thf-clickable" (click)="close()"> <div class="thf-toaster-message"> <span class="thf-icon {{ getIcon() }}"></span> {{ message }} </div> <div *ngIf="action !== undefined" (click)="thfToasterAction()" class="thf-toaster-action"> {{ actionLabel }} </div> </div> '}]}],n.ctorParameters=function(){return[{type:o.ChangeDetectorRef},{type:o.ElementRef}]},n.propDecorators={toaster:[{type:o.ViewChild,args:["toaster"]}]},n}(p),u=function(){var t=function(o,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)o.hasOwnProperty(e)&&(t[e]=o[e])})(o,e)};return function(o,e){function n(){this.constructor=o}t(o,e),o.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),l=function(t){function e(o){var e=t.call(this)||this;return e.thfComponentInjector=o,e}return u(e,t),e.prototype.createToaster=function(t){var o=this,e=this.thfComponentInjector.createComponentInApplication(h);t.componentRef=e,e.changeDetectorRef.detectChanges(),e.instance.configToaster(t),t.orientation===i.Top?this.stackTop.push(e):this.stackBottom.push(e),this.observableOnClose(e),void 0===t.action&&setTimeout(function(){o.destroyToaster(e)},this.durationToaster)},e.prototype.destroyToaster=function(t){var o,e=(o=t.instance.orientation===i.Top?this.stackTop:this.stackBottom).indexOf(t);o.splice(e,1),this.thfComponentInjector.destroyComponentInApplication(t);for(var n=0;n<o.length;n++)o[n].instance.changePosition(n)},e.prototype.observableOnClose=function(t){var o=this;t.instance.observableOnClose.subscribe(function(){o.destroyToaster(t)})},e.decorators=[{type:o.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:r}]},e.ngInjectableDef=o.defineInjectable({factory:function(){return new e(o.inject(r))},token:e,providedIn:"root"}),e}(c),y=function(){function t(){}return t.decorators=[{type:o.NgModule,args:[{declarations:[h],imports:[n.CommonModule],exports:[],entryComponents:[h],providers:[],bootstrap:[]}]}],t}();t.ThfNotificationService=l,t.ThfToasterOrientation=i,t.ThfToasterType=s,t.ThfNotificationModule=y,Object.defineProperty(t,"__esModule",{value:!0})});