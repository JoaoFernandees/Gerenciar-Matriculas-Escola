!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/common"),require("@angular/router"),require("@angular/common/http"),require("@angular/forms"),require("rxjs"),require("uuid"),require("@angular/platform-browser"),require("rxjs/operators"),require("@angular/animations")):"function"==typeof define&&define.amd?define(["exports","@angular/core","@angular/common","@angular/router","@angular/common/http","@angular/forms","rxjs","uuid","@angular/platform-browser","rxjs/operators","@angular/animations"],e):e(t["thf-ui"]={},t.core,t.common,t.router,t.http,t.forms,t.rxjs,t.uuid,t.platformBrowser,t.operators,t.animations)}(this,function(t,e,n,i,o,r,s,a,l,c,u){"use strict";var p,h=["xs","sm","md","lg","xl"],d=function(){function t(){this._size="md"}return Object.defineProperty(t.prototype,"size",{get:function(){return this._size},set:function(t){this._size=h.includes(t)?t:"md"},enumerable:!0,configurable:!0}),t.propDecorators={src:[{type:e.Input,args:["t-src"]}],size:[{type:e.Input,args:["t-size"]}]},t}(),f=(p=function(t,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}p(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),g=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return f(n,t),n.prototype.ngOnInit=function(){this.src||(this.src="./assets/images/totvs-avatar-default.svg")},n.prototype.onError=function(){this.src="./assets/images/totvs-avatar-default.svg"},n.decorators=[{type:e.Component,args:[{selector:"thf-avatar",template:'<div class="thf-avatar thf-avatar-{{ size }}"> <img class="thf-avatar-image" [src]="src" alt="" (error)="onError()"> </div> '}]}],n}(d),m=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule],declarations:[g],exports:[g]}]}],t}(),y=function(){function t(){this.itemsView=[],this._items=[]}return Object.defineProperty(t.prototype,"items",{get:function(){return this._items},set:function(t){this._items=t,this.itemsView=[].concat(t)},enumerable:!0,configurable:!0}),t.propDecorators={favoriteService:[{type:e.Input,args:["t-favorite-service"]}],items:[{type:e.Input,args:["t-items"]}],paramsService:[{type:e.Input,args:["t-params-service"]}]},t}(),b=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),v=function(t){function n(e,n,i){var o=t.call(this)||this;return o.element=n,o.renderer=i,o.showDropdown=!1,o.showDropdownToggle=!1,o._breadcrumbItemsLenght=0,o.calculatedElement=!1,o.hiddenWithoutResize=!1,o.initialized=!1,o.wasClickedonDropdown=function(t){o.checkClickOutElement(t,o.dropdownIcon)&&(o.showDropdown=!1,o.removeClickoutListener())},o.differ=e.find([]).create(null),o}return b(n,t),n.prototype.ngAfterViewInit=function(){this.initialized=!0,this.initializeResizeListener()},n.prototype.ngDoCheck=function(){this.breadcrumbElement.nativeElement.offsetWidth&&!this.calculatedElement&&this.initialized&&this.initBreadcrumbSize(),this.hiddenWithoutResize&&(this.debounceResize(),this.hiddenWithoutResize=!1),this.checkChangeOnItems()},n.prototype.ngOnDestroy=function(){this.removeClickoutListener(),this.removeResizeListener()},n.prototype.toggleDropdown=function(){this.showDropdown=!this.showDropdown,this.initializeClickoutListener()},n.prototype.checkClickOutElement=function(t,e){return e&&!e.nativeElement.contains(t.target)},n.prototype.checkChangeOnItems=function(){this.differ&&(this.differ.diff(this.items)&&(this.calcBreadcrumbItemsWidth(),this.calculatedElement=!1))},n.prototype.calcBreadcrumb=function(){var t=this.getBreadcrumbFavoriteWidth();this.getBreadcrumbWidth(t)<=this._breadcrumbItemsLenght?this.enableBreadcrumbResponsive():this.disableBreadcrumbResponsive()},n.prototype.getBreadcrumbFavoriteWidth=function(){return this.favoriteService?this.element.nativeElement.querySelector(".thf-breadcrumb-favorite").offsetWidth+20:0},n.prototype.getBreadcrumbWidth=function(t){return this.element.nativeElement.querySelector(".thf-breadcrumb").offsetWidth-t},n.prototype.calcBreadcrumbItemsWidth=function(){var t=this.element.nativeElement.querySelectorAll(".thf-breadcrumb-item, .thf-breadcrumb-item-unclickable");this._breadcrumbItemsLenght=Array.from(t).map(function(t){return t.offsetWidth}).reduce(function(t,e){return t+e},16)},n.prototype.enableBreadcrumbResponsive=function(){this.showDropdownToggle=!0,this.itemsView=this.items.slice(-2),this.dropdownItems=this.items.slice(0,-2).reverse()},n.prototype.disableBreadcrumbResponsive=function(){this.showDropdownToggle=!1,this.itemsView=[].concat(this.items),this.showDropdown=!1},n.prototype.debounceResize=function(){var t=this;clearTimeout(this.timeoutResize),this.timeoutResize=setTimeout(function(){t.calculatedElement&&!t.hiddenWithoutResize&&0===t.breadcrumbElement.nativeElement.offsetWidth?t.hiddenWithoutResize=!0:t.calcBreadcrumb()},50)},n.prototype.initBreadcrumbSize=function(){this.calcBreadcrumbItemsWidth(),this.calcBreadcrumb(),this.calculatedElement=!0},n.prototype.initializeClickoutListener=function(){this.clickoutListener=this.renderer.listen("document","click",this.wasClickedonDropdown)},n.prototype.initializeResizeListener=function(){var t=this;this.resizeListener=this.renderer.listen("window","resize",function(e){t.debounceResize()})},n.prototype.removeClickoutListener=function(){this.clickoutListener&&this.clickoutListener()},n.prototype.removeResizeListener=function(){this.resizeListener()},n.decorators=[{type:e.Component,args:[{selector:"thf-breadcrumb",template:'<div class="thf-breadcrumb" #breadcrumb> <ul class="thf-breadcrumb-items"> <li #dropdownIcon *ngIf="showDropdownToggle" class="thf-breadcrumb-item thf-clickable" (click)="toggleDropdown()"> <span class="thf-breadcrumb-icon-more thf-icon thf-icon-more"></span> <div class="thf-breadcrumb-arrow"></div> </li> <div *ngFor="let item of itemsView, let itemIndex = index;"> <thf-breadcrumb-item [t-action]="item.action" [t-label]="item.label" [t-link]="item.link" [t-item-active]="itemIndex === (itemsView.length - 1)"> </thf-breadcrumb-item> </div> </ul> <thf-breadcrumb-favorite *ngIf="favoriteService" [t-favorite-service]="favoriteService" [t-item-active]="items[items.length - 1]" [t-params-service]="paramsService"> </thf-breadcrumb-favorite> <thf-breadcrumb-dropdown *ngIf="showDropdown" [t-items]="dropdownItems"> </thf-breadcrumb-dropdown> </div> '}]}],n.ctorParameters=function(){return[{type:e.IterableDiffers},{type:e.ElementRef},{type:e.Renderer2}]},n.propDecorators={breadcrumbElement:[{type:e.ViewChild,args:["breadcrumb",{read:e.ElementRef}]}],dropdownIcon:[{type:e.ViewChild,args:["dropdownIcon",{read:e.ElementRef}]}]},n}(y),w=function(){function t(){}return t.decorators=[{type:e.Component,args:[{selector:"thf-breadcrumb-dropdown",template:'<ul class="thf-breadcrumb-dropdown"> <li class="thf-breadcrumb-dropdown-item" *ngFor="let item of items" [routerLink]="item.link"> {{ item.label }} </li> </ul> '}]}],t.propDecorators={items:[{type:e.Input,args:["t-items"]}]},t}(),C=function(){function t(t){this.http=t}return Object.defineProperty(t.prototype,"url",{get:function(){return this._url},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bodyParams",{get:function(){return this._bodyParams},enumerable:!0,configurable:!0}),t.prototype.configService=function(t,e,n){this._url=t,this._bodyParams={isFavorite:!1,url:n.link,params:e}},t.prototype.sendStatusFavorite=function(t){return this.bodyParams.isFavorite=t,this.http.post(this.url,this.bodyParams)},t.prototype.getFavorite=function(){return this.http.get(this.url,{responseType:"json",params:{url:this.bodyParams.url}})},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:o.HttpClient}]},t}(),I=function(){function t(t){this.service=t,this.favorite=!1}return t.prototype.ngOnInit=function(){this.service.configService(this.favoriteService,this.paramsService,this.itemActive),this.getStatusFavorite()},t.prototype.ngOnDestroy=function(){this.getSubscription&&this.getSubscription.unsubscribe(),this.setSubscription&&this.setSubscription.unsubscribe()},t.prototype.toggleFavoriteAction=function(){this.favorite?this.setStatusFavorite(!1):this.setStatusFavorite(!0)},t.prototype.getStatusFavorite=function(){var t=this;this.getSubscription=this.service.getFavorite().subscribe(function(e){return t.favorite=e.isFavorite})},t.prototype.setStatusFavorite=function(t){var e=this;this.setSubscription=this.service.sendStatusFavorite(t).subscribe(function(t){return e.favorite=t.isFavorite})},t.decorators=[{type:e.Component,args:[{selector:"thf-breadcrumb-favorite",template:'<div class="thf-breadcrumb-favorite thf-clickable" (click)="toggleFavoriteAction()"> <span class="thf-icon thf-icon-star thf-breadcrumb-favorite-star thf-clickable" [class.thf-breadcrumb-favorite-star-active]="favorite"> </span> <span class="thf-hidden-sm thf-breadcrumb-favorite-label" *ngIf="favorite">Desfavoritar</span> <span class="thf-hidden-sm thf-breadcrumb-favorite-label" *ngIf="!favorite">Favoritar</span> </div> ',providers:[C]}]}],t.ctorParameters=function(){return[{type:C}]},t.propDecorators={favoriteService:[{type:e.Input,args:["t-favorite-service"]}],itemActive:[{type:e.Input,args:["t-item-active"]}],paramsService:[{type:e.Input,args:["t-params-service"]}]},t}(),O=function(){function t(){this.itemActive=!1}return t.decorators=[{type:e.Component,args:[{selector:"thf-breadcrumb-item",template:'<li *ngIf="!itemActive" [class.thf-breadcrumb-item]="link || action" [class.thf-breadcrumb-item-unclickable]="!link && !action"> <a *ngIf="link" [routerLink]="link"> <label class="thf-breadcrumb-label">{{ label }}</label> <div class="thf-breadcrumb-arrow"></div> </a> <a *ngIf="!link && action" (click)="action(label)"> <label class="thf-breadcrumb-label">{{ label }}</label> <div class="thf-breadcrumb-arrow"></div> </a> <a *ngIf="!link && !action"> <label class="thf-breadcrumb-label">{{ label }}</label> <div class="thf-breadcrumb-arrow"></div> </a> </li> <li *ngIf="itemActive" class="thf-breadcrumb-item-unclickable"> <label class="thf-breadcrumb-label">{{ label }}</label> </li> '}]}],t.propDecorators={action:[{type:e.Input,args:["t-action"]}],label:[{type:e.Input,args:["t-label"]}],link:[{type:e.Input,args:["t-link"]}],itemActive:[{type:e.Input,args:["t-item-active"]}]},t}(),k=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule,i.RouterModule],declarations:[v,w,I,O],exports:[v]}]}],t}(),D=["pt","en","es"],_="pt";function P(){var t=navigator.language.toLowerCase().substring(0,2);return D.includes(t)?t:_}function E(t){return"string"==typeof t?"true"===(t=t.toLowerCase().trim())||"on"===t||""===t:"number"==typeof t?1===t:!!t}function S(t,e){var n=parseInt(t,10),i=parseInt(e,10);return n||0===n?n:i||0===i?i:void 0}function M(t,e){return typeof t===e}function A(t,e,n){M(t,"function")?t.call(e,n):e[t](n)}function x(t,e,n){if(t){var i,o=parseInt(t.substring(8,10),10),r=parseInt(t.substring(5,7),10),s=parseInt(t.substring(0,4),10);if(e)return F(i=new Date(s,r-1,o,0,0,0),s),i;if(n)return F(i=new Date(s,r-1,o,23,59,59),s),i;var a=Date.parse(t),l=6e4*(new Date).getTimezoneOffset();return new Date(a+l)}}function T(t,e){if(t){var n=t.getMonth()+1,i=t.getDate()<10?"0"+t.getDate():t.getDate(),o=n<10?"0"+n:n,r=R(t.getFullYear()),s=t.toString();return null!==e?r+"-"+o+"-"+i+e:r+"-"+o+"-"+i+"T"+s.substring(16,24)+s.substring(28,31)+":"+s.substring(31,33)}return null}function R(t){return t>=1e3?t.toString():t>99&&t<1e3?"0"+t:t>9&&t<100?"00"+t:t>=0&&t<10?"000"+t:void 0}function L(){return window.navigator.userAgent.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone/i)}function V(t){return 13===t.keyCode||13===t.which}function F(t,e){e>=0&&e<100&&t.setFullYear(e)}function j(t){for(var e,n=function(n){if(0===n)return e=n,"continue";t.findIndex(function(e){return e.value===t[n].value})!==n&&(t.splice(n,1),n--),e=n},i=0;i<t.length;i++)n(i),i=e}function N(t){for(var e=0;e<t.length;e++)void 0!==t[e].value&&null!==t[e].value||(t.splice(e,1),e--)}function z(t){return null!=t&&""!==t||!1===t}function q(t){return!!t&&t.startsWith("http")}function B(t){window.open(t,"_blank")}function H(t){var e="";return t&&(e=t.replace(/^(\.)+/g,"")),e.startsWith("/")||(e="/".concat(e)),e}function W(t,e,n){if(void 0===n&&(n=!0),n){if(t<e)return-1;if(t>e)return 1}else if(!1===n){if(t<e)return 1;if(t>e)return-1}return 0}function $(t,e,n){return e&&n?t>=e&&t<=n:e&&!n?t>=e:!(!e&&n)||t<=n}function U(t){return""+t.charAt(0).toUpperCase()+t.slice(1)}var Y=["default","primary","danger","link"],K=function(){function t(){this._disabled=!1,this._loading=!1,this._small=!1,this._type="default",this.click=new e.EventEmitter}return Object.defineProperty(t.prototype,"loading",{get:function(){return this._loading},set:function(t){this._loading=E(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"small",{get:function(){return this._small},set:function(t){this._small=""===t||E(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return this._type},set:function(t){this._type=Y.includes(t)?t:"default"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this._disabled},set:function(t){this._disabled=""===t||E(t)},enumerable:!0,configurable:!0}),t.propDecorators={label:[{type:e.Input,args:["t-label"]}],loading:[{type:e.Input,args:["t-loading"]}],icon:[{type:e.Input,args:["t-icon"]}],small:[{type:e.Input,args:["t-small"]}],type:[{type:e.Input,args:["t-type"]}],disabled:[{type:e.Input,args:["t-disabled"]}],click:[{type:e.Output,args:["t-click"]}]},t}(),G=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),X=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return G(n,t),n.prototype.onClick=function(){this.click.emit(null)},n.decorators=[{type:e.Component,args:[{selector:"thf-button",template:'<button class="thf-button thf-text-ellipsis" type="button" [class.thf-button-danger]="type === \'danger\'" [class.thf-button-link]="type === \'link\'" [class.thf-button-primary]="type === \'primary\'" [class.thf-button-sm] = "small" [class.thf-clickable]="type === \'link\'" [disabled]="disabled || loading" (click)="onClick()"> <span *ngIf="loading" class="thf-icon thf-button-loading-icon"></span> <span *ngIf="icon" class="thf-icon {{ icon }}" aria-hidden="true"></span> <span *ngIf="label" class="thf-button-label">{{ label }}</span> </button> '}]}],n}(K),J=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule],declarations:[X],exports:[X]}]}],t}(),Z={Multiple:"multiple",None:"none",Single:"single"},Q="none",tt=function(){function t(){this._small=!1,this._toggle=Q,this.buttons=[]}return Object.defineProperty(t.prototype,"small",{get:function(){return this._small},set:function(t){this._small=""===t||E(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"toggle",{get:function(){return this._toggle},set:function(t){this._toggle=Object.values(Z).includes(t)?t:Q,this.checkSelecteds(this._toggle)},enumerable:!0,configurable:!0}),t.prototype.onButtonClick=function(t,e){this.toggle===Z.Single?this.buttons.forEach(function(n,i){return n.selected=i===e&&!t.selected}):this.toggle===Z.Multiple&&(t.selected=!t.selected)},t.prototype.checkSelecteds=function(t){if(t===Z.None)this.deselectAllButtons();else if(t===Z.Single){this.buttons.filter(function(t){return t.selected}).length>1&&this.deselectAllButtons()}},t.prototype.deselectAllButtons=function(){this.buttons.forEach(function(t){return t.selected=!1})},t.propDecorators={buttons:[{type:e.Input,args:["t-buttons"]}],small:[{type:e.Input,args:["t-small"]}],toggle:[{type:e.Input,args:["t-toggle"]}]},t}(),et=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),nt=function(t){function n(e){var n=t.call(this)||this;return n.parentRef=e._view.component,n}return et(n,t),n.decorators=[{type:e.Component,args:[{selector:"thf-button-group",template:'<div class="thf-button-group-container"> <thf-button *ngFor="let button of buttons; index as i" class="thf-sm-12 thf-button-group" [class.thf-button-group-button-selected]="button.selected" [class.thf-button-group-disabled]="button.disabled" [t-disabled]="button.disabled" [t-icon]="button.icon" [t-label]="button.label" [t-small]="small" (t-click)="button.action.call(parentRef, button); onButtonClick(button, i)"> </thf-button> </div> '}]}],n.ctorParameters=function(){return[{type:e.ViewContainerRef}]},n}(tt),it=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule,J],declarations:[nt],exports:[nt]}]}],t}(),ot=["pt","en","es"],rt=function(){function t(t,n){this.thfDate=t,this.thfCalendarLangService=n,this.dayVisible=!1,this.displayMonths=Array(),this.displayWeekDays=Array(),this.monthVisible=!1,this.yearVisible=!1,this.onTouched=null,this.propagateChange=null,this.today=new Date,this.change=new e.EventEmitter}return Object.defineProperty(t.prototype,"locale",{get:function(){return this._locale},set:function(t){this._locale=ot.includes(t)?t:"pt",this.initializeLanguage()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxDate",{get:function(){return this._maxDate},set:function(t){this._maxDate=this.thfDate.getDateForDateRange(t,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minDate",{get:function(){return this._minDate},set:function(t){this._minDate=this.thfDate.getDateForDateRange(t,!0)},enumerable:!0,configurable:!0}),t.prototype.initializeLanguage=function(){this.thfCalendarLangService.setLanguage(this.locale),this.displayWeekDays=this.thfCalendarLangService.getWeekDaysArray(),this.displayMonths=this.thfCalendarLangService.getMonthsArray(),this.displayMonth=this.displayMonths[this.displayMonthNumber]},t.propDecorators={locale:[{type:e.Input,args:["t-locale"]}],maxDate:[{type:e.Input,args:["t-max-date"]}],minDate:[{type:e.Input,args:["t-min-date"]}],change:[{type:e.Output,args:["t-change"]}]},t}(),st=function(){function t(){this.language="pt",this.months=[{pt:"Janeiro",en:"January",es:"Enero"},{pt:"Fevereiro",en:"February",es:"Febrero"},{pt:"Março",en:"March",es:"Marzo"},{pt:"Abril",en:"April",es:"Abril"},{pt:"Maio",en:"May",es:"Mayo"},{pt:"Junho",en:"June",es:"Junio"},{pt:"Julho",en:"July",es:"Julio"},{pt:"Agosto",en:"August",es:"Agosto"},{pt:"Setembro",en:"September",es:"Setiembre"},{pt:"Outubro",en:"October",es:"Octubre"},{pt:"Novembro",en:"November",es:"Noviembre"},{pt:"Dezembro",en:"December",es:"Diciembre"}],this.shortWeekDays=[{pt:"Dom",en:"Sun",es:"Dom"},{pt:"Seg",en:"Mon",es:"Lun"},{pt:"Ter",en:"Tue",es:"Mar"},{pt:"Qua",en:"Wed",es:"Mié"},{pt:"Qui",en:"Thu",es:"Jue"},{pt:"Sex",en:"Fri",es:"Vie"},{pt:"Sáb",en:"Sat",es:"Sáb"}],this.monthLabel={pt:"Mês",en:"Month",es:"Mes"},this.yearLabel={pt:"Ano",en:"Year",es:"Año"}}return t.prototype.getMonth=function(t){return this.months[t][this.language]},t.prototype.getMonthLabel=function(){return this.monthLabel[this.language]},t.prototype.getMonthsArray=function(){for(var t=Array(),e=0;e<this.months.length;e++)t.push(this.months[e][this.language]);return t},t.prototype.getWeekDays=function(t){return this.shortWeekDays[t][this.language]},t.prototype.getWeekDaysArray=function(){for(var t=Array(),e=0;e<this.shortWeekDays.length;e++)t.push(this.shortWeekDays[e][this.language]);return t},t.prototype.getYearLabel=function(){return this.yearLabel[this.language]},t.prototype.setLanguage=function(t){t&&t.length>=2&&(t=t.toLowerCase().slice(0,2),this.language="pt"===t||"en"===t||"es"===t?t:"pt")},t.decorators=[{type:e.Injectable}],t}(),at=function(){function t(){}return t.prototype.monthDates=function(t,e,n,i){if(void 0===n&&(n=null),void 0===i&&(i=null),"number"!=typeof e||e<0||e>11)throw Error("month must be a number (Jan is 0)");var o=[],r=[],s=0,a=new Date(t,e,1);t>=0&&t<100&&a.setFullYear(t),a=this.weekStartDate(a);do{for(s=0;s<7;s++)r.push(n?n(a):a),(a=new Date(a.getTime())).setDate(a.getDate()+1);o.push(i?i(r):r),r=[]}while(a.getMonth()<=e&&a.getFullYear()===t);return o},t.prototype.monthDays=function(t,e){return this.monthDates(t,e,function(t){return t.getMonth()===e?t:0})},t.prototype.weekStartDate=function(t){for(var e=new Date(t.getTime());0!==e.getDay();)e.setDate(e.getDate()-1);return e},t.decorators=[{type:e.Injectable}],t}(),lt=function(){function t(){this.dateRegex=new RegExp("^(?:[0-9])\\d{1}(?:[0-9])\\d{1}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[12]\\d|3[01])$"),this.isoRegex=new RegExp("^(?:[0-9])\\d{1}(?:[0-9])\\d{1}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[12]\\d|3[01])T(?:[01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d(?:Z|-0[1-9]|-1\\d|-2[0-3]|-00:?(?:0[1-9]|[0-5]\\d)|\\+[01]\\d|\\+2[0-3])(?:|:?[0-5]\\d)$")}return t.prototype.convertIsoToDate=function(t,e,n){if(t){var i=this.getDateFromIso(t),o=i.year,r=i.month,s=i.day;if(e){var a=new Date(o,r-1,s,0,0,0);return this.setYearFrom0To100(a,o),a}if(n){a=new Date(o,r-1,s,23,59,59);return this.setYearFrom0To100(a,o),a}var l=Date.parse(t),c=6e4*(new Date).getTimezoneOffset();return new Date(l+c)}},t.prototype.convertDateToISO=function(t){if(t){var e=t.getFullYear(),n=t.getMonth()+1,i=t.getDate()<10?"0"+t.getDate():t.getDate(),o=n<10?"0"+n:n;return this.formatYear(e)+"-"+o+"-"+i}return null},t.prototype.formatYear=function(t){return t>999?t.toString():t>99&&t<1e3?"0"+t:t>9&&t<100?"00"+t:t>=0&&t<10?"000"+t:void 0},t.prototype.getDateFromIso=function(t){var e=parseInt(t.substring(8,10),10),n=parseInt(t.substring(5,7),10);return{year:parseInt(t.substring(0,4),10),month:n,day:e}},t.prototype.getDateForDateRange=function(t,e){var n=e?[0,0,0]:[23,59,59];if(t instanceof Date){var i=this.splitDate(t),o=i.year,r=i.month,s=i.day,a=new(Date.bind.apply(Date,[void 0,o,r,s].concat(n)));return this.setYearFrom0To100(a,o),a}if(this.isValidIso(t))return this.convertIsoToDate(t,e,!e)},t.prototype.isDateRangeValid=function(t,e){void 0===t&&(t=""),void 0===e&&(e="");for(var n=t.split("-").map(function(t){return parseInt(t,10)}),i=e.split("-").map(function(t){return parseInt(t,10)}),o=0;o<=n.length;o++){if(n[o]>i[o])return!0;if(n[o]<i[o])return!1}return!0},t.prototype.isValidIso=function(t){return this.dateRegex.test(t)||this.isoRegex.test(t)},t.prototype.setYearFrom0To100=function(t,e){e>=0&&e<100&&t.setFullYear(e)},t.prototype.sortDate=function(t,e,n){return W(this.validateDate(t),this.validateDate(e),n)},t.prototype.splitDate=function(t){return{year:t.getFullYear(),month:t.getMonth(),day:t.getDate()}},t.prototype.validateDateRange=function(t,e,n){return e&&n?t>=e&&t<=n:e&&!n?t>=e:!(!e&&n)||t<=n},t.prototype.validateDate=function(t){var e=t instanceof Date?this.convertDateToISO(t):t;return this.isValidIso(e)?e:void 0},t.decorators=[{type:e.Injectable}],t}(),ct=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ut=function(t){function n(e,n,i){var o=t.call(this,i,n)||this;return o.thfCalendarService=e,o}return ct(n,t),n.prototype.ngOnInit=function(){this.init()},n.prototype.getBackgroundColor=function(t,e){return t===e?"thf-calendar-box-background-selected":"thf-calendar-box-background"},n.prototype.getDayBackgroundColor=function(t){return this.getDayColor(t,"background")},n.prototype.getDayForegroundColor=function(t){return this.getDayColor(t,"foreground")},n.prototype.getForegroundColor=function(t,e){return t===e?"thf-calendar-box-foreground-selected":"thf-calendar-box-foreground"},n.prototype.getMonthLabel=function(){return this.thfCalendarLangService.getMonthLabel()},n.prototype.getYearLabel=function(){return this.thfCalendarLangService.getYearLabel()},n.prototype.onNextMonth=function(){this.displayMonthNumber<11?this.updateDisplay(this.displayYear,this.displayMonthNumber+1):this.updateDisplay(this.displayYear+1,0)},n.prototype.onPreviousMonth=function(){this.displayMonthNumber>0?this.updateDisplay(this.displayYear,this.displayMonthNumber-1):this.updateDisplay(this.displayYear-1,11)},n.prototype.onSelectDate=function(t){this.date=t,this.dateIso=this.thfDate.convertDateToISO(t),this.propagateChange&&this.propagateChange(this.dateIso),this.change.emit(this.dateIso)},n.prototype.onSelectMonth=function(t,e){this.selectDay(),this.updateDisplay(t,e)},n.prototype.onSelectYear=function(t,e){"month"===this.lastDisplay?this.selectMonth():this.selectDay(),this.currentYear=t,this.updateDisplay(t,e)},n.prototype.registerOnChange=function(t){this.propagateChange=t},n.prototype.registerOnTouched=function(t){this.onTouched=t},n.prototype.registerOnValidatorChange=function(t){this.validatorChange=t},n.prototype.selectDay=function(){this.dayVisible=!0,this.monthVisible=!1,this.yearVisible=!1,this.lastDisplay="day"},n.prototype.selectMonth=function(){this.dayVisible=!1,this.monthVisible=!0,this.yearVisible=!1,this.lastDisplay="month"},n.prototype.selectYear=function(){this.dayVisible=!1,this.monthVisible=!1,this.yearVisible=!0},n.prototype.updateYear=function(t){this.updateDisplay(this.displayYear+t,this.displayMonthNumber)},n.prototype.validateModel=function(t){this.validatorChange&&this.validatorChange(t)},n.prototype.validate=function(t){return null},n.prototype.writeValue=function(t){t?this.writeDate(t):(this.date=void 0,this.updateDate(this.today))},n.prototype.addAllYearsInDecade=function(t){var e;for(e=t;e<t+10;e++)this.displayDecade.push(e)},n.prototype.equalsDate=function(t,e){try{return t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDate()===e.getDate()}catch(t){return!1}},n.prototype.getDecadeArray=function(t){if(this.displayDecade=Array(),t%10!=0)for(;t%10!=0;)t--;this.updateDecade(t)},n.prototype.getColorForDate=function(t,e){return this.thfDate.validateDateRange(t,this.minDate,this.maxDate)?"thf-calendar-box-"+e+"-selected":"thf-calendar-box-"+e+"-selected-disabled"},n.prototype.getColorForDateRange=function(t,e){return this.thfDate.validateDateRange(t,this.minDate,this.maxDate)?"thf-calendar-box-"+e:"thf-calendar-box-"+e+"-disabled"},n.prototype.getColorForToday=function(t,e){return this.thfDate.validateDateRange(t,this.minDate,this.maxDate)?"thf-calendar-box-"+e+"-today":"thf-calendar-box-"+e+"-today-disabled"},n.prototype.getDayColor=function(t,e){return this.equalsDate(t,this.date)?this.getColorForDate(t,e):this.equalsDate(t,this.today)?this.getColorForToday(t,e):this.getColorForDateRange(t,e)},n.prototype.init=function(){this.date&&this.thfDate.isValidIso(this.thfDate.convertDateToISO(this.date))?this.updateDate(this.date):this.updateDate(this.today),this.initializeLanguage(),this.selectDay()},n.prototype.selectDateFromDate=function(t){this.date=t,this.onSelectDate(this.date)},n.prototype.selectDateFromIso=function(t){var e=this.thfDate.getDateFromIso(t),n=e.year,i=e.month,o=e.day,r=new Date(n,i-1,o);this.thfDate.setYearFrom0To100(r,n),this.date=r,this.onSelectDate(this.date)},n.prototype.updateDate=function(t){t&&(this.currentMonthNumber=t.getMonth(),this.currentYear=t.getFullYear(),this.updateDisplay(this.currentYear,this.currentMonthNumber))},n.prototype.updateDecade=function(t){this.addAllYearsInDecade(t),this.displayStartDecade=t,this.displayFinalDecade=t+9},n.prototype.updateDisplay=function(t,e){var n=this.thfCalendarService.monthDays(t,e);this.displayDays=[].concat.apply([],n),this.displayMonthNumber=e,this.displayMonth=this.displayMonths[e],this.displayYear=t,this.getDecadeArray(t)},n.prototype.writeDate=function(t){t instanceof Date?this.selectDateFromDate(t):this.writeDateIso(t),this.updateDate(this.date)},n.prototype.writeDateIso=function(t){this.thfDate.isValidIso(t)?this.selectDateFromIso(t):this.date=void 0},n.decorators=[{type:e.Component,args:[{selector:"thf-calendar",template:'<div class="thf-calendar"> <div *ngIf="dayVisible"> <div class="thf-calendar-nav"> <span class="thf-calendar-nav-left thf-icon thf-icon-arrow-left" (click)="onPreviousMonth()"></span> <div class="thf-calendar-nav-title" attr-calendar> <span class="thf-clickable thf-mr-1" (click)="selectMonth()">{{ displayMonth }}</span> <span class="thf-clickable" (click)="selectYear()">{{ displayYear }}</span> </div> <span class="thf-calendar-nav-right thf-icon thf-icon-arrow-right" (click)="onNextMonth()"></span> </div> <div class="thf-calendar-content"> <div class="thf-calendar-labels"> <div class="thf-calendar-label" *ngFor="let day of displayWeekDays"> {{ day.toLowerCase() }} </div> </div> <div class="thf-calendar-content-list-day"> <div *ngFor="let day of displayDays" class="thf-calendar-day" [ngClass]="getDayBackgroundColor(day)" (click)="onSelectDate(day)"> <span *ngIf="day != 0" [ngClass]="getDayForegroundColor(day)"> {{ day.getDate() }} </span> </div> </div> </div> </div> <div *ngIf="monthVisible"> <div class="thf-calendar-nav"> <span class="thf-calendar-nav-left thf-icon thf-icon-arrow-left" (click)="updateYear(-1)"></span> <div class="thf-calendar-nav-title" attr-calendar> <span class="thf-clickable" (click)="selectYear()">{{ displayYear }}</span> </div> <span class="thf-calendar-nav-right thf-icon thf-icon-arrow-right" (click)="updateYear(1)"></span> </div> <div class="thf-calendar-content"> <div class="thf-calendar-labels"> <div class="thf-calendar-label"> {{ getMonthLabel() }} </div> </div> <div class="thf-calendar-content-list-month"> <div *ngFor="let month of displayMonths; let i = index;" class="thf-calendar-month" [ngClass]="getBackgroundColor(i, displayMonthNumber)" (click)="onSelectMonth(displayYear, i)" attr-calendar> <span [ngClass]="getForegroundColor(i, displayMonthNumber)"> {{ month }} </span> </div> </div> </div> </div> <div *ngIf="yearVisible"> <div class="thf-calendar-nav"> <span class="thf-calendar-nav-left thf-icon thf-icon-arrow-left" (click)="updateYear(-10)"></span> <div class="thf-calendar-nav-title"> {{ displayStartDecade }} - {{ displayFinalDecade }} </div> <span class="thf-calendar-nav-right thf-icon thf-icon-arrow-right" (click)="updateYear(10)"></span> </div> <div class="thf-calendar-content"> <div class="thf-calendar-labels"> <div class="thf-calendar-label"> {{ getYearLabel() }} </div> </div> <div class="thf-calendar-content-list-year"> <div *ngFor="let year of displayDecade; let i = index;" class="thf-calendar-year" [ngClass]="getBackgroundColor(year, currentYear)" (click)="onSelectYear(year, displayMonthNumber)"attr-calendar> <span [ngClass]="getForegroundColor(year, currentYear)"> {{ year }} </span> </div> </div> </div> </div> </div> ',providers:[at,st,{provide:r.NG_VALUE_ACCESSOR,useExisting:e.forwardRef(function(){return n}),multi:!0},{provide:r.NG_VALIDATORS,useExisting:e.forwardRef(function(){return n}),multi:!0}]}]}],n.ctorParameters=function(){return[{type:at},{type:st},{type:lt}]},n}(rt),pt=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule],declarations:[ut],exports:[ut],providers:[st,at]}]}],t}(),ht={Pie:"pie"},dt=400,ft=ht.Pie,gt=function(){function t(){this._height=dt,this._type=ft,this.thfChartType=ht,this.seriesClick=new e.EventEmitter,this.seriesHover=new e.EventEmitter}return Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(t){var e,n=S(t);e=M(t,"number")?n<=200?200:n:dt,this._height=e,this.rebuildComponent()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),t.prototype.onSeriesClick=function(t){this.seriesClick.emit(t)},t.prototype.onSeriesHover=function(t){this.seriesHover.emit(t)},t.propDecorators={height:[{type:e.Input,args:["t-height"]}],series:[{type:e.Input,args:["t-series"]}],title:[{type:e.Input,args:["t-title"]}],seriesClick:[{type:e.Output,args:["t-series-click"]}],seriesHover:[{type:e.Output,args:["t-series-hover"]}]},t}(),mt=[["#29B6C5"],["#0C6C94","#29B6C5"],["#0C6C94","#29B6C5","#C9ECF0"],["#0C6C94","#0B92B4","#29B6C5","#94DAE2"],["#0C6C94","#0B92B4","#29B6C5","#94DAE2","#C9ECF0"],["#0C6C94","#00A5C5","#0082A8","#31628D","#364473","#32285C"],["#0C6C94","#00AACB","#018DAE","#277099","#325783","#35426E","#32285D"],["#0C6C94","#00AFCE","#0194B6","#117FA2","#0088AC","#23789F","#2B6992","#32285C"],["#0C6C94","#00BAD5","#00A7C7","#0197B8","#0088AC","#23789F","#2B6992","#315C87","#32285C"],["#0C6C94","#00BAD5","#00A7C7","#0197B8","#0088AC","#23789F","#2B6992","#315C87","#364E7C","#32285C"],["#0C6C94","#00BAD5","#00A7C7","#0197B8","#0088AC","#23789F","#2B6992","#315C87","#364E7C","#36436F","#32285C"],["#0C6C94","#00BAD5","#00A7C7","#0197B8","#0088AC","#23789F","#2B6992","#315C87","#364E7C","#36436F","#333565","#32285C"]],yt=2*Math.PI/Math.floor(25),bt=-Math.PI/2,vt=function(){function t(){this.onSerieClick=new s.Subject,this.onSerieHover=new s.Subject,this.series=[]}return t.prototype.calculateSVGContainerDimensions=function(t,e,n){var i=this.height-e-n-48;this.svgHeight=i<=0?0:i,this.centerX=t/2},t.prototype.calculateTotalValue=function(){this.totalValue=this.series.reduce(function(t,e){return t+e.value},0)},t.propDecorators={chartBody:[{type:e.ViewChild,args:["chartBody"]}],svgContainer:[{type:e.ViewChild,args:["svgContainer"]}]},t}(),wt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ct=function(t){function n(e,n,i){var o=t.call(this)||this;return o.el=e,o.ngZone=n,o.renderer=i,o.chartItemsEndAngleList=[],o.svgPathElementsList=[],o}return wt(n,t),n.calculateEndAngle=function(t,e){return t/e*(2*Math.PI)},n.prototype.ngOnDestroy=function(){this.removeWindowResizeListener(),this.removeWindowScrollListener(),this.animationRunning=!1},n.prototype.ngOnInit=function(){this.chartInitSetup(),this.setEventListeners()},n.prototype.animationSetup=function(){this.chartItemStartAngle=bt,this.chartItemEndAngle=this.chartItemsEndAngleList[0],this.animationRunning=!0,this.drawPathInit()},n.prototype.calculateAngleRadians=function(){var t=this;this.series.forEach(function(e,i){return t.chartItemsEndAngleList[i]=n.calculateEndAngle(e.value,t.totalValue)})},n.prototype.calculateCurrentEndAngle=function(t){return this.chartItemStartAngle+t>this.chartItemStartAngle+this.chartItemEndAngle?this.chartItemStartAngle+this.chartItemEndAngle-1e-4:this.chartItemStartAngle+t},n.prototype.changeTooltipPosition=function(t){this.tooltipElement&&this.tooltipElement.classList.contains("thf-invisible")&&this.showTooltip();var e=this.setTooltipPositions(t);this.renderer.setStyle(this.tooltipElement,"left",e.left+"px"),this.renderer.setStyle(this.tooltipElement,"top",e.top+"px")},n.prototype.chartInitSetup=function(){this.calculateSVGContainerDimensions(this.chartWrapper,this.chartHeader,this.chartLegend),this.calculateTotalValue(),this.calculateAngleRadians(),this.createSVGElements(),this.animationSetup()},n.prototype.createPath=function(t,e,n){var i=this.renderer.createElement("svg:path","svg");this.renderer.setAttribute(i,"class","thf-path-item"),this.renderer.setAttribute(i,"fill",this.colors[t]),this.renderer.setAttribute(i,"data-tooltip-category",e.category),this.renderer.setAttribute(i,"data-tooltip-value",e.value),n.appendChild(i),this.renderer.appendChild(this.svgElement,n),this.svgPathElementsList.push(i)},n.prototype.createPaths=function(){var t=this,e=this.renderer.createElement("svg:g","svg");this.series.forEach(function(n,i){return t.createPath(i,n,e)})},n.prototype.createSVGElements=function(){this.svgElement=this.renderer.createElement("svg:svg","svg"),this.renderer.setAttribute(this.svgElement,"viewBox","0 0 "+this.chartWrapper+" "+2*this.centerX),this.renderer.setAttribute(this.svgElement,"preserveAspectRatio","xMidYMin meet"),this.renderer.setAttribute(this.svgElement,"class","thf-chart-svg-element"),this.renderer.setAttribute(this.svgElement,"width",""+(this.chartWrapper-48)),this.renderer.setAttribute(this.svgElement,"height",""+this.svgHeight),this.svgContainer.nativeElement.appendChild(this.svgElement),this.createPaths()},n.prototype.drawPath=function(t,e,n){var i=(n-e)%(2*Math.PI)>Math.PI?1:0,o=this.centerX+Math.cos(e)*this.centerX,r=this.centerX+Math.sin(e)*this.centerX,s=this.centerX+Math.cos(n)*this.centerX,a=this.centerX+Math.sin(n)*this.centerX,l=["M",o,r,"A",this.centerX,this.centerX,0,i,1,s,a,"L",this.centerX,this.centerX,"Z"].join(" ");return t.setAttribute("d",l)},n.prototype.drawPathInit=function(){var t=this;this.animationRunning&&this.ngZone.runOutsideAngular(function(){return t.drawSeries()})},n.prototype.drawSeries=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0);var n=e>this.chartItemEndAngle;t===this.svgPathElementsList.length||(n?(this.chartItemStartAngle=this.chartItemStartAngle+this.chartItemEndAngle,t++,this.chartItemEndAngle=this.chartItemsEndAngleList[t],e=0):(e+=yt,this.drawPath(this.svgPathElementsList[t],this.chartItemStartAngle,this.calculateCurrentEndAngle(e))),window.requestAnimationFrame(this.drawSeries.bind(this,t,e)))},n.prototype.emitEventOnEnter=function(t){this.onSerieHover.next(t)},n.prototype.onMouseClick=function(){var t={category:this.chartElementCategory,value:this.chartElementValue};this.onSerieClick.next(t)},n.prototype.onMouseEnter=function(t){this.tooltipElement=this.chartBody.nativeElement.lastChild,this.chartElementCategory=t.target.getAttributeNS(null,"data-tooltip-category"),this.chartElementValue=t.target.getAttributeNS(null,"data-tooltip-value"),this.tooltipText=this.chartElementCategory+": "+this.chartElementValue,this.showTooltip(),this.changeTooltipPosition(t);var e={category:this.chartElementCategory,value:this.chartElementValue};this.emitEventOnEnter(e)},n.prototype.onWindowResize=function(){this.calculateSVGContainerDimensions(this.chartWrapper,this.chartHeader,this.chartLegend),this.renderer.setAttribute(this.svgElement,"width",""+(this.chartWrapper-48)),this.renderer.setAttribute(this.svgElement,"height",""+this.svgHeight)},n.prototype.removeTooltip=function(){this.tooltipElement&&this.renderer.addClass(this.tooltipElement,"thf-invisible")},n.prototype.removeWindowResizeListener=function(){this.windowResizeListener&&this.windowResizeListener()},n.prototype.removeWindowScrollListener=function(){this.windowScrollListener&&this.windowScrollListener()},n.prototype.setEventListeners=function(){var t=this,e=this.el.nativeElement.querySelectorAll(".thf-path-item");(e=Array.from(e)).forEach(function(e){t.renderer.listen(e,"click",t.onMouseClick.bind(t)),t.renderer.listen(e,"mouseenter",t.onMouseEnter.bind(t)),t.renderer.listen(e,"mousemove",t.changeTooltipPosition.bind(t)),t.renderer.listen(e,"mouseleave",t.removeTooltip.bind(t))}),this.windowResizeListener=this.renderer.listen(window,"resize",this.onWindowResize.bind(this)),this.windowScrollListener=this.renderer.listen(this.checkingIfScrollsWithThfPage(),"scroll",this.removeTooltip.bind(this))},n.prototype.checkingIfScrollsWithThfPage=function(){var t=document.getElementsByClassName("thf-page-content");return t.length?t[0]:window},n.prototype.setTooltipPositions=function(t){return{left:t.clientX-this.tooltipElement.offsetWidth/2,top:t.clientY-this.tooltipElement.offsetHeight-8}},n.prototype.showTooltip=function(){this.renderer.removeClass(this.tooltipElement,"thf-invisible")},n.decorators=[{type:e.Component,args:[{selector:"thf-chart-pie",template:'<div #chartBody class="thf-chart-body"> <div #svgContainer class="thf-chart-svg-container"></div> <div class="thf-chart-tooltip thf-tooltip thf-invisible"> <div class="thf-tooltip-arrow thf-arrow-bottom"></div> <div class="thf-tooltip-content">{{ tooltipText }}</div> </div> </div>'}]}],n.ctorParameters=function(){return[{type:e.ElementRef},{type:e.NgZone},{type:e.Renderer2}]},n}(vt),It=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ot=function(t){function n(e,n,i){var o,r=t.call(this)||this;return r.changeDetector=e,r.componentFactoryResolver=n,r.differs=i,r.calculatedElement=!1,r.initialized=!1,r.windowResizeListener=new s.Subject,r.mappings=((o={})[ht.Pie]=Ct,o),r.onResize=function(){return r.windowResizeListener.next()},r.differ=r.differs.find([]).create(null),r}return It(n,t),n.prototype.ngAfterViewInit=function(){this.initialized=!0},n.prototype.ngDoCheck=function(){this.chartWrapper.nativeElement.offsetWidth&&!this.calculatedElement&&this.initialized&&(this.calculatedElement=!0,this.getSeriesColor(),this.dynamicComponentSetting()),this.checkingForSerieChanges()},n.prototype.ngOnDestroy=function(){this.removeWindowResizeListener()},n.prototype.ngOnInit=function(){this.getSeriesColor()},n.prototype.rebuildComponent=function(){this.componentRef&&(this.componentRef.destroy(),this.dynamicComponentSetting())},n.prototype.checkingForSerieChanges=function(){this.componentRef&&this.differ&&(this.differ.diff(this.series)&&(this.getSeriesColor(),this.rebuildComponent()))},n.prototype.createComponent=function(){var t=this.getComponentType(this.type),e=this.componentFactoryResolver.resolveComponentFactory(t);this.componentRef=this.chartContainer.createComponent(e);var n=this.componentRef.instance;return this.setChartProperties(n),n},n.prototype.dynamicComponentSetting=function(){var t=this.createComponent();this.setResizeListenerSubscribe(t),this.changeDetector.detectChanges(),this.setClickSubscribe(t),this.setHoverSubscribe(t)},n.prototype.getComponentType=function(t){return this.mappings[t]},n.prototype.getSeriesColor=function(){var t=mt.length-1;if(!this.series)return this.colors=mt[t];var e=this.series.length-1;if(e>t){for(var n=mt[t],i=e/t,o=1;o<=i;o++)n=n.concat(mt[t]);return this.colors=n}return this.colors=mt[e]},n.prototype.removeWindowResizeListener=function(){this.onResize&&(this.onResize=function(){})},n.prototype.setChartProperties=function(t){t.chartHeader=this.chartHeader.nativeElement.offsetHeight,t.chartLegend=this.chartLegend.nativeElement.offsetHeight,t.chartWrapper=this.chartWrapper.nativeElement.offsetWidth,t.colors=this.colors,t.height=this.height,t.series=this.series||[]},n.prototype.setClickSubscribe=function(t){var e=this;t.onSerieClick.subscribe(function(t){e.onSeriesClick(t)})},n.prototype.setHoverSubscribe=function(t){var e=this;t.onSerieHover.subscribe(function(t){e.onSeriesHover(t)})},n.prototype.setResizeListenerSubscribe=function(t){var e=this;this.windowResizeListener.subscribe(function(){t.chartHeader=e.chartHeader.nativeElement.offsetHeight,t.chartLegend=e.chartLegend.nativeElement.offsetHeight,t.chartWrapper=e.chartWrapper.nativeElement.offsetWidth})},n.decorators=[{type:e.Component,args:[{selector:"thf-chart",template:'<div #chartWrapper class="thf-chart-wrapper"> <div #chartHeader class="thf-chart-header"> <div class="thf-chart-title">{{ title }}</div> </div> <ng-template #chartContainer></ng-template> <div #chartLegend class="thf-chart-legend"> <div class="thf-chart-legend-container"> <div class="thf-chart-legend-item" *ngFor="let serie of series; let i = index"> <div class="thf-chart-legend-square" [style.background]="colors[i]"></div> <span class="thf-chart-legend-text">{{ serie.category }}</span> </div> </div> </div> </div> '}]}],n.ctorParameters=function(){return[{type:e.ChangeDetectorRef},{type:e.ComponentFactoryResolver},{type:e.IterableDiffers}]},n.propDecorators={chartContainer:[{type:e.ViewChild,args:["chartContainer",{read:e.ViewContainerRef}]}],chartHeader:[{type:e.ViewChild,args:["chartHeader"]}],chartLegend:[{type:e.ViewChild,args:["chartLegend"]}],chartWrapper:[{type:e.ViewChild,args:["chartWrapper"]}],onResize:[{type:e.HostListener,args:["window:resize",["$event"]]}]},n}(gt),kt=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule],declarations:[Ot,Ct],entryComponents:[Ct],exports:[Ot]}]}],t}(),Dt=function(){function t(){this._noPadding=!1,this._noShadow=!1}return Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(t){this._height=S(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"noPadding",{get:function(){return this._noPadding},set:function(t){this._noPadding=E(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"noShadow",{get:function(){return this._noShadow},set:function(t){this._noShadow=E(t)},enumerable:!0,configurable:!0}),t.propDecorators={height:[{type:e.Input,args:["t-height"]}],noPadding:[{type:e.Input,args:["t-no-padding"]}],noShadow:[{type:e.Input,args:["t-no-shadow"]}]},t}(),_t=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Pt=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return _t(n,t),n.decorators=[{type:e.Component,args:[{selector:"thf-container",template:'<div class="thf-container" [class.thf-container-no-padding]="noPadding" [class.thf-container-no-shadow]="noShadow" [style.height]="height ? height + \'px\' : \'auto\'"> <ng-content></ng-content> </div> '}]}],n}(Dt),Et=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule],exports:[Pt],declarations:[Pt]}]}],t}(),St=["default","danger"],Mt=function(){function t(){this._type="default",this._hideClose=!1,this.showDisclaimer=!0,this.closeAction=new e.EventEmitter}return Object.defineProperty(t.prototype,"hideClose",{get:function(){return this._hideClose},set:function(t){this._hideClose=""===t||E(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return this._type},set:function(t){this._type=St.includes(t)?t:"default"},enumerable:!0,configurable:!0}),t.prototype.close=function(){this.showDisclaimer=!1,this.closeAction.emit({value:this.value,label:this.label,property:this.property})},t.prototype.getLabel=function(){return this.label?this.label:this.value},t.propDecorators={label:[{type:e.Input,args:["t-label"]}],value:[{type:e.Input,args:["t-value"]}],property:[{type:e.Input,args:["t-property"]}],hideClose:[{type:e.Input,args:["t-hide-close"]}],closeAction:[{type:e.Output,args:["t-close-action"]}],type:[{type:e.Input,args:["t-type"]}]},t}(),At=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),xt=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return At(n,t),n.prototype.onKeyPress=function(t){V(t)&&this.close()},n.decorators=[{type:e.Component,args:[{selector:"thf-disclaimer",template:'<div *ngIf="showDisclaimer === true" class="thf-disclaimer"> <span class="thf-disclaimer-label" [class.thf-disclaimer-label-danger]="type === \'danger\'"> {{getLabel()}} </span> <span *ngIf="hideClose === false" class="thf-disclaimer-remove thf-icon thf-icon-close thf-clickable" tabindex="0" [class.thf-disclaimer-remove-danger]="type === \'danger\'" (click)="close()" (keydown)="onKeyPress($event)"> </span> </div> '}]}],n}(Mt),Tt=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule],declarations:[xt],exports:[xt]}]}],t}(),Rt=function(){return(Rt=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Lt={en:{removeAll:"Remove all"},es:{removeAll:"Eliminar todos"},pt:{removeAll:"Remover todos"}},Vt=function(){function t(t){this._disclaimers=[],this._hideRemoveAll=!1,this.previousDisclaimers=[],this.literals=Rt({},Lt[_],Lt[P()]),this.change=new e.EventEmitter,this.differ=t.find([]).create(null)}return Object.defineProperty(t.prototype,"disclaimers",{get:function(){return this._disclaimers},set:function(t){this.previousDisclaimers=this.disclaimers.slice(),this._disclaimers=this.checkDisclaimers(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hideRemoveAll",{get:function(){return this._hideRemoveAll},set:function(t){this._hideRemoveAll=""===t||E(t)},enumerable:!0,configurable:!0}),t.prototype.ngDoCheck=function(){this.checkChanges()},t.prototype.closeItem=function(t,e){void 0===e&&(e=!0);var n=this.disclaimers.findIndex(function(e){return e.$id===t.$id});this.disclaimers.splice(n,1),e&&this.emitChangeDisclaimers()},t.prototype.isRemoveAll=function(){return!this.hideRemoveAll&&this.disclaimers.filter(function(t){return!t.hideClose}).length>1},t.prototype.onKeyPress=function(t){V(t)&&this.removeAllItems()},t.prototype.removeAllItems=function(){var t=this,e=[];this.disclaimers.forEach(function(t){t.hideClose||e.push(t)}),e.forEach(function(e){return t.closeItem(e,!1)}),this.emitChangeDisclaimers()},t.prototype.checkChanges=function(){this.differ&&(this.differ.diff(this.disclaimers)&&this.disclaimersAreChanged(this.disclaimers)&&this.emitChangeDisclaimers())},t.prototype.checkDisclaimers=function(t){if(Array.isArray(t)){for(var e=0;e<t.length;e++){var n=t[e];n.value||0===n.value||!1===n.value?n.$id=a.v4():(t.splice(e,1),e--)}return t}return[]},t.prototype.disclaimersAreChanged=function(t){var e=this,n=t;return n.length!==this.previousDisclaimers.length||n.some(function(t,n){return t.value!==e.previousDisclaimers[n].value||t.property!==e.previousDisclaimers[n].property})},t.prototype.emitChangeDisclaimers=function(){var t=this;setTimeout(function(){t.change.emit(t.disclaimers)}),this.previousDisclaimers=this._disclaimers.slice()},t.propDecorators={disclaimers:[{type:e.Input,args:["t-disclaimers"]}],hideRemoveAll:[{type:e.Input,args:["t-hide-remove-all"]}],title:[{type:e.Input,args:["t-title"]}],change:[{type:e.Output,args:["t-change"]}]},t}(),Ft=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),jt=function(t){function n(e){return t.call(this,e)||this}return Ft(n,t),n.decorators=[{type:e.Component,args:[{selector:"thf-disclaimer-group",template:'<div class="thf-disclaimer-group" *ngIf="disclaimers.length > 0" > <div class="thf-disclaimer-group-title">{{ title }}</div> <thf-disclaimer-remove *ngIf="isRemoveAll()" class="thf-disclaimer-group-padding" [t-label]="literals.removeAll" (keydown)="onKeyPress($event)" (t-remove-all-action)="removeAllItems()"> </thf-disclaimer-remove> <thf-disclaimer *ngFor="let disclaimer of disclaimers" class="thf-disclaimer-group-padding" [t-hide-close]="disclaimer.hideClose" [t-label]="disclaimer.label" [t-property]="disclaimer.property" [t-value]="disclaimer.value" (t-close-action)="closeItem(disclaimer)"> </thf-disclaimer> </div> '}]}],n.ctorParameters=function(){return[{type:e.IterableDiffers}]},n}(Vt),Nt=function(){function t(){this.removeAllAction=new e.EventEmitter}return t.prototype.removeAction=function(){this.removeAllAction.emit()},t.decorators=[{type:e.Component,args:[{selector:"thf-disclaimer-remove",template:'<thf-disclaimer class="thf-clickable" tabindex="0" t-hide-close="true" t-type="danger" [t-label]="label" (click)="removeAction()"> </thf-disclaimer> '}]}],t.propDecorators={label:[{type:e.Input,args:["t-label"]}],removeAllAction:[{type:e.Output,args:["t-remove-all-action"]}]},t}(),zt=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule,Tt],declarations:[jt,Nt],exports:[jt]}]}],t}(),qt=function(){function t(){}return t.propDecorators={label:[{type:e.Input,args:["t-label"]}]},t}(),Bt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ht=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Bt(n,t),n.decorators=[{type:e.Component,args:[{selector:"thf-divider",template:'<div class="thf-divider"> <div *ngIf="label" class="thf-divider-label">{{ label }}</div> </div> '}]}],n}(qt),Wt=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule],declarations:[Ht],exports:[Ht]}]}],t}(),$t=function(){function t(t,e,n){this._router=t,this.renderer=e,this.open=!1,this.icon="thf-icon-arrow-down",this._parentRef=n._view.component}return t.prototype.onClick=function(t){if(t.url){var e=t.url;/(http(s?))\:\/\//gi.test(e)?window.open(e,"_blank"):this._router.navigate([e])}else t.action&&this._callAction(t.action)},t.prototype.toggleDropdown=function(){this.dropdownRef&&!this.open?this.showDropdown():this.hideDropdown()},t.prototype._callAction=function(t){this._callActionOfContext(t,this._parentRef)},t.prototype._callActionOfContext=function(t,e){this._isTypeof(t,"function")?t.call(e):e[t]()},t.prototype.checkClickArea=function(t){return this.dropdownRef&&this.dropdownRef.nativeElement.contains(t.target)},t.prototype.destroyListener=function(){this.clickoutListener()},t.prototype.hideDropdown=function(){this.icon="thf-icon-arrow-down",this.destroyListener(),this.showActionsList(),this.open=!1},t.prototype.initializeListener=function(){var t=this;this.clickoutListener=this.renderer.listen("document","click",function(e){t.wasClickedOnDropdown(e)})},t.prototype._isTypeof=function(t,e){return typeof t===e},t.prototype.showActionsList=function(){this.actions&&this.actions.length&&this.dropdownRef.nativeElement.classList.toggle("t-show")},t.prototype.showDropdown=function(){this.icon="thf-icon-arrow-up",this.initializeListener(),this.showActionsList(),this.open=!0},t.prototype.wasClickedOnDropdown=function(t){this.checkClickArea(t)||this.hideDropdown()},t.decorators=[{type:e.Component,args:[{selector:"thf-dropdown",template:'<div #dropdownRef class="dropdown" (click)="toggleDropdown()"> <div class="button-dropdown" [ngClass]="{\'disabled\' : disabled}"> {{ label }} <div class="hidden-xs icon-dropdown thf-icon {{icon}}"></div> </div> <ul class="dropdown-content"> <li *ngFor="let action of actions"> <a (click)="onClick(action)" [ngClass]="{\'disabled\' : action.disabled}">{{ action?.label }}</a> </li> </ul> </div> '}]}],t.ctorParameters=function(){return[{type:i.Router},{type:e.Renderer2},{type:e.ViewContainerRef}]},t.propDecorators={actions:[{type:e.Input,args:["t-actions"]}],disabled:[{type:e.Input,args:["t-disabled"]}],label:[{type:e.Input,args:["t-label"]}],dropdownRef:[{type:e.ViewChild,args:["dropdownRef",{read:e.ElementRef}]}]},t}(),Ut=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule],declarations:[$t],exports:[$t]}]}],t}(),Yt=function(){function t(){this._screenLock=!1,this.text="Carregando"}return Object.defineProperty(t.prototype,"screenLock",{get:function(){return this._screenLock},set:function(t){this._screenLock=E(t)},enumerable:!0,configurable:!0}),t.propDecorators={screenLock:[{type:e.Input,args:["t-screen-lock"]}],text:[{type:e.Input,args:["t-text"]}]},t}(),Kt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Gt=function(t){function n(e){var n=t.call(this)||this;return n.changeDetector=e,n}return Kt(n,t),n.decorators=[{type:e.Component,args:[{selector:"thf-loading-overlay",template:'<div [class.thf-overlay-absolute]="!screenLock" [class.thf-overlay-fixed]="screenLock"> <thf-loading class="thf-loading-overlay-content" [t-text]="text"></thf-loading> </div> '}]}],n.ctorParameters=function(){return[{type:e.ChangeDetectorRef}]},n}(Yt),Xt=function(){function t(){this.text="Carregando"}return t.propDecorators={text:[{type:e.Input,args:["t-text"]}]},t}(),Jt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Zt=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Jt(n,t),n.decorators=[{type:e.Component,args:[{selector:"thf-loading",template:'<div class="thf-loading"> <span class="thf-loading-icon"></span> <span class="thf-loading-label thf-text-ellipsis" *ngIf="text">{{text}}</span> </div> '}]}],n}(Xt),Qt=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule],declarations:[Zt,Gt],exports:[Zt,Gt]}]}],t}(),te=function(){function t(){this._hideClose=!1,this._size="md",this.clickOut=!1,this.isHidden=!0,this.onXClosed=new e.EventEmitter}return Object.defineProperty(t.prototype,"size",{get:function(){return this._size},set:function(t){this._size=["sm","md","lg","xl","auto"].indexOf(t)>-1?t:"md"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"setClickOut",{set:function(t){this.clickOut=""!==t&&E(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hideClose",{get:function(){return this._hideClose},set:function(t){this._hideClose=E(t)},enumerable:!0,configurable:!0}),t.prototype.close=function(t){void 0===t&&(t=!1),this.isHidden=!0,t&&this.onXClosed.emit(t)},t.prototype.open=function(){this.validPrimaryAction(),this.isHidden=!1},t.prototype.validPrimaryAction=function(){var t=this;this.primaryAction||(this.primaryAction={action:function(){return t.close()},label:"Ok"}),this.primaryAction.action||(this.primaryAction.action=function(){return t.close()}),this.primaryAction.label||(this.primaryAction.label="Ok")},t.propDecorators={title:[{type:e.Input,args:["t-title"]}],primaryAction:[{type:e.Input,args:["t-primary-action"]}],secondaryAction:[{type:e.Input,args:["t-secondary-action"]}],size:[{type:e.Input,args:["t-size"]}],setClickOut:[{type:e.Input,args:["t-click-out"]}],hideClose:[{type:e.Input,args:["t-hide-close"]}]},t}(),ee=function(){function t(){}return t.decorators=[{type:e.Injectable}],t}(),ne=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ie=function(t){function n(e){var n=t.call(this)||this;return n.thfModalService=e,n.focusableElements="input, select, textarea, button:not([disabled]), a",n.id=a.v4(),n}return ne(n,t),n.prototype.close=function(e){void 0===e&&(e=!1),this.thfModalService.modalActive=void 0,t.prototype.close.call(this,e),document.removeEventListener("focus",this.focusFunction,!0),this.sourceElement&&this.sourceElement.focus()},n.prototype.closeModalOnEscapeKey=function(t){this.hideClose||(t.preventDefault(),t.stopPropagation(),this.close())},n.prototype.getPrimaryActionButtonType=function(){return this.primaryAction.danger?"danger":"primary"},n.prototype.getSecondaryActionButtonType=function(){return this.secondaryAction&&this.secondaryAction.danger&&!this.primaryAction.danger?"danger":"default"},n.prototype.onClickOut=function(t){this.clickOut&&!this.modalContent.nativeElement.contains(t.target)&&this.close()},n.prototype.open=function(){this.sourceElement=document.activeElement,t.prototype.open.call(this),this.handleFocus()},n.prototype.handleFocus=function(){var t=this;this.thfModalService.modalActive=this.id,setTimeout(function(){t.modalContent&&(t.initFocus(),document.addEventListener("focus",t.focusFunction,!0))})},n.prototype.initFocus=function(){var t=this;(this.focusFunction=function(e){t.thfModalService.modalActive=t.thfModalService.modalActive||t.id,t.modalContent.nativeElement.contains(e.target)||t.thfModalService.modalActive!==t.id||(e.stopPropagation(),t.firstElement.focus())},this.setFirstElement(),this.hideClose)?this.firstElement.focus():(this.modalContent.nativeElement.querySelectorAll(this.focusableElements)[1]||this.modalContent.nativeElement).focus()},n.prototype.setFirstElement=function(){this.firstElement=this.modalContent.nativeElement.querySelector(this.focusableElements)||this.modalContent.nativeElement},n.decorators=[{type:e.Component,args:[{selector:"thf-modal",template:'<div *ngIf="!isHidden" class="thf-modal" tabindex="0" (keydown.esc)="closeModalOnEscapeKey($event)"> <div class="thf-modal-overlay"> <div class="thf-modal-container thf-pb-2 thf-pt-2" (click)="onClickOut($event)"> <div class="thf-modal-vertical-align"> <div #modalContent class="thf-modal-content thf-modal-{{ size }}" tabindex="-1"> <div class="thf-modal-header"> <div class="thf-modal-title"> <a *ngIf="!hideClose" class="thf-modal-header-close-button" tabindex="0" (click)="close(true)"> <span class="thf-icon thf-icon-close"></span> </a> {{ title }} </div> </div> <div class="thf-modal-body"> <ng-content></ng-content> </div> <div class="thf-modal-footer"> <thf-button *ngIf="secondaryAction" [t-disabled]="secondaryAction.disabled" [t-label]="secondaryAction.label" [t-loading]="secondaryAction.loading" [t-type]="getSecondaryActionButtonType()" (t-click)="secondaryAction.action()"> </thf-button> <thf-button class="thf-button-modal-first-action" [t-disabled]="primaryAction.disabled" [t-label]="primaryAction.label" [t-loading]="primaryAction.loading" [t-type]="getPrimaryActionButtonType()" (t-click)="primaryAction.action()"> </thf-button> </div> </div> </div> </div> </div> </div> '}]}],n.ctorParameters=function(){return[{type:ee}]},n.propDecorators={modalContent:[{type:e.ViewChild,args:["modalContent",{read:e.ElementRef}]}]},n}(te),oe=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule,J],declarations:[ie],exports:[ie],providers:[ee]}]}],t}(),re=["bottom","bottom-left","bottom-right","left","left-top","left-bottom","top","top-right","top-left","right","right-bottom","right-top"],se=function(){function t(){this.differenceDiagonalToWidthArrow=3,this.isSetElementWidth=!1,this.offsetArrow=12}return t.prototype.adjustPosition=function(t){this.elementPosition(t),this.customPositions&&this.customPositions.length?this.adjustCustomPosition(t):this.adjustDefaultPosition(t)},t.prototype.getArrowDirection=function(){return this.arrowDirection},t.prototype.setElements=function(t,n,i,o,r,s){void 0===r&&(r=!1),void 0===s&&(s=!1),this.element=t instanceof e.ElementRef?t.nativeElement:t,this.targetElement=i instanceof e.ElementRef?i.nativeElement:i,this.elementOffset=n,this.customPositions=o,this.isSetElementWidth=r,this.isCornerAligned=s},t.prototype.adjustCustomPosition=function(t){for(var e=this.customPositions.length,n=0;n++<e;)this.overflowAllSides(t)&&(t=this.nextPosition(t,this.customPositions),this.elementPosition(t))},t.prototype.adjustDefaultPosition=function(t){for(var e=this.getMainPositions(),n=e.length,i=0;i++<n;){var o=this.getMainPosition(t);if(!this.overflowMain(o))return this.overflowAllSides(t)?void this.verifySubPositions(t):void 0;t=this.nextPosition(o,e)}},t.prototype.elementPosition=function(t){this.isCornerAligned?this.setAlignedElementPosition(t):this.setElementPosition(t)},t.prototype.getMainPosition=function(t){return t.indexOf("-")>-1?t.substring(0,t.indexOf("-")):t},t.prototype.getMainPositions=function(){return this.customPositions&&this.customPositions.length?this.getMainPositionsByCustomPositions(this.customPositions):["top","right","bottom","left"]},t.prototype.getMainPositionsByCustomPositions=function(t){for(var e=[],n=t.length,i=0;i<n;i++){var o=t[i],r=this.getMainPosition(o);e.includes(r)||e.push(r)}return e},t.prototype.getOverflows=function(){var t=this.getSizesAndPositions();return{right:t.element.right>t.window.innerWidth,top:t.element.top<=0,left:t.element.left<=0,bottom:t.element.bottom>t.window.innerHeight}},t.prototype.getSizesAndPositions=function(){return{window:{scrollY:window.scrollY,scrollX:window.scrollX,innerWidth:window.innerWidth,innerHeight:window.innerHeight},element:this.element.getBoundingClientRect(),target:this.targetElement?this.targetElement.getBoundingClientRect():{top:0,bottom:0,right:0,left:0}}},t.prototype.nextPosition=function(t,e){void 0===e&&(e=[]);var n=e.indexOf(t),i=n+1;return n>-1&&i<e.length?e[i]:e[0]},t.prototype.overflowAllSides=function(t){var e=this.getOverflows();switch(t){case"top":return e.top||e.right||e.left;case"top-right":return e.top||e.right;case"top-left":return e.top||e.left;case"right":return e.right||e.top||e.bottom;case"right-top":return e.right||e.top;case"right-bottom":return e.right||e.bottom;case"bottom":return e.bottom||e.right||e.left;case"bottom-right":return e.bottom||e.right;case"bottom-left":return e.bottom||e.left;case"left":return e.left||e.top||e.bottom;case"left-top":return e.left||e.top;case"left-bottom":return e.left||e.bottom}},t.prototype.overflowMain=function(t){var e=this.getOverflows();switch(t){case"top":return e.top;case"right":return e.right;case"bottom":return e.bottom;case"left":return e.left}},t.prototype.setAlignedArrowDirection=function(t){switch(t){case"top-left":return"bottom-left";case"top-right":return"bottom-right";case"bottom-right":return"top-right";case"bottom-left":return"top-left"}},t.prototype.setAlignedBottomPositions=function(t,e){this.element.style.top=e.target.bottom+this.elementOffset+"px",this.element.style.left=e.target.left-t+"px"},t.prototype.setAlignedElementPosition=function(t){this.setElementWidth();var e=this.getSizesAndPositions();switch(t){case"bottom-left":this.setAlignedBottomPositions(0,e);break;case"bottom-right":this.setAlignedBottomPositions(e.element.width-e.target.width,e);break;case"top-left":this.setAlignedTopPositions(0,e);break;case"top-right":this.setAlignedTopPositions(e.element.width-e.target.width,e)}this.arrowDirection=this.setAlignedArrowDirection(t)},t.prototype.setAlignedTopPositions=function(t,e){this.element.style.top=e.target.top-e.element.height-this.elementOffset+"px",this.element.style.left=e.target.left-t+"px"},t.prototype.setArrowDirection=function(t){switch(t){case"top":return"bottom";case"top-left":return"bottom-right";case"top-right":return"bottom-left";case"right":return"left";case"right-top":return"left-bottom";case"right-bottom":return"left-top";case"bottom":return"top";case"bottom-right":return"top-left";case"bottom-left":return"top-right";case"left":return"right";case"left-bottom":return"right-top";case"left-top":return"right-bottom"}},t.prototype.setBottomPositions=function(t,e){this.element.style.top=e.target.bottom+this.elementOffset+"px",this.element.style.left=e.target.left+e.target.width/2-t+"px"},t.prototype.setElementPosition=function(t){this.setElementWidth();var e=this.getSizesAndPositions();switch(t){case"top":this.setTopPositions(e.element.width/2,e);break;case"top-left":this.setTopPositions(e.element.width-this.offsetArrow-this.differenceDiagonalToWidthArrow,e);break;case"top-right":this.setTopPositions(this.offsetArrow+this.differenceDiagonalToWidthArrow,e);break;case"right":this.setRightPositions(e.element.height/2,e);break;case"right-top":this.setRightPositions(e.element.height-this.offsetArrow-this.differenceDiagonalToWidthArrow,e);break;case"right-bottom":this.setRightPositions(this.offsetArrow,e);break;case"bottom":this.setBottomPositions(e.element.width/2,e);break;case"bottom-right":this.setBottomPositions(this.offsetArrow+this.differenceDiagonalToWidthArrow,e);break;case"bottom-left":this.setBottomPositions(e.element.width-this.offsetArrow-this.differenceDiagonalToWidthArrow,e);break;case"left":this.setLeftPositions(e.element.height/2,e);break;case"left-bottom":this.setLeftPositions(this.offsetArrow,e);break;case"left-top":this.setLeftPositions(e.element.height-this.offsetArrow,e)}this.arrowDirection=this.setArrowDirection(t)},t.prototype.setElementWidth=function(){this.isSetElementWidth&&this.targetElement&&(this.element.style.width=this.targetElement.clientWidth+"px")},t.prototype.setLeftPositions=function(t,e){this.element.style.top=e.target.top-t+e.target.height/2+"px",this.element.style.left=e.target.left-e.element.width-this.elementOffset+"px"},t.prototype.setRightPositions=function(t,e){this.element.style.top=e.target.top-t+e.target.height/2+"px",this.element.style.left=e.target.right+this.elementOffset+"px"},t.prototype.setTopPositions=function(t,e){this.element.style.top=e.target.top-e.element.height-this.elementOffset+"px",this.element.style.left=e.target.left+e.target.width/2-t+"px"},t.prototype.verifySubPositions=function(t){t.indexOf("-")>-1&&(t=t.substring(0,t.indexOf("-")),this.elementPosition(t));for(var e=0;e++<3;){if(!this.overflowAllSides(t))return null;t=this.nextPosition(t,this.customPositions||re),this.elementPosition(t)}},t.decorators=[{type:e.Injectable}],t}(),ae=["right","right-top","right-bottom","top","top-left","top-right","left","left-top","left-bottom","bottom","bottom-left","bottom-right"],le="bottom-left",ce=function(){function t(){this._hideArrow=!1,this._position=le,this.arrowDirection="top-right",this.showPopup=!1}return Object.defineProperty(t.prototype,"actions",{get:function(){return this._actions},set:function(t){this._actions=Array.isArray(t)?t:[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hideArrow",{get:function(){return this._hideArrow},set:function(t){this._hideArrow=E(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"position",{get:function(){return this._position},set:function(t){this._position=ae.includes(t)?t:le},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"target",{get:function(){return this._target},set:function(t){this._target=t instanceof e.ElementRef?t.nativeElement:t},enumerable:!0,configurable:!0}),t.propDecorators={actions:[{type:e.Input,args:["t-actions"]}],hideArrow:[{type:e.Input,args:["t-hide-arrow"]}],position:[{type:e.Input,args:["t-position"]}],target:[{type:e.Input,args:["t-target"]}]},t}(),ue=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),pe=function(t){function n(e,n,i,o,r){var s=t.call(this)||this;return s.renderer=n,s.router=i,s.thfControlPosition=o,s.changeDetector=r,s.onScroll=function(){s.showPopup&&s.close()},s.parentRef=e._view.component,s}return ue(n,t),n.prototype.close=function(){this.removeListeners(),this.showPopup=!1},n.prototype.onActionClick=function(t){var e=t&&!this.returnBooleanValue(t,"disabled");return t&&t.action&&e?(this.close(),A(t.action,this.parentRef,this.param||t)):t&&t.url&&e?(this.close(),this.openUrl(t.url)):void 0},n.prototype.open=function(t){this.oldTarget=this.target,this.param=t,this.showPopup=!0,this.changeDetector.detectChanges(),this.validateInitialContent()},n.prototype.returnBooleanValue=function(t,e){return M(t[e],"function")?t[e](this.param||t):t[e]},n.prototype.toggle=function(t){this.showPopup&&this.oldTarget===this.target?this.close():this.open(t)},n.prototype.clickedOutDisabledItem=function(t){return!(this.elementContains(t.target,"thf-popup-item-disabled")||this.elementContains(t.target.parentElement,"thf-popup-item-disabled"))},n.prototype.clickedOutHeaderTemplate=function(t){var e=this.popupRef&&this.popupRef.nativeElement.querySelector("[t-popup-header-template]");return!(e&&e.contains(t.target))},n.prototype.clickedOutTarget=function(t){return this.target&&!this.target.contains(t.target)},n.prototype.closePopupOnClickout=function(t){this.clickedOutTarget(t)&&this.clickedOutDisabledItem(t)&&this.clickedOutHeaderTemplate(t)&&this.close()},n.prototype.elementContains=function(t,e){return t&&t.classList.contains(e)},n.prototype.hasContentToShow=function(){return!(!this.popupRef.nativeElement||!this.popupRef.nativeElement.clientHeight)},n.prototype.initializeListeners=function(){var t=this;this.resizeListener=this.renderer.listen("window","resize",function(){t.close()}),this.clickoutListener=this.renderer.listen("document","click",function(e){t.closePopupOnClickout(e)}),window.addEventListener("scroll",this.onScroll,!0)},n.prototype.openUrl=function(t){return q(t)?B(t):t?this.router.navigate([t]):void 0},n.prototype.removeListeners=function(){this.clickoutListener&&this.clickoutListener(),this.resizeListener&&this.resizeListener(),window.removeEventListener("scroll",this.onScroll,!0)},n.prototype.setPosition=function(){this.thfControlPosition.setElements(this.popupRef.nativeElement,8,this.target),this.renderer.setStyle(this.popupRef.nativeElement,"left","0"),this.thfControlPosition.adjustPosition(this.position),this.arrowDirection=this.thfControlPosition.getArrowDirection()},n.prototype.validateInitialContent=function(){this.hasContentToShow()?(this.setPosition(),this.initializeListeners()):this.close()},n.decorators=[{type:e.Component,args:[{selector:"thf-popup",template:'<div #popupRef class="thf-popup" *ngIf="showPopup"> <div *ngIf="!hideArrow" class="thf-popup-arrow thf-arrow-{{ arrowDirection }}"></div> <ng-content select="[t-popup-header-template]"></ng-content> <ng-container *ngFor="let action of actions; let actionIndex = index"> <div *ngIf="action.visible !== false" [class.thf-popup-item-default]="action.type !== \'danger\'" [class.thf-popup-item-danger]="action.type === \'danger\'" [class.thf-popup-item-disabled]="returnBooleanValue(action, \'disabled\')" [class.thf-popup-item-separator]="action.separator && actionIndex !== 0" [class.thf-popup-item-selected]="action.selected" (click)="onActionClick(action)"> <span *ngIf="action.icon" class="thf-icon {{ action.icon }} thf-popup-icon-item"></span> {{ action.label }} </div> </ng-container> </div> ',providers:[se]}]}],n.ctorParameters=function(){return[{type:e.ViewContainerRef},{type:e.Renderer2},{type:i.Router},{type:se},{type:e.ChangeDetectorRef}]},n.propDecorators={popupRef:[{type:e.ViewChild,args:["popupRef",{read:e.ElementRef}]}]},n}(ce),he=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule],declarations:[pe],exports:[pe],providers:[],schemas:[]}]}],t}(),de=function(){function t(){}return t.prototype.transform=function(t,e){if(M(t,"string")&&/^(([0-1][0-9])|(2[0-3])):[0-5][0-9]:[0-5][0-9][\.]?([0-9]{1,6})?$/g.test(t)){var n=e?e.lastIndexOf("f")-e.indexOf("f")+1:0,i=this.addDotMiliseconds(t.substring(9,9+n),n),o=this.getFormatMiliseconds(n);return this.formatValue(t,e,o,i)}return null},t.prototype.addDotMiliseconds=function(t,e){return t&&e&&(t="."+t),t},t.prototype.formatValue=function(t,e,n,i){if(t&&e){var o=t.substring(0,2),r=t.substring(3,5),s=t.substring(6,8);return e=(e=(e=(e=e.replace("HH",o)).replace("mm",r)).replace("ss",s)).replace("."+n,i)}return t},t.prototype.getFormatMiliseconds=function(t){for(var e="",n=0;n<t;n++)e+="f";return e},t.decorators=[{type:e.Pipe,args:[{name:"thf_time"}]}],t}(),fe=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{declarations:[de],imports:[],exports:[de],providers:[],bootstrap:[]}]}],t}(),ge=function(){function t(){this._tooltip="",this._tooltipPosition="bottom"}return Object.defineProperty(t.prototype,"tooltip",{get:function(){return this._tooltip},set:function(t){t&&t.length>140?this._tooltip=t.substring(0,140):this._tooltip=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipPosition",{get:function(){return this._tooltipPosition},set:function(t){this._tooltipPosition=ae.includes(t)?t:"bottom"},enumerable:!0,configurable:!0}),t.propDecorators={tooltip:[{type:e.Input,args:["t-tooltip"]}],tooltipPosition:[{type:e.Input,args:["t-tooltip-position"]}]},t}(),me=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ye=function(t){function n(e,n,i){var o=t.call(this)||this;return o.elementRef=e,o.renderer=n,o.thfControlPosition=i,o.tooltipOffset=8,o}return me(n,t),n.prototype.ngOnInit=function(){this.initScrollEventListenerFunction()},n.prototype.onMouseEnter=function(){var t=this;setTimeout(function(){t.tooltip&&(t.tooltipContent?t.showTooltip():t.createTooltip(),t.removeArrow(t.arrowDirection),t.thfControlPosition.adjustPosition(t.tooltipPosition),t.arrowDirection=t.thfControlPosition.getArrowDirection(),t.addArrow(t.arrowDirection),t.lastTooltipText=t.tooltip)})},n.prototype.onMouseLeave=function(){this.hideTooltip()},n.prototype.addArrow=function(t){this.renderer.addClass(this.divArrow,"thf-arrow-"+t)},n.prototype.addScrollEventListener=function(){window.addEventListener("scroll",this.eventListenerFunction,!0)},n.prototype.createTooltip=function(){this.tooltipContent=this.renderer.createElement("div"),this.renderer.addClass(this.tooltipContent,"thf-tooltip"),this.divArrow=this.renderer.createElement("div"),this.renderer.addClass(this.divArrow,"thf-tooltip-arrow"),this.divContent=this.renderer.createElement("div"),this.renderer.addClass(this.divContent,"thf-tooltip-content"),this.textContent=this.renderer.createText(this.tooltip),this.renderer.appendChild(this.divContent,this.textContent),this.renderer.appendChild(this.tooltipContent,this.divArrow),this.renderer.appendChild(this.tooltipContent,this.divContent),this.renderer.appendChild(this.elementRef.nativeElement,this.tooltipContent),this.thfControlPosition.setElements(this.tooltipContent,this.tooltipOffset,this.elementRef),this.addScrollEventListener()},n.prototype.initScrollEventListenerFunction=function(){var t=this;this.eventListenerFunction=function(){t.isHidden||setTimeout(function(){t.thfControlPosition.adjustPosition(t.tooltipPosition)})}},n.prototype.hideTooltip=function(){this.tooltipContent&&(this.renderer.addClass(this.tooltipContent,"thf-invisible"),this.isHidden=!0,this.removeScrollEventListener())},n.prototype.removeArrow=function(t){this.elementRef.nativeElement.querySelector(".thf-arrow-"+t)&&this.renderer.removeClass(this.divArrow,"thf-arrow-"+t)},n.prototype.removeScrollEventListener=function(){window.removeEventListener("scroll",this.eventListenerFunction,!0)},n.prototype.showTooltip=function(){this.renderer.removeClass(this.tooltipContent,"thf-invisible"),this.updateTextContent(),this.isHidden=!1,this.addScrollEventListener()},n.prototype.updateTextContent=function(){this.lastTooltipText!==this.tooltip&&(this.renderer.removeChild(this.divContent,this.textContent),this.textContent=this.renderer.createText(this.tooltip),this.renderer.appendChild(this.divContent,this.textContent))},n.decorators=[{type:e.Directive,args:[{selector:"[t-tooltip]",providers:[se]}]}],n.ctorParameters=function(){return[{type:e.ElementRef},{type:e.Renderer2},{type:se}]},n.propDecorators={onMouseEnter:[{type:e.HostListener,args:["mouseenter"]}],onMouseLeave:[{type:e.HostListener,args:["mouseleave"]}]},n}(ge),be=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule],declarations:[ye],exports:[ye]}]}],t}(),ve=function(){function t(){}return Object.defineProperty(t.prototype,"icons",{get:function(){return this._icons},set:function(t){this._icons=this.convertToColumnIcon(t)},enumerable:!0,configurable:!0}),t.prototype.getIconColorClass=function(t){var e=this.getIconColor(t)||this.getIconColor(this.column);return e?"thf-column-text-"+e:""},t.prototype.onIconClick=function(t){t.action?t.action(this.row,t):this.column.action&&this.column.action(this.row,t||this.column)},t.prototype.convertToColumnIcon=function(t){return t instanceof Array?t.map(function(t){return"string"==typeof t?{value:t}:t}):"string"==typeof t?[{value:t}]:[]},t.prototype.getIconColor=function(t){return"function"==typeof t.color?t.color(this.row,t):t.color},t.decorators=[{type:e.Component,args:[{selector:"thf-table-column-icon",template:'<ng-container *ngFor="let iconColumn of icons"> <span class="thf-icon" [class.thf-clickable]="iconColumn.action || column.action" [ngClass]="[getIconColorClass(iconColumn), iconColumn.icon || iconColumn.value]" (click)="onIconClick(iconColumn)"> </span> </ng-container> '}]}],t.propDecorators={column:[{type:e.Input,args:["t-column"]}],icons:[{type:e.Input,args:["t-icons"]}],row:[{type:e.Input,args:["t-row"]}]},t}(),we={Color01:"color-01",Color02:"color-02",Color03:"color-03",Color04:"color-04",Color05:"color-05",Color06:"color-06",Color07:"color-07",Color08:"color-08",Color09:"color-09",Color10:"color-10",Color11:"color-11",Color12:"color-12"},Ce=function(){function t(){}return t.prototype.getColor=function(t){return Object.values(we).includes(t.color)?t.color:this.getColorFromType(t.type||t.color)},t.prototype.getColorFromType=function(t){switch(t){case"danger":return we.Color07;case"success":return we.Color11;case"warning":return we.Color08;default:return we.Color01}},t.decorators=[{type:e.Injectable}],t}(),Ie=function(){function t(t){this.thfColorPaletteService=t}return Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(t){t&&(t.color=this.thfColorPaletteService.getColor(t)),this._value=t},enumerable:!0,configurable:!0}),t.decorators=[{type:e.Component,args:[{selector:"thf-table-column-label",template:"<span [class]=\"'thf-table-column-label thf-' + value?.color\"> {{ value?.label }} </span> "}]}],t.ctorParameters=function(){return[{type:Ce}]},t.propDecorators={value:[{type:e.Input,args:["t-value"]}]},t}(),Oe=function(){return(Oe=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},ke=["border","shadow"],De={en:{noColumns:"Columns are not defined",noData:"No data found",loadingData:"Loading",loadMoreData:"Load more data",seeCompleteSubtitle:"See complete subtitle",completeSubtitle:"Complete subtitle"},es:{noColumns:"Columnas no definidas",noData:"Datos no encontrados",loadingData:"Cargando datos",loadMoreData:"Cargar más resultados",seeCompleteSubtitle:"Ver subtitulo completo",completeSubtitle:"Subtitulo completo"},pt:{noColumns:"Nenhuma definição de colunas",noData:"Nenhum dado encontrado",loadingData:"Carregando",loadMoreData:"Carregar mais resultados",seeCompleteSubtitle:"Ver legenda completa",completeSubtitle:"Legenda completa"}},_e=function(){function t(t){this.thfDate=t,this._actions=[],this._columns=[],this._hideDetail=!1,this._hideTextOverflow=!1,this._loading=!1,this.allSelected=new e.EventEmitter,this.allUnselected=new e.EventEmitter,this.selected=new e.EventEmitter,this.showMore=new e.EventEmitter,this.unselected=new e.EventEmitter,this.selectAll=!1,this.sortedColumn={property:null,ascending:!0}}return Object.defineProperty(t.prototype,"items",{get:function(){return this._items},set:function(t){this._items=Array.isArray(t)?t:[],this.hasItems()?this.hasColumns()||(this.columns=this.getDefaultColumns(t[0])):this.selectAll=!1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columns",{get:function(){return this._columns},set:function(t){this._columns=t||[],this.mapColumnToProperty(),this._columns.length?(this.setColumnLink(),this.calculateWidthHeaders()):this.hasItems()&&(this._columns=this.getDefaultColumns(this.items[0]))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"container",{get:function(){return this._container},set:function(t){this._container=ke.includes(t)?t:"border",this.showContainer(this._container)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hideTextOverflow",{get:function(){return this._hideTextOverflow},set:function(t){this._hideTextOverflow=E(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t,this.calculateHeightTableContainer(t),this.calculateWidthHeaders()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hideDetail",{get:function(){return this._hideDetail},set:function(t){this._hideDetail=null!=t&&""===t.toString()||E(t),this.calculateWidthHeaders()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"literals",{get:function(){return this._literals||De[P()]},set:function(t){t instanceof Object&&!(t instanceof Array)?this._literals=Oe({},De[_],De[P()],t):this._literals=De[P()]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"loading",{get:function(){return this._loading},set:function(t){this._loading=E(t),this.calculateWidthHeaders()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"checkbox",{get:function(){return this._checkbox},set:function(t){this._checkbox=""===t||E(t),this.calculateWidthHeaders()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"actions",{get:function(){return this._actions},set:function(t){this._actions=t,this.calculateWidthHeaders()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"setSort",{set:function(t){this.sort=""!==t&&E(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"setShowMoreDisabled",{set:function(t){this.showMoreDisabled=""!==t&&E(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"setStriped",{set:function(t){this.striped=""!==t&&E(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"setHideSelectAll",{set:function(t){this.hideSelectAll=""!==t&&E(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"setSingleSelect",{set:function(t){this.singleSelect=""===t||E(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"noData",{get:function(){return this.literals.noData},set:function(t){t&&(this.literals.noData=t)},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(){(this.singleSelect||this.hideSelectAll)&&(this.selectAll=!1,this.hideSelectAll=!0)},t.prototype.selectAllRows=function(){var t=this;this.hideSelectAll||(this.selectAll=!this.selectAll,this.items.forEach(function(e){e.$selected=t.selectAll}),this.emitSelectAllEvents(this.selectAll,this.items))},t.prototype.selectRow=function(t){t.$selected=!t.$selected,this.emitSelectEvents(t),this.configAfterSelectRow(this.items,t)},t.prototype.selectDetailRow=function(t){this.emitSelectEvents(t)},t.prototype.getMainColumns=function(){var t=["string","number","boolean","date","time","dateTime","currency","subtitle","link","label","icon"];return this.columns.filter(function(e){return!e.type||t.includes(e.type)})},t.prototype.getColumnMasterDetail=function(){return this.columns.find(function(t){return"detail"===t.type})},t.prototype.getClassColor=function(t,e){return e.color?"thf-column-text-"+this.getColumnColor(t,e):""},t.prototype.getColumnColor=function(t,e){var n=e.color;return M(n,"function")?n(t,e.property):n},t.prototype.getSubtitleColumns=function(){return this.columns.filter(function(t){return"subtitle"===t.type})},t.prototype.getIconColumns=function(){return this.columns.filter(function(t){return"icon"===t.type})},t.prototype.getNameColumnDetail=function(){var t=this.getColumnMasterDetail();return t?t.property:null},t.prototype.getSelectedRows=function(){return this.items.filter(function(t){return t.$selected})},t.prototype.getUnselectedRows=function(){return this.items.filter(function(t){return!t.$selected})},t.prototype.hasColumns=function(){return this.columns&&this.columns.length>0},t.prototype.hasItems=function(){return this.items&&this.items.length>0},t.prototype.toggleRowAction=function(t){var e=t.$showAction;this.items.forEach(function(t){t.$showAction&&(t.$showAction=!1)}),t.$showAction=!e},t.prototype.sortColumn=function(t){this.sort&&"detail"!==t.type&&(this.sortedColumn.ascending=this.sortedColumn.property!==t||!this.sortedColumn.ascending,this.sortArray(t,this.sortedColumn.ascending),this.sortedColumn.property=t)},t.prototype.sortArray=function(t,e){var n=this;this.items.sort(function(i,o){return"date"===t.type||"dateTime"===t.type?n.thfDate.sortDate(i[t.property],o[t.property],e):W(i[t.property],o[t.property],e)})},t.prototype.onShowMore=function(){this.showMore.emit(null)},t.prototype.getDefaultColumns=function(t){return Object.keys(t).filter(function(e){return"object"!=typeof t[e]}).map(function(t){return{label:U(t),property:t}})},t.prototype.configAfterSelectRow=function(t,e){this.singleSelect?this.unselectOtherRows(t,e):this.hideSelectAll||(this.selectAll=this.isEverySelected(t))},t.prototype.emitSelectAllEvents=function(t,e){t?this.allSelected.emit(e):this.allUnselected.emit(e)},t.prototype.emitSelectEvents=function(t){t.$selected?this.selected.emit(t):this.unselected.emit(t)},t.prototype.isEverySelected=function(t){return!!t.every(function(t){return t.$selected})||!!t.some(function(t){return t.$selected||null===t.$selected})&&null},t.prototype.mapColumnToProperty=function(){this._columns.forEach(function(t){return t.property=t.property||t.column})},t.prototype.setColumnLink=function(){this.columns.forEach(function(t){"link"!==t.type||t.link||(t.link="link")})},t.prototype.unselectOtherRows=function(t,e){t.forEach(function(t){t!==e&&(t.$selected=!1)})},t.propDecorators={items:[{type:e.Input,args:["t-items"]}],columns:[{type:e.Input,args:["t-columns"]}],container:[{type:e.Input,args:["t-container"]}],hideTextOverflow:[{type:e.Input,args:["t-hide-text-overflow"]}],height:[{type:e.Input,args:["t-height"]}],hideDetail:[{type:e.Input,args:["t-hide-detail"]}],literals:[{type:e.Input,args:["t-literals"]}],loading:[{type:e.Input,args:["t-loading"]}],checkbox:[{type:e.Input,args:["t-checkbox"]}],actions:[{type:e.Input,args:["t-actions"]}],setSort:[{type:e.Input,args:["t-sort"]}],setShowMoreDisabled:[{type:e.Input,args:["t-show-more-disabled"]}],setStriped:[{type:e.Input,args:["t-striped"]}],setHideSelectAll:[{type:e.Input,args:["t-hide-select-all"]}],setSingleSelect:[{type:e.Input,args:["t-single-select"]}],noData:[{type:e.Input,args:["t-no-data"]}],allSelected:[{type:e.Output,args:["t-all-selected"]}],allUnselected:[{type:e.Output,args:["t-all-unselected"]}],selected:[{type:e.Output,args:["t-selected"]}],showMore:[{type:e.Output,args:["t-show-more"]}],unselected:[{type:e.Output,args:["t-unselected"]}]},t}(),Pe=function(){function t(t){this.templateRef=t}return t.decorators=[{type:e.Directive,args:[{selector:"[t-table-row-template]"}]}],t.ctorParameters=function(){return[{type:e.TemplateRef}]},t.propDecorators={thfTableRowTemplateShow:[{type:e.Input,args:["t-table-row-template-show"]}]},t}(),Ee=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Se=function(t){function o(e,n,i,o,r,s,a){var l=t.call(this,e)||this;return l.changeDetector=r,l.decimalPipe=s,l.router=a,l.tableOpacity=0,l.initialized=!1,l.visibleElement=!1,l.parentRef=i._view.component,l.differ=n.find([]).create(null),l.clickListener=o.listen("document","click",function(){}),l.resizeListener=o.listen("window","resize",function(t){l.debounceResize()}),l}return Ee(o,t),Object.defineProperty(o.prototype,"detailHideSelect",{get:function(){var t=this.getColumnMasterDetail();return!(!t||!t.detail)&&t.detail.hideSelect},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"firstAction",{get:function(){return this.visibleActions&&this.visibleActions[0]},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"hasRowTemplate",{get:function(){return!!this.tableRowTemplate},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"visibleActions",{get:function(){return this.actions&&this.actions.filter(function(t){return!1!==t.visible})},enumerable:!0,configurable:!0}),o.prototype.ngAfterViewInit=function(){this.initialized=!0,this.container||this.hideContainer()},o.prototype.ngDoCheck=function(){this.checkChangesItems(),this.verifyCalculateHeightTableContainer(),this.tableWrapperElement.nativeElement.offsetWidth&&!this.visibleElement&&this.initialized&&(this.debounceResize(),this.visibleElement=!0)},o.prototype.ngOnDestroy=function(){this.removeListeners()},o.prototype.executeTableAction=function(t,e){t.disabled||this.validateTableAction(t,e)||("string"==typeof e.action?this.parentRef[e.action](t):e.action.call(this.parentRef,t),this.toggleRowAction(t))},o.prototype.columnCountForMasterDetail=function(){return this.getMainColumns().length+1+(this.actions.length>0?1:0)+(this.checkbox?1:0)},o.prototype.columnCount=function(){return this.getMainColumns().length+(this.actions.length>0?1:0)+(this.checkbox?1:0)+(this.hideDetail||void 0===this.getColumnMasterDetail()?0:1)},o.prototype.formatNumber=function(t,e){return e?this.decimalPipe.transform(t,e):t},o.prototype.getSubtitleColumn=function(t,e){return e.subtitles.find(function(n){return t[e.property]===n.value})},o.prototype.getBooleanLabel=function(t,e){return t||!1===t||0===t?(t=E(t),e.boolean?t?e.boolean.trueLabel||"Sim":e.boolean.falseLabel||"Não":t?"Sim":"Não"):t},o.prototype.getColumnIcons=function(t,e){var n=t[e.property];if(e.icons){if(n instanceof Array)return this.mergeCustomIcons(n,e.icons);if("string"==typeof n){var i=e.icons.find(function(t){return n===t.value});if(i)return[i]}}return n},o.prototype.getColumnLabel=function(t,e){return e.labels.find(function(n){return t[e.property]===n.value})},o.prototype.getColumnTitleLabel=function(t){return t.label||U(t.property)},o.prototype.verifyWidthColumnsPixels=function(){var t=this.getMainColumns();return!!t.length&&t.every(function(t){return t.width&&t.width.includes("px")})},o.prototype.calculateWidthHeaders=function(){var t=this;setTimeout(function(){t.height&&t.headersTable.forEach(function(t){var e=t.nativeElement.querySelector(".thf-table-header-fixed-inner");e&&(e.style.width=t.nativeElement.offsetWidth+"px")})})},o.prototype.containsMasterDetail=function(t){return t[this.getNameColumnDetail()]&&t[this.getNameColumnDetail()].length},o.prototype.isShowRowTemplate=function(t,e){return!this.tableRowTemplate||!this.tableRowTemplate.thfTableRowTemplateShow||this.tableRowTemplate.thfTableRowTemplateShow(t,e)},o.prototype.isShowMasterDetail=function(t){return!this.hideDetail&&this.getNameColumnDetail()&&t.$showDetail&&this.containsMasterDetail(t)&&!this.hasRowTemplate},o.prototype.tooltipMouseEnter=function(t){this.tooltipText=void 0,this.hideTextOverflow&&t.target.offsetWidth<t.target.scrollWidth&&t.target.innerText.trim()&&(this.tooltipText=t.target.innerText)},o.prototype.tooltipMouseLeave=function(){this.tooltipText=void 0},o.prototype.verifyChangeHeightInFooter=function(){return this.footerHeight!==this.getHeightTableFooter()},o.prototype.verifyCalculateHeightTableContainer=function(){this.height&&this.verifyChangeHeightInFooter()&&(this.footerHeight=this.getHeightTableFooter(),this.calculateHeightTableContainer(this.height))},o.prototype.calculateHeightTableContainer=function(t){var e=parseFloat(t);this.heightTableContainer=e?e-this.getHeightTableFooter():void 0,this.setTableOpacity(1),this.changeDetector.detectChanges()},o.prototype.getTypeColumnLink=function(t,e){var n;return e.action?"action":(n=t[e.link])&&n.startsWith("http")?"externalLink":"internalLink"},o.prototype.togglePopup=function(t,e){this.popupTarget=e,this.changeDetector.detectChanges(),this.thfPopupComponent.toggle(t)},o.prototype.showContainer=function(t){var e=this.tableContainerElement.nativeElement.firstChild.classList;e.add("thf-container"),"border"===t?e.add("thf-container-no-shadow"):e.remove("thf-container-no-shadow")},o.prototype.checkChangesItems=function(){var t=this.differ.diff(this.items);t&&this.selectAll&&(this.selectAll=null),t&&!this.hasColumns()&&this.hasItems()&&(this.columns=this.getDefaultColumns(this.items[0]))},o.prototype.getHeightTableFooter=function(){return this.tableFooterElement?this.tableFooterElement.nativeElement.offsetHeight:0},o.prototype.hideContainer=function(){this.tableContainerElement.nativeElement.firstChild.classList.remove("thf-container")},o.prototype.mergeCustomIcons=function(t,e){var n=[];return t.forEach(function(t){var i=e.find(function(e){return t===e.icon||t===e.value});i?n.push(i):n.push(t)}),n},o.prototype.validateTableAction=function(t,e){return"function"==typeof e.disabled?e.disabled.call(this.parentRef,t):e.disabled},o.prototype.debounceResize=function(){var t=this;clearTimeout(this.timeoutResize),this.timeoutResize=setTimeout(function(){t.calculateWidthHeaders(),t.setTableOpacity(1)})},o.prototype.removeListeners=function(){this.resizeListener&&this.resizeListener(),this.clickListener&&this.clickListener()},o.prototype.setTableOpacity=function(t){this.tableOpacity=t},o.decorators=[{type:e.Component,args:[{selector:"thf-table",template:'<thf-container #tableContainer t-no-padding> <div [class.thf-table-container-relative]="loading"> <div *ngIf="loading" class="thf-table-overlay"> <thf-loading class="thf-table-overlay-content" [t-text]="literals.loadingData"></thf-loading> </div> <div class="thf-table-main-container"> <div #tableWrapper class="thf-table-wrapper" [class.thf-table-header-fixed-columns-pixels]="verifyWidthColumnsPixels()" [style.opacity]="tableOpacity"> <div class="thf-table-container" *ngIf="height" [style.height.px]="heightTableContainer"> <div class="thf-table-header-fixed thf-table-header"></div> <div class="thf-table-container-fixed-inner"> <ng-container *ngTemplateOutlet="tableTemplate"></ng-container> </div> </div> <div *ngIf="!height"> <ng-container *ngTemplateOutlet="tableTemplate"></ng-container> </div> </div> </div> </div> <div class="thf-table-footer" *ngIf="hasItems() && getSubtitleColumns().length"> <div *ngFor="let column of getSubtitleColumns()"> <thf-table-subtitle-footer [t-literals]="literals" [t-subtitles]="column.subtitles"></thf-table-subtitle-footer> </div> </div> </thf-container> <div class="thf-row thf-table-footer-show-more" [class.thf-invisible]="showMore.observers.length === 0" #tableFooter> <thf-button class="thf-offset-xl-4 thf-offset-lg-4 thf-offset-md-3 thf-lg-4 thf-md-6" [t-disabled]="showMoreDisabled" [t-label]="literals.loadMoreData" (t-click)="onShowMore()"> </thf-button> </div> <ng-template #tableTemplate> <table class="thf-table" [class.thf-table-striped]="striped" [class.thf-table-layout-fixed]="hideTextOverflow"> <thead> <tr [class.thf-table-header]="!height"> <th *ngIf="checkbox && hasItems()" class="thf-table-column-checkbox"> <div [class.thf-table-header-fixed-inner]="height"> <input *ngIf="!hideSelectAll" type="checkbox" class="thf-table-checkbox" [class.thf-table-checkbox-checked]="selectAll" [class.thf-table-checkbox-indeterminate]="selectAll === null"> <label *ngIf="!hideSelectAll" class="thf-table-checkbox-label thf-clickable" (click)="selectAllRows()"></label> </div> </th> <th *ngIf="hasItems() && !hideDetail && getColumnMasterDetail() !== undefined || hasRowTemplate" class="thf-table-header-column thf-table-header-master-detail"> </th> <th *ngIf="!hasColumns()" class="thf-table-header-column thf-text-center">{{ literals.noColumns }}</th> <th *ngFor="let column of getMainColumns(); let i = index" #headersTable class="thf-table-header-ellipsis" [style.width]="column.width" [style.max-width]="column.width" [style.min-width]="column.width" [class.thf-clickable]="sort" [class.thf-table-column-right]= "column.type === \'currency\' || column.type === \'number\'" [class.thf-table-header-subtitle]="column.type === \'subtitle\'" (click)="sortColumn(column)"> <div *ngIf="height" class="thf-table-header-fixed-inner"> <ng-container *ngTemplateOutlet="contentHeaderTemplate"></ng-container> </div> <div *ngIf="!height"> <ng-container *ngTemplateOutlet="contentHeaderTemplate"></ng-container> </div> <ng-template #contentHeaderTemplate> <span *ngIf="sort" [class.thf-table-header-icon-unselected]= "sortedColumn?.property !== column" [class.thf-table-header-icon-descending]= "sortedColumn?.property === column && sortedColumn.ascending" [class.thf-table-header-icon-ascending]= "sortedColumn?.property === column && !sortedColumn.ascending"> </span> <span class="thf-table-header-ellipsis thf-table-header-block" [t-tooltip]="tooltipText" (mouseenter)="tooltipMouseEnter($event)" (mouseleave)="tooltipMouseLeave()"> {{ getColumnTitleLabel(column) }} </span> </ng-template> </th> <th *ngIf="visibleActions.length > 1 && hasItems()" class="thf-table-header-action"></th> <th *ngIf="visibleActions.length === 1 && hasItems()" class="thf-table-header-single-action"></th> </tr> </thead> <tbody class="thf-table-group-row" *ngIf="!hasItems()"> <tr class="thf-table-row"> <td [colSpan]="columnCount()" class="thf-table-no-data thf-text-center"> <span> {{ literals.noData }} </span> </td> </tr> </tbody> <tbody class="thf-table-group-row" *ngFor="let row of items, let rowIndex = index;"> <tr class="thf-table-row" [class.thf-table-row-active]="row.$selected || row.$selected === null && checkbox"> <td *ngIf="checkbox" class="thf-table-column thf-table-column-checkbox"> <ng-container *ngIf="singleSelect; then inputRadio; else inputCheckbox"> </ng-container> <ng-template #inputRadio> <input type="radio" class="thf-radio-group-input" [class.thf-radio-group-input-checked]="row.$selected"> <label class="thf-radio-group-label thf-clickable" (click)="checkbox ? selectRow(row) : \'javascript:;\'"></label> </ng-template> <ng-template #inputCheckbox> <input type="checkbox" class="thf-table-checkbox" [class.thf-table-checkbox-checked]="row.$selected"> <label class="thf-table-checkbox-label thf-clickable" (click)="checkbox ? selectRow(row) : \'javascript:;\'"></label> </ng-template> </td> <td *ngIf="(getColumnMasterDetail() !== undefined) && !hideDetail || hasRowTemplate" (click)="row.$showDetail = !row.$showDetail" class="thf-table-column-detail-toggle"> <span *ngIf="(containsMasterDetail(row) && !hasRowTemplate) || isShowRowTemplate(row, rowIndex) && hasRowTemplate" [class.thf-icon-arrow-up]="row.$showDetail" [class.thf-icon-arrow-down]="!row.$showDetail" class="thf-icon thf-clickable"> </span> </td> <td *ngFor="let column of getMainColumns(), let columnIndex = index;" [style.width]="column.width" [style.max-width]="column.width" [style.min-width]="column.width" [class.thf-table-column]="column.type !== \'icon\'" [class.thf-table-column-right]="column.type == \'currency\' || column.type == \'number\'" [class.thf-table-column-center]="column.type === \'subtitle\'" [class.thf-table-column-icons]="column.type === \'icon\'" [ngClass]="getClassColor(row, column)" (click)="checkbox ? selectRow(row) : \'javascript:;\'"> <div [class.thf-table-body-ellipsis]="hideTextOverflow" [ngSwitch]="column.type" [t-tooltip]="tooltipText" (mouseenter)="tooltipMouseEnter($event)" (mouseleave)="tooltipMouseLeave()"> <span *ngSwitchCase="\'boolean\'">{{ getBooleanLabel(row[column.property], column) }}</span> <span *ngSwitchCase="\'currency\'">{{ row[column.property] | currency:column.format:\'symbol\':\'1.2-2\' }}</span> <span *ngSwitchCase="\'date\'" >{{ row[column.property] | date: column.format || \'dd/MM/yyyy\' }}</span> <span *ngSwitchCase="\'time\'" >{{ row[column.property] | thf_time: column.format || \'HH:mm:ss.ffffff\' }}</span> <span *ngSwitchCase="\'dateTime\'" >{{ row[column.property] | date: column.format || \'dd/MM/yyyy HH:mm:ss\' }}</span> <span *ngSwitchCase="\'number\'">{{ formatNumber(row[column.property], column.format) }}</span> <span *ngSwitchCase="\'link\'"> <a class="thf-table-link" *ngIf="getTypeColumnLink(row, column) === \'action\'" (click)=\'column.action(row[column.property], row)\'> {{ row[column.property] }} </a> <a class="thf-table-link" *ngIf="getTypeColumnLink(row, column) === \'externalLink\'" [href]="row[column.link]" target="_blank"> {{ row[column.property] }} </a> <a class="thf-table-link" *ngIf="getTypeColumnLink(row, column) === \'internalLink\'" [routerLink]="row[column.link]"> {{ row[column.property] }} </a> </span> <span *ngSwitchCase="\'icon\'"> <thf-table-column-icon [t-icons]="getColumnIcons(row, column)" [t-column]="column" [t-row]="row"> </thf-table-column-icon> </span> <span *ngSwitchCase="\'subtitle\'"> <thf-table-subtitle-circle [t-subtitle]="getSubtitleColumn(row, column)"></thf-table-subtitle-circle> </span> <span *ngSwitchCase="\'label\'"> <thf-table-column-label [t-value]="getColumnLabel(row, column)"></thf-table-column-label> </span> <span *ngSwitchDefault>{{ row[column.property] }}</span> </div> </td> <td *ngIf="visibleActions.length === 1" class="thf-table-column thf-table-column-single-action"> <div *ngIf="firstAction.visible !== false" class="thf-table-single-action thf-clickable" [class.thf-table-action-disabled]= "firstAction.disabled ? validateTableAction(row, firstAction) : false" (click)="executeTableAction(row, firstAction)"> <span *ngIf="firstAction.icon" class="thf-icon {{ firstAction.icon }}"></span> {{ firstAction.label }} </div> </td> <td *ngIf="visibleActions.length > 1" class="thf-table-column-actions"> <span #popupTarget class="thf-icon thf-icon-more thf-clickable" (click)="togglePopup(row, popupTarget)"> </span> </td> </tr> <tr *ngIf="hasRowTemplate && row.$showDetail && isShowRowTemplate(row, rowIndex)"> <td class="thf-table-row-template-container" [colSpan]="columnCountForMasterDetail()"> <ng-template [ngTemplateOutlet]="tableRowTemplate.templateRef" [ngTemplateOutletContext]="{ $implicit: row, rowIndex: rowIndex }"> </ng-template> </td> </tr> <tr *ngIf="isShowMasterDetail(row)"> <td class="thf-table-column-detail" [colSpan]="columnCountForMasterDetail()"> <thf-table-detail [t-checkbox]="checkbox && !detailHideSelect" [t-detail]="getColumnMasterDetail().detail" [t-items]="row[getNameColumnDetail()]" (t-select-row)="selectDetailRow($event)"> </thf-table-detail> </td> </tr> </tbody> </table> <thf-popup #popup [t-actions]="actions" [t-target]="popupTarget"> </thf-popup> </ng-template> ',providers:[lt]}]}],o.ctorParameters=function(){return[{type:lt},{type:e.IterableDiffers},{type:e.ViewContainerRef},{type:e.Renderer2},{type:e.ChangeDetectorRef},{type:n.DecimalPipe},{type:i.Router}]},o.propDecorators={tableRowTemplate:[{type:e.ContentChild,args:[Pe]}],thfPopupComponent:[{type:e.ViewChild,args:["popup"]}],tableContainerElement:[{type:e.ViewChild,args:["tableContainer",{read:e.ElementRef}]}],tableFooterElement:[{type:e.ViewChild,args:["tableFooter",{read:e.ElementRef}]}],tableWrapperElement:[{type:e.ViewChild,args:["tableWrapper",{read:e.ElementRef}]}],actionsIconElement:[{type:e.ViewChildren,args:["actionsIconElement",{read:e.ElementRef}]}],actionsElement:[{type:e.ViewChildren,args:["actionsElement",{read:e.ElementRef}]}],headersTable:[{type:e.ViewChildren,args:["headersTable"]}]},o}(_e),Me=function(){function t(t){this.decimalPipe=t,this.hasCheckbox=!1,this.selectRow=new e.EventEmitter}return Object.defineProperty(t.prototype,"detail",{get:function(){return this._detail},set:function(t){this._detail=this.returnThfTableDetailObject(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"detailColumns",{get:function(){return this.detail&&this.detail.columns||[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"typeHeaderInline",{get:function(){return this.detail&&!this.detail.typeHeader||"inline"===this.detail.typeHeader},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"typeHeaderTop",{get:function(){return this.detail&&"top"===this.detail.typeHeader},enumerable:!0,configurable:!0}),t.prototype.formatNumberDetail=function(t,e){return e?this.decimalPipe.transform(t,e):t},t.prototype.getColumnTitleLabel=function(t){return t.label||U(t.property)},t.prototype.onSelectRow=function(t){t.$selected=!t.$selected,this.selectRow.emit(t)},t.prototype.returnThfTableDetailObject=function(t){if(t&&M(t,"object")){if(t.columns&&t.columns.forEach(function(t){return t.property=t.property||t.column}),Array.isArray(t))return{columns:t};if(t.columns)return t}},t.decorators=[{type:e.Component,args:[{selector:"thf-table-detail",template:'<table class="thf-table-master-detail"> <thead *ngIf="typeHeaderTop"> <tr> <th class="thf-table-header thf-table-column-checkbox" *ngIf="hasCheckbox"></th> <th class="thf-table-header thf-table-header-column thf-table-header-master-detail"></th> <th class="thf-table-header thf-table-header-ellipsis" *ngFor="let detail of detail.columns"> {{ getColumnTitleLabel(detail) }} </th> </tr> </thead> <tbody> <tr class="thf-table-detail-row" [class.thf-table-row-active]="item.$selected && hasCheckbox" *ngFor="let item of items"> <ng-container *ngIf="hasCheckbox; else masterDetailSpace"> <td class="thf-table-column-master-detail-space-checkbox"></td> <td class="thf-table-column thf-table-column-checkbox"> <input class="thf-table-checkbox" type="checkbox" [class.thf-table-checkbox-checked]="item.$selected"> <label class="thf-table-checkbox-label thf-clickable" (click)="onSelectRow(item)"> </label> </td> </ng-container> <ng-template #masterDetailSpace> <td class="thf-table-column-master-detail-space"></td> </ng-template> <td class="thf-table-column-master-detail thf-table-master-detail-label" (click)="hasCheckbox ? onSelectRow(item) : \'javascript:;\'" *ngFor="let detail of detailColumns"> <strong *ngIf="typeHeaderInline"> {{ getColumnTitleLabel(detail) }}: </strong> <ng-container [ngSwitch]="detail.type"> <span *ngSwitchCase="\'currency\'">{{ item[detail.property] | currency: detail.format:\'symbol\':\'1.2-2\' }}</span> <span *ngSwitchCase="\'date\'">{{ item[detail.property] | date: detail.format || \'dd/MM/yyyy\' }}</span> <span *ngSwitchCase="\'time\'">{{ item[detail.property] | thf_time: detail.format || \'HH:mm:ss.ffffff\' }}</span> <span *ngSwitchCase="\'dateTime\'">{{ item[detail.property] | date: detail.format || \'dd/MM/yyyy HH:mm:ss\' }}</span> <span *ngSwitchCase="\'number\'">{{ formatNumberDetail(item[detail.property], detail.format) }}</span> <span *ngSwitchDefault>{{ item[detail.property] }}</span> </ng-container> </td> </tr> </tbody> </table> '}]}],t.ctorParameters=function(){return[{type:n.DecimalPipe}]},t.propDecorators={hasCheckbox:[{type:e.Input,args:["t-checkbox"]}],detail:[{type:e.Input,args:["t-detail"]}],items:[{type:e.Input,args:["t-items"]}],selectRow:[{type:e.Output,args:["t-select-row"]}]},t}(),Ae=function(){function t(){}return t.decorators=[{type:e.Component,args:[{selector:"thf-table-show-subtitle",template:'<div class="thf-table-footer-show-subtitle" (click)="modal.open()"> <div class="thf-table-footer-show-subtitle-container"> <span class="thf-table-show-subtitle">{{ literals.seeCompleteSubtitle }}</span> </div> </div> <thf-modal #modal t-size="sm" [t-title]="literals.completeSubtitle"> <div *ngFor="let subtitle of subtitles" class="thf-table-subtitle-footer-modal thf-row"> <thf-table-subtitle-circle t-hide-title="true" [t-subtitle]="subtitle"> </thf-table-subtitle-circle> <span class="thf-table-subtitle-text">{{ subtitle.label }}</span> </div> </thf-modal> '}]}],t.propDecorators={subtitles:[{type:e.Input,args:["t-subtitles"]}],literals:[{type:e.Input,args:["t-literals"]}]},t}(),xe=function(){function t(t){this.thfColorPaletteService=t,this.hideTitle=!1}return Object.defineProperty(t.prototype,"subtitle",{get:function(){return this._subtitle},set:function(t){t&&(t.color=this.thfColorPaletteService.getColor(t)),this._subtitle=t},enumerable:!0,configurable:!0}),t.decorators=[{type:e.Component,args:[{selector:"thf-table-subtitle-circle",template:'<span [title]="hideTitle ? \'\' : subtitle?.label" class="thf-table-subtitle-circle thf-{{ subtitle?.color }}"> {{ subtitle?.content }} </span> '}]}],t.ctorParameters=function(){return[{type:Ce}]},t.propDecorators={subtitle:[{type:e.Input,args:["t-subtitle"]}],hideTitle:[{type:e.Input,args:["t-hide-title"]}]},t}(),Te=function(){function t(t,e){this.element=t,this.renderer=e}return t.prototype.ngAfterViewInit=function(){this.initializeResizeListener(),this.debounceResize()},t.prototype.ngOnDestroy=function(){this.removeResizeListener()},t.prototype.debounceResize=function(){var t=this;clearTimeout(this.timeoutResize),this.timeoutResize=setTimeout(function(){t.toggleShowCompleteSubtitle()})},t.prototype.getContainerSize=function(){return this.element.nativeElement.querySelector(".thf-table-subtitle-footer-container").offsetWidth},t.prototype.getItemsSize=function(){var t=this.element.nativeElement.querySelectorAll(".thf-table-subtitle-footer");return Array.from(t).map(function(t){return t.offsetWidth}).reduce(function(t,e){return t+e},16)},t.prototype.initializeResizeListener=function(){var t=this;this.resizeListener=this.renderer.listen("window","resize",function(e){t.debounceResize()})},t.prototype.removeResizeListener=function(){this.resizeListener()},t.prototype.toggleShowCompleteSubtitle=function(){var t=this.getContainerSize(),e=this.getItemsSize();this.showSubtitle=e>t},t.decorators=[{type:e.Component,args:[{selector:"thf-table-subtitle-footer",template:'<div class="thf-table-subtitle-footer-container"> <div *ngFor="let subtitle of subtitles" class="thf-table-subtitle-footer"> <thf-table-subtitle-circle t-hide-title="true" [t-subtitle]="subtitle"> </thf-table-subtitle-circle> <span class="thf-table-subtitle-text">{{ subtitle.label }}</span> </div> <thf-table-show-subtitle *ngIf="showSubtitle" [t-literals]="literals" [t-subtitles]="subtitles"> </thf-table-show-subtitle> </div> '}]}],t.ctorParameters=function(){return[{type:e.ElementRef},{type:e.Renderer2}]},t.propDecorators={literals:[{type:e.Input,args:["t-literals"]}],subtitles:[{type:e.Input,args:["t-subtitles"]}]},t}(),Re=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule,i.RouterModule,J,Et,Qt,oe,he,fe,be],declarations:[Se,ve,Ie,Me,Pe,Ae,xe,Te],exports:[Se,Pe],providers:[n.DecimalPipe]}]}],t}(),Le=function(){function t(){this.months=[{pt:"Janeiro",en:"January",es:"Enero"},{pt:"Fevereiro",en:"February",es:"Febrero"},{pt:"Março",en:"March",es:"Marzo"},{pt:"Abril",en:"April",es:"Abril"},{pt:"Maio",en:"May",es:"Mayo"},{pt:"Junho",en:"June",es:"Junio"},{pt:"Julho",en:"July",es:"Julio"},{pt:"Agosto",en:"August",es:"Agosto"},{pt:"Setembro",en:"September",es:"Setiembre"},{pt:"Outubro",en:"October",es:"Octubre"},{pt:"Novembro",en:"November",es:"Noviembre"},{pt:"Dezembro",en:"December",es:"Diciembre"}],this.shortWeekDays=[{pt:"Dom",en:"Sun",es:"Dom"},{pt:"Seg",en:"Mon",es:"Lun"},{pt:"Ter",en:"Tue",es:"Mar"},{pt:"Qua",en:"Wed",es:"Mié"},{pt:"Qui",en:"Thu",es:"Jue"},{pt:"Sex",en:"Fri",es:"Vie"},{pt:"Sáb",en:"Sat",es:"Sáb"}],this.wordMonth={pt:"Mês",en:"Month",es:"Mes"},this.wordYear={pt:"Ano",en:"Year",es:"Año"},this.lang="pt"}return t.prototype.setLanguage=function(t){t&&t.length>=2&&(t=t.toLowerCase().slice(0,2),this.lang="pt"===t||"en"===t||"es"===t?t:"pt")},t.prototype.getWordMonth=function(){return this.wordMonth[this.lang]},t.prototype.getWordYear=function(){return this.wordYear[this.lang]},t.prototype.getMonth=function(t){return this.months[t][this.lang]},t.prototype.getArrayMonths=function(){for(var t=Array(),e=0;e<this.months.length;e++)t.push(this.months[e][this.lang]);return t},t.prototype.getWeedDays=function(t){return this.shortWeekDays[t][this.lang]},t.prototype.getArrayWeekDays=function(){for(var t=Array(),e=0;e<this.shortWeekDays.length;e++)t.push(this.shortWeekDays[e][this.lang]);return t},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[]},t}(),Ve=function(){function t(){this.firstWeekDay=0}return t.prototype.weekStartDate=function(t){for(var e=new Date(t.getTime());e.getDay()!==this.firstWeekDay;)e.setDate(e.getDate()-1);return e},t.prototype.monthDates=function(t,e,n,i){if(void 0===n&&(n=null),void 0===i&&(i=null),"number"!=typeof e||e<0||e>11)throw Error("month must be a number (Jan is 0)");var o=[],r=[],s=0,a=new Date(t,e,1);F(a,t),a=this.weekStartDate(a);do{for(s=0;s<7;s++)r.push(n?n(a):a),(a=new Date(a.getTime())).setDate(a.getDate()+1);o.push(i?i(r):r),r=[]}while(a.getMonth()<=e&&a.getFullYear()===t);return o},t.prototype.monthDays=function(t,e){return this.monthDates(t,e,function(t){return t.getMonth()===e?t:0})},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[]},t}(),Fe=["pt","en","es"],je=function(){function t(t,n){this.thfCalendarService=t,this.thfCalendarLangService=n,this.dayVisible=!1,this.displayMonths=Array(),this.displayWeedDays=Array(),this.monthVisible=!1,this.overlayInvisible=!0,this.visible=!1,this.yearVisible=!1,this.isMobile=L,this.today=new Date,this.selectedDateChange=new e.EventEmitter,this.submit=new e.EventEmitter}return Object.defineProperty(t.prototype,"dateEnd",{get:function(){return this._dateEnd},set:function(t){if(t&&t instanceof Date){var e=t.getFullYear(),n=t.getMonth(),i=t.getDate(),o=new Date(e,n,i,23,59,59);F(o,e),this._dateEnd=o}else this._dateEnd=void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"locale",{get:function(){return this._locale},set:function(t){this._locale=Fe.includes(t)?t:"pt",this.initializeLanguage()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedDate",{get:function(){return this._selectedDate},set:function(t){this._selectedDate=t&&t instanceof Date?t:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dateStart",{get:function(){return this._dateStart},set:function(t){if(t&&t instanceof Date){var e=t.getFullYear(),n=t.getMonth(),i=t.getDate(),o=new Date(e,n,i,0,0,0);F(o,e),this._dateStart=o}else this._dateStart=void 0},enumerable:!0,configurable:!0}),t.prototype.close=function(){this.overlayInvisible=!0,this.visible=!1},t.prototype.getArrayDecade=function(t){if(this.displayDecade=Array(),t%10!=0)for(;t%10!=0;)t--;this.updateDecade(t)},t.prototype.getBackgroundColor=function(t,e){return t===e?"thf-calendar-box-background-selected":"thf-calendar-box-background"},t.prototype.getDayBackgroundColor=function(t){return this.equalsDate(t,this.selectedDate)?"thf-calendar-box-background-selected":this.equalsDate(t,this.today)?"thf-calendar-box-background-today":t?$(t,this.dateStart,this.dateEnd)?"thf-calendar-box-background":"thf-calendar-box-background-disabled":""},t.prototype.getDayForegroundColor=function(t){return this.equalsDate(t,this.selectedDate)?"thf-calendar-box-foreground-selected":this.equalsDate(t,this.today)?"thf-calendar-box-foreground-today":$(t,this.dateStart,this.dateEnd)?"thf-calendar-box-foreground":"thf-calendar-box-foreground-disabled"},t.prototype.getForegroundColor=function(t,e){return t===e?"thf-calendar-box-foreground-selected":"thf-calendar-box-foreground"},t.prototype.getWordMonth=function(){return this.thfCalendarLangService.getWordMonth()},t.prototype.getWordYear=function(){return this.thfCalendarLangService.getWordYear()},t.prototype.init=function(){this.selectedDate?this.updateDate(this.selectedDate):this.updateDate(this.today),this.initializeLanguage(),this.selectDay(),this.isMobile()&&(this.overlayInvisible=!1),this.visible=!0},t.prototype.initializeLanguage=function(){this.thfCalendarLangService.setLanguage(this.locale),this.displayWeedDays=this.thfCalendarLangService.getArrayWeekDays(),this.displayMonths=this.thfCalendarLangService.getArrayMonths()},t.prototype.onNextMonth=function(){this.displayMonthNumber<11?this.updateDisplay(this.displayYear,this.displayMonthNumber+1):this.updateDisplay(this.displayYear+1,0)},t.prototype.onPrevMonth=function(){this.displayMonthNumber>0?this.updateDisplay(this.displayYear,this.displayMonthNumber-1):this.updateDisplay(this.displayYear-1,11)},t.prototype.onSelectDate=function(t){$(t,this.dateStart,this.dateEnd)&&(this.selectedDate=t,this.selectedDateChange.emit(t),this.submit.emit(t))},t.prototype.onSelectMonth=function(t,e){this.selectDay(),this.updateDisplay(t,e)},t.prototype.onSelectYear=function(t,e){"month"===this.lastDisplay?this.selectMonth():this.selectDay(),this.currentYear=t,this.updateDisplay(t,e)},t.prototype.selectDay=function(){this.dayVisible=!0,this.monthVisible=!1,this.yearVisible=!1,this.lastDisplay="day"},t.prototype.selectMonth=function(){this.dayVisible=!1,this.monthVisible=!0,this.yearVisible=!1,this.lastDisplay="month"},t.prototype.selectYear=function(){this.dayVisible=!1,this.monthVisible=!1,this.yearVisible=!0},t.prototype.setMobileVisualization=function(){return this.isMobile()?"thf-calendar thf-calendar-mobile":"thf-calendar"},t.prototype.updateYear=function(t){this.updateDisplay(this.displayYear+t,this.displayMonthNumber)},t.prototype.addAllYearsInDecade=function(t){var e;for(e=t;e<t+10;e++)this.displayDecade.push(e)},t.prototype.equalsDate=function(t,e){try{return t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDate()===e.getDate()}catch(t){return!1}},t.prototype.updateDate=function(t){this.currentMonthNumber=t.getMonth(),this.currentYear=t.getFullYear(),this.updateDisplay(this.currentYear,this.currentMonthNumber)},t.prototype.updateDecade=function(t){this.addAllYearsInDecade(t),this.displayStartDecade=t,this.displayFinalDecade=t+9},t.prototype.updateDisplay=function(t,e){var n=this.thfCalendarService.monthDays(t,e);this.displayDays=[].concat.apply([],n),this.displayMonthNumber=e,this.displayMonth=this.displayMonths[e],this.displayYear=t,this.getArrayDecade(t)},t.decorators=[{type:e.Component,args:[{selector:"thf-calendar",template:'<div class="thf-calendar-overlay" [class.thf-invisible]="overlayInvisible"></div> <div *ngIf="visible" [ngClass]="setMobileVisualization()"> <div *ngIf="dayVisible" #days> <div class="thf-calendar-nav"> <span (click)="onPrevMonth()" class="thf-calendar-nav-left thf-icon thf-icon-arrow-left"></span> <div class="thf-calendar-nav-title" attr-calendar> <span class="thf-clickable thf-mr-1" (click)="selectMonth()">{{ displayMonth }}</span> <span class="thf-clickable" (click)="selectYear()">{{ displayYear }}</span> </div> <span (click)="onNextMonth()" class="thf-calendar-nav-right thf-icon thf-icon-arrow-right"></span> </div> <div class="thf-calendar-content"> <div class="thf-calendar-labels"> <div class="thf-calendar-label" *ngFor="let day of displayWeedDays"> {{ day.toLowerCase() }} </div> </div> <div class="thf-calendar-content-list-day"> <div *ngFor="let day of displayDays" class="thf-calendar-day thf-calendar-box-background" (click)="onSelectDate(day)" [ngClass]="getDayBackgroundColor(day)"> <span *ngIf="day != 0" [ngClass]="getDayForegroundColor(day)"> {{ day.getDate() }} </span> </div> </div> </div> </div> <div *ngIf="monthVisible" #months> <div class="thf-calendar-nav"> <span (click)="updateYear(-1)" class="thf-calendar-nav-left thf-icon thf-icon-arrow-left"></span> <div class="thf-calendar-nav-title" attr-calendar> <span class="thf-clickable" (click)="selectYear()">{{ displayYear }}</span> </div> <span (click)="updateYear(1)" class="thf-calendar-nav-right thf-icon thf-icon-arrow-right"></span> </div> <div class="thf-calendar-content"> <div class="thf-calendar-labels"> <div class="thf-calendar-label"> {{ getWordMonth() }} </div> </div> <div class="thf-calendar-content-list-month"> <div *ngFor="let month of displayMonths; let i = index;" class="thf-calendar-month" (click)="onSelectMonth(displayYear, i)" [ngClass]="getBackgroundColor(i, displayMonthNumber)" attr-calendar> <span [ngClass]="getForegroundColor(i, displayMonthNumber)"> {{ month }} </span> </div> </div> </div> </div> <div *ngIf="yearVisible" #years> <div class="thf-calendar-nav"> <span (click)="updateYear(-10)" class="thf-calendar-nav-left thf-icon thf-icon-arrow-left"></span> <div class="thf-calendar-nav-title"> {{ displayStartDecade }} - {{ displayFinalDecade }} </div> <span (click)="updateYear(10)" class="thf-calendar-nav-right thf-icon thf-icon-arrow-right"></span> </div> <div class="thf-calendar-content"> <div class="thf-calendar-labels"> <div class="thf-calendar-label"> {{ getWordYear() }} </div> </div> <div class="thf-calendar-content-list-year"> <div *ngFor="let year of displayDecade; let i = index;" class="thf-calendar-year" (click)="onSelectYear(year, displayMonthNumber)" [ngClass]="getBackgroundColor(year, currentYear)" attr-calendar> <span [ngClass]="getForegroundColor(year, currentYear)"> {{ year }} </span> </div> </div> </div> </div> </div> ',providers:[Ve,Le]}]}],t.ctorParameters=function(){return[{type:Ve},{type:Le}]},t.propDecorators={elDays:[{type:e.ViewChild,args:["days",{read:e.ElementRef}]}],elMonths:[{type:e.ViewChild,args:["months",{read:e.ElementRef}]}],elYears:[{type:e.ViewChild,args:["years",{read:e.ElementRef}]}],dateEnd:[{type:e.Input,args:["t-date-end"]}],locale:[{type:e.Input,args:["t-locale"]}],selectedDate:[{type:e.Input,args:["t-selected-date"]}],dateStart:[{type:e.Input,args:["t-date-start"]}],selectedDateChange:[{type:e.Output,args:["t-selected-dateChange"]}],submit:[{type:e.Output,args:["t-submit"]}]},t}();function Ne(t,e,n){var i="string"==typeof n&&n||"object"==typeof n&&n&&n.length||"number"==typeof n&&(n||0===n)||"boolean"==typeof n&&n;return t&&!e&&!i}function ze(t,e){var n=t||0===t,i=(e||0===e)&&e.toString();return n&&i&&i.length>Number(t)}function qe(t,e){var n=t||0===t,i=(e||0===e)&&e.toString();return n&&i&&i.length<Number(t)}var Be=6,He=function(){function t(){this.checkedOptions={},this.checkedOptionsList=[],this.mdColumns=Be,this._columns=Be,this._disabled=!1,this._indeterminate=!1,this._required=!1,this.ngModelChange=new e.EventEmitter,this.change=new e.EventEmitter}return Object.defineProperty(t.prototype,"columns",{get:function(){return this._columns},set:function(t){var e=S(t,Be);this._columns=this.getGridSystemColumns(e,4),this.mdColumns=this.getGridSystemColumns(e,2)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this._disabled},set:function(t){this._disabled=E(t),this.validateModel(this.checkIndeterminate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"indeterminate",{get:function(){return this._indeterminate},set:function(t){this._indeterminate=E(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this._options},set:function(t){this._options=Array.isArray(t)?t:[],this.removeDuplicatedOptions()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"required",{get:function(){return this._required},set:function(t){this._required=E(t),this.validateModel(this.checkIndeterminate())},enumerable:!0,configurable:!0}),t.prototype.changeValue=function(){var t=this.checkIndeterminate();this.propagateChange?this.propagateChange(t):this.ngModelChange.emit(t),this.change.emit(t)},t.prototype.checkIndeterminate=function(){return this.indeterminate?this.checkedOptions:this.checkedOptionsList},t.prototype.checkOption=function(t){this._disabled||t.disabled||(this.checkOptionModel(t),this.changeValue())},t.prototype.registerOnChange=function(t){this.propagateChange=t},t.prototype.registerOnTouched=function(t){},t.prototype.writeValue=function(t){t&&this.checkedOptions!==t?this.generateCheckOptions(t):(this.checkedOptionsList=[],this.checkedOptions={})},t.prototype.registerOnValidatorChange=function(t){this.validatorChange=t},t.prototype.validate=function(t){if(!this.indeterminate&&Ne(this.required,this.disabled,t.value)||this.isInvalidIndeterminate())return{required:{valid:!1}}},t.prototype.validateModel=function(t){this.validatorChange&&this.validatorChange(t)},t.prototype.checkColumnsRange=function(t,e){return t>=1&&t<=e},t.prototype.checkOptionModel=function(t){this.checkedOptions[t.value]=!this.checkedOptions[t.value],!this.indeterminate&&this.checkedOptionsList.includes(t.value)?this.checkedOptionsList.splice(this.checkedOptionsList.indexOf(t.value),1):this.indeterminate||this.checkedOptionsList.push(t.value)},t.prototype.generateCheckOptions=function(t){var e=this;this.checkedOptions={},t instanceof Array?(this.checkedOptionsList=t,this.options.forEach(function(n){e.checkedOptions[n.value]=t.includes(n.value)})):this.options.forEach(function(n){t[n.value]=void 0!==t[n.value]&&t[n.value],e.checkedOptions=t})},t.prototype.getGridSystemColumns=function(t,e){var n=12/t;return this.checkColumnsRange(t,e)?n:Be},t.prototype.isInvalidIndeterminate=function(){return!!(this.indeterminate&&this.required&&this.checkedOptions)&&Object.values(this.checkedOptions).every(function(t){return!1===t})},t.prototype.removeDuplicatedOptions=function(){var t=this;this.options.forEach(function(e,n){t.options.findIndex(function(t){return t.value===e.value})===n||t.options.splice(t.options.indexOf(e),1)})},t.propDecorators={name:[{type:e.Input,args:["name"]}],columns:[{type:e.Input,args:["t-columns"]}],disabled:[{type:e.Input,args:["t-disabled"]}],help:[{type:e.Input,args:["t-help"]}],indeterminate:[{type:e.Input,args:["t-indeterminate"]}],label:[{type:e.Input,args:["t-label"]}],options:[{type:e.Input,args:["t-options"]}],required:[{type:e.Input,args:["t-required"]}],ngModelChange:[{type:e.Output,args:["ngModelChange"]}],change:[{type:e.Output,args:["t-change"]}]},t}(),We=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),$e=function(t){function n(e){var n=t.call(this)||this;return n.changeDetector=e,n}return We(n,t),n.prototype.ngAfterViewChecked=function(){this.changeDetector.detectChanges()},n.prototype.onKeyDown=function(t,e){32!==t.which&&32!==t.keyCode||(this.checkOption(e),t.preventDefault())},n.decorators=[{type:e.Component,args:[{selector:"thf-checkbox-group",template:'<thf-field-container [t-help]="help" [t-label]="label" [t-opcional]="!required"> <div class="thf-field-container-content thf-checkbox-group-content"> <div class="thf-row thf-pt-1 thf-pb-1"> <div *ngFor="let option of options; let i = index" class="thf-checkbox-group-item thf-md-{{ mdColumns }} thf-lg-{{ columns }}" [class.thf-checkbox-group-item-disabled]="option.disabled || disabled"> <input class="thf-input thf-checkbox-group-input" type="checkbox" [class.thf-checkbox-group-input-checked]="checkedOptions[option.value]" [class.thf-checkbox-group-input-indeterminate]="checkedOptions[option.value] === null" [checked]="option.value" [disabled]="option.disabled || disabled" [id]="\'checkbox_\' + i" [required]="required" [value]="option.value"> <label #checkboxLabel class="thf-checkbox-group-label" [class.thf-clickable]="checkboxLabel.tabIndex === 0" [for]="\'checkbox_\' + i" [tabindex]="option.disabled || disabled ? -1 : 0" (click)="checkOption(option)" (keydown)="onKeyDown($event, option)"> {{option.label}} </label> </div> </div> </div> <thf-field-container-bottom></thf-field-container-bottom> </thf-field-container> ',providers:[{provide:r.NG_VALUE_ACCESSOR,useExisting:e.forwardRef(function(){return n}),multi:!0},{provide:r.NG_VALIDATORS,useExisting:e.forwardRef(function(){return n}),multi:!0}]}]}],n.ctorParameters=function(){return[{type:e.ChangeDetectorRef}]},n}(He),Ue=function(){function t(){this.defaultValue="",this.changeEvent=new e.EventEmitter}return t.prototype.clear=function(){this.setInputValue(this.defaultValue),this.changeEvent.emit(this.defaultValue)},t.prototype.showIcon=function(){return this.defaultValue!==this.getInputValue()&&this.hasCleanAttr()&&!this.isDisabled()&&!this.isReadonly()},t.prototype.hasCleanAttr=function(){return this.parentComponent.clean},t.prototype.isDisabled=function(){return this.parentComponent.disabled},t.prototype.isReadonly=function(){return this.parentComponent.readonly},t.propDecorators={inputRef:[{type:e.Input,args:["t-element-ref"]}],defaultValue:[{type:e.Input,args:["t-default-value"]}],changeEvent:[{type:e.Output,args:["t-change-event"]}]},t}(),Ye=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ke=function(t){function n(e){var n=t.call(this)||this;return n.viewRef=e,n.parentComponent=n.viewRef._view.component,n}return Ye(n,t),n.prototype.setInputValue=function(t){this.inputRef&&this.inputRef.nativeElement&&(this.inputRef.nativeElement.value=t)},n.prototype.getInputValue=function(){if(this.inputRef&&this.inputRef.nativeElement)return this.inputRef.nativeElement.value},n.decorators=[{type:e.Component,args:[{selector:"thf-clean",template:'<span *ngIf="showIcon()" class="thf-icon thf-field-icon thf-icon-close" (click)="clear()"> </span> '}]}],n.ctorParameters=function(){return[{type:e.ViewContainerRef}]},n}(Ue),Ge={startsWith:0,contains:1,endsWith:2};Ge[Ge.startsWith]="startsWith",Ge[Ge.contains]="contains",Ge[Ge.endsWith]="endsWith";var Xe=function(){return(Xe=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Je=function(){function t(){this._changeOnEnter=!1,this._debounceTime=400,this._disabled=!1,this._disabledInitFilter=!1,this._fieldLabel="label",this._fieldValue="value",this._filterMinlength=0,this._filterMode=Ge.startsWith,this._options=[],this._required=!1,this.cacheOptions=[],this.cacheStaticOptions=[],this.firstInWriteValue=!0,this.isFirstFilter=!0,this.isFiltering=!1,this.visibleOptions=[],this.placeholder="",this.sort=!1,this.change=new e.EventEmitter,this.ngModelChange=new e.EventEmitter}return Object.defineProperty(t.prototype,"filterService",{get:function(){return this._filterService},set:function(t){this._filterService=t,this.configAfterSetFilterService(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"debounceTime",{get:function(){return this._debounceTime},set:function(t){var e=parseInt(t,10);this._debounceTime=!isNaN(e)&&e>0?e:400,this.unsubscribeKeyupObservable(),this.initInputObservable()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabledInitFilter",{get:function(){return this._disabledInitFilter},set:function(t){this._disabledInitFilter=E(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fieldValue",{get:function(){return this._fieldValue},set:function(t){this._fieldValue=t||"value",M(this.filterService,"string")&&this.service&&(this.service.fieldValue=this._fieldValue)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fieldLabel",{get:function(){return this._fieldLabel},set:function(t){this._fieldLabel=t||"label",M(this.filterService,"string")&&this.service&&(this.service.fieldLabel=this._fieldLabel)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filterMinlength",{get:function(){return this._filterMinlength},set:function(t){var e="string"==typeof t?parseInt(t,10):t;this._filterMinlength=Number.isInteger(e)?e:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"required",{get:function(){return this._required},set:function(t){this._required=E(t),this.validateModel(this.selectedValue)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"changeOnEnter",{get:function(){return this._changeOnEnter},set:function(t){this._changeOnEnter=E(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this._disabled},set:function(t){this._disabled=E(t),this.validateModel(this.selectedValue)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this._options},set:function(t){this._options=Array.isArray(t)?t:[],this.cacheStaticOptions=this.options,this.validAndSortOptions(),j(this.options),this.updateComboList()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"setSort",{set:function(t){this.sort=""===t||E(t),this.validAndSortOptions()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filterMode",{get:function(){return this._filterMode},set:function(t){switch(this._filterMode=t in Ge?t:Ge.startsWith,this._filterMode.toString()){case"startsWith":this._filterMode=Ge.startsWith;break;case"contains":this._filterMode=Ge.contains;break;case"endsWith":this._filterMode=Ge.endsWith}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filterParams",{get:function(){return this._filterParams},set:function(t){this._filterParams=t||0===t||!1===t?t:void 0},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.updateComboList()},t.prototype.onInitService=function(){this.filterService&&(this.setService(this.filterService),this.initInputObservable())},t.prototype.setService=function(t){t&&(M(t,"object")?this.service=t:(this.service=this.defaultService,this.service.configProperties(t,this.fieldLabel,this.fieldValue)))},t.prototype.validAndSortOptions=function(){if(this.options&&this.options.length>0)for(var t=0;t<this.options.length;t++)z(this.options[t].value)?this.options[t].label||(this.options[t].label=this.options[t].value.toString()):this.options.splice(t,1);this.sortOptions()},t.prototype.sortOptions=function(){this.options&&this.options.length>0&&this.sort&&this.options.sort(this.compareOptions)},t.prototype.compareOptions=function(t,e){return t.label.toString().toLowerCase()<e.label.toString().toLowerCase()?-1:t.label.toString().toLowerCase()>e.label.toString().toLowerCase()?1:0},t.prototype.compareMethod=function(t,e,n){switch(n){case Ge.startsWith:return this.startsWith(t,e);case Ge.contains:return this.contains(t,e);case Ge.endsWith:return this.endsWith(t,e)}},t.prototype.startsWith=function(t,e){return e.label.toLowerCase().startsWith(t.toLowerCase())},t.prototype.contains=function(t,e){return e.label.toLowerCase().indexOf(t.toLowerCase())>-1},t.prototype.endsWith=function(t,e){return e.label.toLowerCase().endsWith(t.toLowerCase())},t.prototype.getOptionFromValue=function(t,e){var n=this;return e?e.find(function(e){return n.isEqual(e.value,t)}):null},t.prototype.getOptionFromLabel=function(t,e){return e?e.find(function(e){return e.label.toString().toLowerCase()===t.toString().toLowerCase()}):null},t.prototype.updateSelectedValue=function(t,e,n){void 0===e&&(e=!0),void 0===n&&(n=!1);var i=t&&t.label||"";if(this.updateInternalVariables(t),this.changeOnEnter&&e?this.setInputValue(i):this.changeOnEnter||this.setInputValue(i),e){var o=t&&t.value||void 0;this.updateModel(o,n)}},t.prototype.callModelChange=function(t){return this.onModelChange?this.onModelChange(t):this.ngModelChange.emit(t)},t.prototype.isEqual=function(t,e){return(t||0===t)&&e?t.toString()===e.toString():((null===t&&null!==e||void 0===t&&void 0!==e)&&(t=""+t),t===e)},t.prototype.searchForLabel=function(t,e,n){var i=this;if(t&&e&&e.length){var o=[];e.forEach(function(e){e.label&&(i.compareMethod(t,e,n)||i.service)&&o.push(e)}),this.selectedView=o[0],this.updateComboList(o)}else this.updateComboList()},t.prototype.updateComboList=function(t){var e=t||this.options.slice(),n=!t&&this.selectedValue?[Xe({},this.selectedOption)]:e;n&&(this.visibleOptions=n,!this.selectedView&&this.visibleOptions.length&&(this.selectedView=this.visibleOptions[0]))},t.prototype.getNextOption=function(t,e,n){void 0===n&&(n=!1);var i=[].concat(e),o=null,r=!1;n&&i.reverse();for(var s=0;s<i.length;s++){var a=i[s];if(o||(o=a),r)return a;this.isEqual(a.value,t)&&(r=!0)}return o},t.prototype.getIndexSelectedView=function(){for(var t=0;t<this.visibleOptions.length;t++)if(this.compareObjects(this.visibleOptions[t],this.selectedView))return t;return null},t.prototype.compareObjects=function(t,e){return JSON.stringify(t)===JSON.stringify(e)},t.prototype.verifyValidOption=function(){var t=this.getInputValue(),e=this.getOptionFromLabel(t,this.options);if(e&&e.value!==this.selectedValue)return this.updateSelectedValue(e),void(this.previousSearchValue=e.label);if(this.selectedValue&&this.selectedOption&&this.selectedOption.label!==t)return this.updateSelectedValueWithOldOption(),void(this.previousSearchValue=this.selectedOption.label);if(t&&!e){var n=!(!this.selectedOption||this.selectedOption.label===t);return this.updateSelectedValue(null,n||this.changeOnEnter),void(this.previousSearchValue="")}},t.prototype.writeValue=function(t){if(z(t)&&!this.service&&this.options&&this.options.length){var e=this.getOptionFromValue(t,this.options);return this.updateSelectedValue(e),void this.updateComboList()}if(t&&this.service)return this.getObjectByValue(t);z(t)||(this.updateSelectedValue(null,!0,!0),this.updateComboList())},t.prototype.registerOnChange=function(t){this.onModelChange=t},t.prototype.registerOnTouched=function(t){this.onModelTouched=t},t.prototype.registerOnValidatorChange=function(t){this.validatorChange=t},t.prototype.validate=function(t){if(Ne(this.required,this.disabled,t.value))return{required:{valid:!1}}},t.prototype.validateModel=function(t){this.validatorChange&&this.validatorChange(t)},t.prototype.configAfterSetFilterService=function(t){t?(this.options=[],this.unsubscribeKeyupObservable(),this.onInitService()):(this.service=void 0,this.options=this.cacheStaticOptions),this.visibleOptions=[],this.isFirstFilter=!0},t.prototype.unsubscribeKeyupObservable=function(){this.keyupSubscribe&&this.keyupSubscribe.unsubscribe()},t.prototype.updateInternalVariables=function(t){t?(this.selectedView=t,this.selectedOption=t):(this.selectedView=void 0,this.selectedOption=void 0)},t.prototype.updateModel=function(t,e){void 0===e&&(e=!1),t!==this.selectedValue&&(e||this.callModelChange(t),this.change.emit(t)),this.selectedValue=t},t.prototype.updateSelectedValueWithOldOption=function(){var t=this.getOptionFromValue(this.selectedValue,this.options);if(t&&t.label)return this.updateSelectedValue(t)},t.propDecorators={label:[{type:e.Input,args:["t-label"]}],help:[{type:e.Input,args:["t-help"]}],placeholder:[{type:e.Input,args:["t-placeholder"]}],name:[{type:e.Input,args:["name"]}],filterService:[{type:e.Input,args:["t-filter-service"]}],debounceTime:[{type:e.Input,args:["t-debounce-time"]}],disabledInitFilter:[{type:e.Input,args:["t-disabled-init-filter"]}],fieldValue:[{type:e.Input,args:["t-field-value"]}],fieldLabel:[{type:e.Input,args:["t-field-label"]}],filterMinlength:[{type:e.Input,args:["t-filter-minlength"]}],required:[{type:e.Input,args:["t-required"]}],changeOnEnter:[{type:e.Input,args:["t-change-on-enter"]}],disabled:[{type:e.Input,args:["t-disabled"]}],options:[{type:e.Input,args:["t-options"]}],setSort:[{type:e.Input,args:["t-sort"]}],filterMode:[{type:e.Input,args:["t-filter-mode"]}],filterParams:[{type:e.Input,args:["t-filter-params"]}],change:[{type:e.Output,args:["t-change"]}],ngModelChange:[{type:e.Output,args:["ngModelChange"]}]},t}(),Ze=function(){function t(t){this.http=t,this.fieldLabel="label",this.fieldValue="value"}return Object.defineProperty(t.prototype,"url",{get:function(){return this._url},enumerable:!0,configurable:!0}),t.prototype.getFilteredData=function(t,e){var n=this,i=t.value,r=new o.HttpParams({fromString:"filter="+i});return this.http.get(""+this.url,{responseType:"json",params:r}).pipe(c.map(function(t){return n.parseToArrayComboOption(t.items)}))},t.prototype.getObjectByValue=function(t,e){var n=this;return this.http.get(this.url+"/"+t).pipe(c.map(function(t){return n.parseToComboOption(t)}))},t.prototype.configProperties=function(t,e,n){this._url=t,this.fieldLabel=e,this.fieldValue=n},t.prototype.parseToArrayComboOption=function(t){var e=this;return t&&t.length>0?t.map(function(t){return e.parseToComboOption(t)}):[]},t.prototype.parseToComboOption=function(t){if(t&&t[this.fieldValue])return{label:t[this.fieldLabel],value:t[this.fieldValue]}},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:o.HttpClient}]},t}(),Qe=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),tn=function(){return(tn=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},en=function(t){function n(e,n,i,o,r){var s=t.call(this)||this;return s.element=e,s.differs=n,s.defaultService=i,s.renderer=o,s.sanitized=r,s.comboIcon="thf-icon-arrow-down",s.comboOpen=!1,s.isProcessingGetObjectByValue=!1,s.isServerSearching=!1,s.scrollTop=0,s.shouldMarkLetters=!0,s.differ=n.find([]).create(null),s}return Qe(n,t),n.prototype.ngDoCheck=function(){this.differ.diff(this.options)&&(this.validAndSortOptions(),j(this.options))},n.prototype.ngOnDestroy=function(){this.filterSubscription&&this.filterSubscription.unsubscribe(),this.getSubscription&&this.getSubscription.unsubscribe()},n.prototype.onKeyDown=function(t){var e=t.target.value;if(this.service&&9===t.keyCode&&e)return this.controlComboVisibility(!1),this.getObjectByValue(e);if(38===t.keyCode||40===t.keyCode)return t.preventDefault(),this.comboOpen&&(38===t.keyCode?this.selectPreviousOption():this.selectNextOption()),this.controlComboVisibility(!0),this.isFiltering=!!this.changeOnEnter&&this.isFiltering,void(this.shouldMarkLetters=!!this.changeOnEnter&&this.shouldMarkLetters);if(9===t.keyCode||27===t.keyCode)return 27===t.keyCode&&this.comboOpen&&(t.preventDefault(),t.stopPropagation()),this.controlComboVisibility(!1),this.verifyValidOption(),void(this.service||(this.selectedView=this.changeOnEnter&&!this.selectedValue?void 0:this.selectedView,this.updateComboList()));if(13===t.keyCode&&this.selectedView&&this.comboOpen){var n=this.selectedView.value!==this.selectedValue||e!==this.selectedView.label;return this.controlComboVisibility(!1),this.updateSelectedValue(this.selectedView,n),this.isFiltering=!1,void this.updateComboList()}this.controlComboVisibility(!0)},n.prototype.onKeyUp=function(t){var e=t.keyCode||t.which,n=t.target.value;if(38!==e&&40!==e&&13!==e)if(n)this.service||this.previousSearchValue===n||(this.shouldMarkLetters=!0,this.isFiltering=!0,this.searchForLabel(n,this.options,this.filterMode));else{var i=this.service&&this.selectedValue&&this.selectedOption.label===this.previousSearchValue;this.updateSelectedValue(null),this.service?i&&this.updateComboList(this.cacheOptions.slice()):this.updateComboList(),this.isFiltering=!1}this.previousSearchValue=n},n.prototype.initInputObservable=function(){var t=this;if(this.service){var e=s.fromEvent(this.inputElement.nativeElement,"keyup").pipe(c.filter(function(e){return t.isValidCharacterToSearch(e.keyCode)}),c.map(function(t){return t.currentTarget.value}),c.distinctUntilChanged(),c.tap(function(){t.shouldMarkLetters=!1}),c.debounceTime(this.debounceTime));this.keyupSubscribe=e.subscribe(function(e){(e.length>=t.filterMinlength||!e)&&t.controlApplyFilter(e)})}},n.prototype.controlApplyFilter=function(t){this.isProcessingGetObjectByValue||this.selectedOption&&t===this.selectedOption.label||this.applyFilter(t)},n.prototype.applyFilter=function(t){var e=this;this.isServerSearching=!0,this.controlComboVisibility(!1);var n={property:this.fieldLabel,value:t};this.filterSubscription=this.service.getFilteredData(n,this.filterParams).subscribe(function(n){return e.setOptionsByApplyFilter(t,n)})},n.prototype.setOptionsByApplyFilter=function(t,e){this.shouldMarkLetters=!0,this.isServerSearching=!1,this.options=e,this.searchForLabel(t,e,this.filterMode),this.controlComboVisibility(!0),this.isFirstFilter&&(this.isFirstFilter=!this.isFirstFilter,this.cacheOptions=this.options)},n.prototype.getObjectByValue=function(t){var e=this;this.selectedValue||(this.isProcessingGetObjectByValue=!0,this.getSubscription=this.service.getObjectByValue(t,this.filterParams).subscribe(function(t){return e.updateOptionByFilteredValue(t)}))},n.prototype.updateOptionByFilteredValue=function(t){var e=this;t?(this.options=[t],this.onOptionClick(t)):this.updateSelectedValue(null),setTimeout(function(){e.isProcessingGetObjectByValue=!1},this.debounceTime)},n.prototype.selectPreviousOption=function(){var t=this.changeOnEnter?this.selectedView&&this.selectedView.value:this.selectedValue;if(t){var e=this.getNextOption(t,this.visibleOptions,!0);this.updateSelectedValue(e,e&&e.value!==t&&!this.changeOnEnter)}else if(this.visibleOptions.length){var n=this.visibleOptions[this.visibleOptions.length-1];this.updateSelectedValue(n,n.value!==t&&!this.changeOnEnter)}},n.prototype.selectNextOption=function(){var t=this.changeOnEnter?this.selectedView&&this.selectedView.value:this.selectedValue;if(t){var e=this.getNextOption(t,this.visibleOptions);this.updateSelectedValue(e,e&&e.value!==t&&!this.changeOnEnter)}else if(this.visibleOptions.length){var n=this.changeOnEnter?1:0,i=this.visibleOptions[n];this.updateSelectedValue(i,i.value!==t&&!this.changeOnEnter)}},n.prototype.toggleComboVisibility=function(){this.disabled||(this.service&&!this.disabledInitFilter&&this.applyFilterInFirstClick(),this.controlComboVisibility(!this.comboOpen))},n.prototype.applyFilterInFirstClick=function(){this.isFirstFilter&&!this.selectedValue&&this.applyFilter("")},n.prototype.controlComboVisibility=function(t){this.comboIcon=t?"thf-icon-arrow-up":"thf-icon-arrow-down",this.options&&this.options.length&&(t&&!this.selector(".thf-combo-content").classList.contains("thf-combo-show")?(this.selector(".thf-combo-content").classList.add("thf-combo-show"),this.initializeListeners()):!t&&this.selector(".thf-combo-content").classList.contains("thf-combo-show")&&(this.selector(".thf-combo-content").classList.remove("thf-combo-show"),this.removeListeners())),this.comboOpen=t,t?(this.inputElement.nativeElement.focus(),this.scrollTo(this.getIndexSelectedView())):this.isFiltering=!1},n.prototype.onOptionClick=function(t){var e=this.getInputValue(),n=t.value!==this.selectedValue||!(!this.selectedView||e===this.selectedView.label);this.updateSelectedValue(t,n),this.controlComboVisibility(!1),this.updateComboList([tn({},this.selectedView)]),this.previousSearchValue=this.selectedView.label},n.prototype.scrollTo=function(t){this.scrollTop=t<=2?0:44*t-88},n.prototype.getInputValue=function(){return this.inputElement.nativeElement.value},n.prototype.setInputValue=function(t){this.inputElement.nativeElement.value=t},n.prototype.selector=function(t){return this.element.nativeElement.querySelector(t)},n.prototype.wasClickedOnToggle=function(t){this.inputElement.nativeElement.contains(t.target)||this.iconElement.nativeElement.contains(t.target)||this.contentElement.nativeElement.contains(t.target)||!this.comboOpen||(this.controlComboVisibility(!1),this.verifyValidOption(),this.selectedView=this.changeOnEnter&&!this.selectedValue?void 0:this.selectedView,this.updateComboList())},n.prototype.getLabelFormatted=function(t){var e=t;if(this.isFiltering||this.service&&this.getInputValue()&&!this.compareObjects(this.cacheOptions,this.visibleOptions)&&this.shouldMarkLetters){var n=this.getInputValue().toString().toLowerCase(),i=t.toLowerCase(),o='<span class="thf-font-text-large-bold">';switch(this.filterMode){case Ge.startsWith:case Ge.contains:e=t.substring(0,i.indexOf(n))+o+t.substring(i.indexOf(n),i.indexOf(n)+n.length)+"</span>"+t.substring(i.indexOf(n)+n.length);break;case Ge.endsWith:e=t.substring(0,i.lastIndexOf(n))+o+t.substring(i.lastIndexOf(n))+"</span>"}}return this.safeHtml(e)},n.prototype.safeHtml=function(t){return this.sanitized.bypassSecurityTrustHtml(t)},n.prototype.isValidCharacterToSearch=function(t){return 9!==t&&13!==t&&16!==t&&17!==t&&18!==t&&20!==t&&27!==t&&37!==t&&38!==t&&39!==t&&40!==t&&93!==t},n.prototype.searchOnEnter=function(t){this.service&&!this.selectedView&&t.length>=this.filterMinlength&&this.controlApplyFilter(t)},n.prototype.initializeListeners=function(){var t=this;this.clickoutListener=this.renderer.listen("document","click",function(e){t.wasClickedOnToggle(e)})},n.prototype.removeListeners=function(){this.clickoutListener&&this.clickoutListener()},n.decorators=[{type:e.Component,args:[{selector:"thf-combo",template:'<thf-field-container [t-label]="label" [t-help]="help" [t-opcional]="!required"> <div class="thf-field-container-content"> <input #inputElement class="thf-input thf-combo-input" autocomplete="off" type="text" [attr.name]="name" [disabled]="disabled" [placeholder]="placeholder" [required]="required" (click)="toggleComboVisibility()" (keyup)="onKeyUp($event)" (keyup.enter)="searchOnEnter($event.target.value)" (keydown)="onKeyDown($event)"> <div class="thf-field-icon-container-right"> <span #icon class="thf-icon thf-field-icon {{ comboIcon }}" [class.thf-field-icon-disabled]="disabled" [class.thf-field-icon]="!disabled" (click)="toggleComboVisibility()"> </span> </div> <ul #contentElement class="thf-combo-content" [scrollTop]="scrollTop"> <li *ngFor="let option of visibleOptions" [value]="option.value" (click)="onOptionClick(option)" [class.thf-combo-item-selected]="compareObjects(selectedView, option)"> <a class="thf-combo-item" [innerHTML]="getLabelFormatted(option?.label)"></a> </li> </ul> <div class="thf-combo-content-loading" *ngIf="isServerSearching"> <thf-loading></thf-loading> </div> </div> <thf-field-container-bottom></thf-field-container-bottom> </thf-field-container> ',providers:[Ze,{provide:r.NG_VALUE_ACCESSOR,useExisting:e.forwardRef(function(){return n}),multi:!0},{provide:r.NG_VALIDATORS,useExisting:e.forwardRef(function(){return n}),multi:!0}]}]}],n.ctorParameters=function(){return[{type:e.ElementRef},{type:e.IterableDiffers},{type:Ze},{type:e.Renderer2},{type:l.DomSanitizer}]},n.propDecorators={contentElement:[{type:e.ViewChild,args:["contentElement",{read:e.ElementRef}]}],iconElement:[{type:e.ViewChild,args:["icon",{read:e.ElementRef}]}],inputElement:[{type:e.ViewChild,args:["inputElement",{read:e.ElementRef}]}]},n}(Je),nn=function(){function t(t,e){this.mask="",this.formatModel=!1,this.initialPosition=0,this.finalPosition=0,this.pattern="",this.mask=t,this.formatModel=e,this.pattern=this.getRegexFromMask(t)}return Object.defineProperty(t.prototype,"getPattern",{get:function(){return this.pattern},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"getValueToInput",{get:function(){return this.valueToInput},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"setValueToInput",{set:function(t){this.valueToInput=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"getValueToModel",{get:function(){return this.valueToModel},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"setValueToModel",{set:function(t){this.valueToModel=t},enumerable:!0,configurable:!0}),t.prototype.keyup=function(t){if(this.mask){var e=t.target.value;switch(17!==t.keyCode&&91!==t.keyCode||(t.target.value=this.controlFormatting(e),this.resetPositions(t)),t.preventDefault(),t.keyCode){case 37:this.initialPosition>0&&this.initialPosition--,this.setPositionNotShiftKey(t),this.setSelectionRange(t);break;case 39:this.initialPosition<e.toString().length&&this.initialPosition++,this.setPositionNotShiftKey(t),this.setSelectionRange(t);break;case 35:this.finalPosition=e.toString().length,t.shiftKey?this.setPositions(t):(this.initialPosition=this.finalPosition,this.setPositions(t));break;case 36:t.shiftKey?(this.finalPosition=this.initialPosition,this.initialPosition=0,this.setPositions(t)):(this.initialPosition=0,this.finalPosition=0,this.setPositions(t))}}},t.prototype.setPositionNotShiftKey=function(t){t.shiftKey||(this.finalPosition=this.initialPosition)},t.prototype.setSelectionRange=function(t){this.initialPosition>this.finalPosition?t.target.setSelectionRange(this.finalPosition,this.initialPosition):t.target.setSelectionRange(this.initialPosition,this.finalPosition)},t.prototype.keydown=function(t){if(this.mask){var e=t.target.value;if(9===t.keyCode)return;if(t.ctrlKey||t.metaKey||t.preventDefault(),t.ctrlKey||t.metaKey&&86!==t.keyCode||t.keyCode>=37&&t.keyCode<=40||16===t.keyCode||9===t.keyCode)return;if(this.isKeyValid(t.keyCode))switch(null===this.finalPosition&&(this.finalPosition=this.initialPosition),this.revertPositions(this.initialPosition,this.finalPosition),t.keyCode){case 8:this.getPosition(t),this.initialPosition<0&&(this.initialPosition=0,this.setPositions(t)),this.initialPosition===this.finalPosition?(this.checkMaskBefore(t,-1),0!==this.initialPosition&&(e=e.slice(0,this.initialPosition-1)+e.slice(this.finalPosition),e=this.controlFormatting(e),t.target.value=e,this.changePosition(t,-1),this.checkMaskBefore(t,-1),this.setPositions(t),this.resetPositions(t))):this.clearRangeSelection(e,t,!0),this.setPositions(t);break;case 46:this.getPosition(t),this.initialPosition===this.finalPosition?(this.checkMaskAfter(t,1),e=e.slice(0,this.initialPosition)+e.slice(this.finalPosition+1),e=this.controlFormatting(e),t.target.value=e,this.setPositions(t),this.resetPositions(t)):this.clearRangeSelection(e,t,!1),this.setPositions(t);break;default:e=e.slice(0,this.initialPosition)+t.key+e.slice(this.finalPosition),e=this.controlFormatting(e),t.target.value=e,this.changePosition(t,1),this.checkMaskBefore(t,1),this.setPositions(t),this.resetPositions(t),this.setPositions(t)}}},t.prototype.clearRangeSelection=function(t,e,n){t=t.slice(0,this.initialPosition)+t.slice(this.finalPosition),t=this.controlFormatting(t),e.target.value=t,n&&this.checkMaskBefore(e,-1),this.setPositions(e),this.resetPositions(e)},t.prototype.click=function(t){this.initialPosition=t.target.selectionStart,this.finalPosition=t.target.selectionEnd},t.prototype.blur=function(t){if(this.mask){var e=t.target.value;e=this.controlFormatting(e),t.target.value=e}},t.prototype.revertPositions=function(t,e){if(t>e){var n;n=t,this.initialPosition=e,this.finalPosition=n}},t.prototype.resetPositions=function(t){this.initialPosition=t.target.selectionStart,this.finalPosition=this.initialPosition},t.prototype.setPositions=function(t){t.target.setSelectionRange(this.initialPosition,this.finalPosition)},t.prototype.changePosition=function(t,e){this.initialPosition=this.initialPosition+e,this.finalPosition=this.finalPosition+e,this.setPositions(t)},t.prototype.getPosition=function(t){this.initialPosition=t.target.selectionStart,this.finalPosition=t.target.selectionEnd,this.setPositions(t)},t.prototype.controlFormatting=function(t){if(!t)return this.valueToInput="",this.valueToModel="","";for(var e,n=this.mask,i=[],o=0;this.hasOptionalNumber(n);)i.push(n),n=this.replaceOptionalNumber(n);for(i.push(n),i.reverse(),this.formattingEnds=!1;!this.formattingEnds&&(this.formattingEnds=!0,i[o]);)e=this.formatValue(t,i[o]),o++;return e},t.prototype.formatValue=function(t,e){var n=(e=e.replace(/\?/g,"")).replace(this.listValidKeys(),"_"),i=0,o="";t=this.removeFormattingValue(t);for(var r=0;r<t.length;r++){var s=t[r];if(!n[i]){this.formattingEnds=!1;break}for(;this.isFixedCharacterGuide(n[i])&&n[i];)o+=n[i],i++;if(!this.isKeyValidMask(s,e[i]))break;o+=s,i++}return this.formatModel?(this.valueToInput=o,this.valueToModel=o):(this.valueToInput=o,this.valueToModel=this.removeFormattingValue(o)),o},t.prototype.checkMaskBefore=function(t,e){this.isFixedCharacterGuide(t.target.value.toString().charAt(this.initialPosition-1))&&(this.changePosition(t,e),this.checkMaskBefore(t,e))},t.prototype.checkMaskAfter=function(t,e){this.isFixedCharacterGuide(t.target.value.toString().charAt(this.initialPosition))&&(this.changePosition(t,e),this.checkMaskAfter(t,e))},t.prototype.replaceOptionalNumber=function(t){for(var e=9;e>=0;){if(t.indexOf(e+"?")>-1)return t.replace(e+"?","");e--}return t},t.prototype.isFixedCharacterGuide=function(t){return this.testRegex(t,this.getFixedCharacterGuide())},t.prototype.getFixedCharacterGuide=function(){return/[\\\/() +-.\:]/g},t.prototype.listValidKeys=function(){return/[a-zA-Z0-9]/g},t.prototype.isKeyValid=function(t){return this.isKeyCodeValid(t)},t.prototype.isKeyCodeValid=function(t){return t>=48&&t<=57||t>=65&&t<=90||t>=96&&t<=105||8===t||9===t||46===t},t.prototype.isKeyValidMask=function(t,e){return this.testRegex(t,this.replaceMask(e))},t.prototype.testRegex=function(t,e){return e.test(t)},t.prototype.removeFormattingValue=function(t){return t.replace(this.getFixedCharacterGuide(),"")},t.prototype.hasOptionalNumber=function(t){return t.match(/\d\?/g)},t.prototype.replaceMask=function(t){var e=/./;switch(t){case"0":e=/[0]/;break;case"1":e=/[0-1]/;break;case"2":e=/[0-2]/;break;case"3":e=/[0-3]/;break;case"4":e=/[0-4]/;break;case"5":e=/[0-5]/;break;case"6":e=/[0-6]/;break;case"7":e=/[0-7]/;break;case"8":e=/[0-8]/;break;case"9":e=/[0-9]/;break;case" ":e=/\s/;break;case"@":e=/[a-zA-Z]/;break;case"w":e=/[a-zA-Z0-9]/}return e},t.prototype.getRegexFromMask=function(t){if(t){return this.formatModel?t.replace(/\\/g,"\\\\").replace(/\+/g,"\\+").replace(/\./g,"\\.").replace(/-/g,"-").replace(/\(/g,"\\(").replace(/\)/g,"\\)").replace(/\//g,"\\/").replace(/\s/g,"\\s").replace(/:/g,"\\:").replace(/\@(?!\s)/g,"\\w").replace(/\d/g,"\\w"):t.replace(/\\/g,"").replace(/\+/g,"").replace(/\./g,"").replace(/-/g,"").replace(/\(/g,"").replace(/\)/g,"").replace(/\//g,"").replace(/\s/g,"").replace(/:/g,"").replace(/\@/g,"\\w").replace(/\d/g,"\\w")}return null},t}(),on="dd/mm/yyyy",rn=function(){function t(){this._format=on,this._placeholder="",this.firstStart=!0,this.hour="T00:00:01-00:00",this.isExtendedISO=!0,this.onChangeModel=null,this.onTouchedModel=null,this.disabled=!1,this.readonly=!1,this.required=!1,this.focus=!1,this.clean=!1,this.errorPattern="",this.onblur=new e.EventEmitter,this.onchange=new e.EventEmitter}return Object.defineProperty(t.prototype,"placeholder",{get:function(){return this._placeholder},set:function(t){this._placeholder=M(t,"string")?t:""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"setDisabled",{set:function(t){this.disabled=""===t||E(t),this.validateModel(T(this.date,this.hour))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"setReadonly",{set:function(t){this.readonly=""===t||E(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"setRequired",{set:function(t){this.required=""===t||E(t),this.validateModel(T(this.date,this.hour))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"setFocus",{set:function(t){this.focus=""===t||E(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"setClean",{set:function(t){this.clean=""===t||E(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"setDateStart",{set:function(t){if(t instanceof Date){var e=t.getFullYear(),n=new Date(e,t.getMonth(),t.getDate(),0,0,0);F(n,e),this.start=n}else this.start=x(t,!0,!1);this.validateModel(T(this.date,this.hour))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"setDateEnd",{set:function(t){if(t instanceof Date){var e=t.getFullYear(),n=new Date(e,t.getMonth(),t.getDate(),23,59,59);F(n,e),this.end=n}else this.end=x(t,!1,!0);this.validateModel(T(this.date,this.hour))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"format",{get:function(){return this._format},set:function(t){if(t&&(t=t.toLowerCase()).match(/dd/)&&t.match(/mm/)&&t.match(/yyyy/))return this._format=t,this.objMask=this.buildMask(),void this.refreshValue(this.date);this._format=on,this.objMask=this.buildMask()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"locale",{get:function(){return this._locale||navigator.language},set:function(t){this._locale=t?t.length>=2?t:"pt":navigator.language},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.objMask=this.buildMask()},t.prototype.getDateFromString=function(t){var e=parseInt(t.substring(this.format.indexOf("d"),this.format.indexOf("d")+2),10),n=parseInt(t.substring(this.format.indexOf("m"),this.format.indexOf("m")+2),10)-1,i=parseInt(t.substring(this.format.indexOf("y"),this.format.indexOf("y")+4),10),o=new Date(i,n,e);return F(o,i),o.getFullYear()===i&&o.getMonth()===n&&o.getDate()===e?o:null},t.prototype.formatToDate=function(t){var e=this.format;return e=(e=(e=e.replace("dd",("0"+t.getDate()).slice(-2))).replace("mm",("0"+(t.getMonth()+1)).slice(-2))).replace("yyyy",R(t.getFullYear()))},t.prototype.controlModel=function(t){this.date=t,t&&this.isExtendedISO?this.callOnChange(T(this.date,this.hour)):t&&!this.isExtendedISO?this.callOnChange(function(t){if(t){var e=t.getMonth()+1,n=t.getDate()<10?"0"+t.getDate():t.getDate(),i=e<10?"0"+e:e;return R(t.getFullYear())+"-"+i+"-"+n}return null}(this.date)):void 0===t?this.callOnChange(""):this.callOnChange("Data inválida")},t.prototype.callOnChange=function(t){this.onChangeModel&&this.onChangeModel(t)},t.prototype.registerOnChange=function(t){this.onChangeModel=t},t.prototype.registerOnTouched=function(t){this.onTouchedModel=t},t.prototype.registerOnValidatorChange=function(t){this.validatorChange=t},t.prototype.validateModel=function(t){this.validatorChange&&this.validatorChange(t)},t.prototype.buildMask=function(){var t=this.format.toUpperCase();return t=(t=(t=t.replace(/DD/g,"99")).replace(/MM/g,"99")).replace(/YYYY/g,"9999"),new nn(t,!0)},t.prototype.validate=function(t){return this.errorPattern="Data inválida"!==this.errorPattern&&"Data fora do período"!==this.errorPattern?this.errorPattern:"",(e=t.value)&&isNaN(Date.parse(e))?(this.errorPattern=this.errorPattern||"Data inválida",{date:{valid:!1}}):Ne(this.required,this.disabled,t.value)?{required:{valid:!1}}:this.date&&!$(this.date,this.start,this.end)?(this.errorPattern=this.errorPattern||"Data fora do período",{date:{valid:!1}}):null;var e},t.propDecorators={name:[{type:e.Input,args:["name"]}],placeholder:[{type:e.Input,args:["t-placeholder"]}],setDisabled:[{type:e.Input,args:["t-disabled"]}],setReadonly:[{type:e.Input,args:["t-readonly"]}],setRequired:[{type:e.Input,args:["t-required"]}],setFocus:[{type:e.Input,args:["t-focus"]}],setClean:[{type:e.Input,args:["t-clean"]}],errorPattern:[{type:e.Input,args:["t-error-pattern"]}],setDateStart:[{type:e.Input,args:["t-start"]}],setDateEnd:[{type:e.Input,args:["t-end"]}],format:[{type:e.Input,args:["t-format"]}],locale:[{type:e.Input,args:["t-locale"]}],onblur:[{type:e.Output,args:["t-blur"]}],onchange:[{type:e.Output,args:["t-change"]}]},t}(),sn=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),an="bottom-left",ln=function(t){function n(e,n,i){var o=t.call(this)||this;return o.controlPosition=e,o.renderer=n,o.dateRegex=new RegExp("^(?:[0-9])\\d{1}(?:[0-9])\\d{1}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[12]\\d|3[01])$"),o.isoRegex=new RegExp("^(?:[0-9])\\d{1}(?:[0-9])\\d{1}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[12]\\d|3[01])T(?:[01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d(?:Z|-0[1-9]|-1\\d|-2[0-3]|-00:?(?:0[1-9]|[0-5]\\d)|\\+[01]\\d|\\+2[0-3])(?:|:?[0-5]\\d)$"),o.onScroll=function(){o.controlPosition.adjustPosition(an)},o.el=i,o}return sn(n,t),n.prototype.ngAfterViewInit=function(){this.setDialogPickerStyleDisplay("none"),this.focus&&this.inputEl.nativeElement.focus()},n.prototype.ngOnDestroy=function(){this.removeListeners()},n.prototype.togglePicker=function(){this.disabled||this.readonly||(this.calendar.visible?(this.inputEl.nativeElement.disabled=!1,this.closeCalendar()):(this.calendar.init(),this.setCalendarPosition(),this.initializeListeners()))},n.prototype.dateSelected=function(){this.inputEl.nativeElement.focus(),this.inputEl.nativeElement.value=this.formatToDate(this.date),this.controlModel(this.date),this.closeCalendar()},n.prototype.wasClickedOnPicker=function(t){this.dialogPicker&&this.iconDatepicker&&(this.dialogPicker.nativeElement.contains(t.target)&&!this.hasOverlayClass(t.target)||this.iconDatepicker.nativeElement.contains(t.target)||this.hasAttrCalendar(t.target)||this.closeCalendar())},n.prototype.onKeyup=function(t){this.readonly||(this.objMask.keyup(t),this.objMask.valueToModel||""===this.objMask.valueToModel?this.objMask.valueToModel.length>=10?(this.controlModel(this.getDateFromString(this.inputEl.nativeElement.value)),this.date=this.getDateFromString(this.inputEl.nativeElement.value)):(this.date=void 0,this.controlModel(this.date)):this.date=void 0)},n.prototype.onKeydown=function(t){this.readonly||this.objMask.keydown(t)},n.prototype.hasInvalidClass=function(){return this.el.nativeElement.classList.contains("ng-invalid")&&this.el.nativeElement.classList.contains("ng-dirty")&&""!==this.inputEl.nativeElement.value},n.prototype.getErrorPattern=function(){return""!==this.errorPattern&&this.hasInvalidClass()?this.errorPattern:""},n.prototype.clear=function(){this.valueBeforeChange=this.formatToDate(this.date),this.date=void 0,this.controlModel(this.date),this.controlChangeEmitter()},n.prototype.eventOnBlur=function(t){var e=this.inputEl.nativeElement.value,n=e?this.getDateFromString(e):void 0;this.objMask.blur(t),this.onblur.emit(),this.objMask.valueToModel?this.objMask.valueToModel.length>=10?(this.controlModel(n),this.date=n):(this.date=void 0,this.controlModel(this.date)):(this.date=void 0,this.callOnChange(this.date)),this.controlChangeEmitter()},n.prototype.eventOnChange=function(t){var e=this.inputEl.nativeElement.value;this.verifyMobile()&&(this.controlModel(e),this.callOnChange(e)),this.onchange.emit(e)},n.prototype.eventOnClick=function(t){var e=this;this.verifyMobile()?(t.target.blur(),setTimeout(function(){return e.togglePicker()},0)):this.objMask.click(t)},n.prototype.formatToDate=function(t){if(t){var e=this.format;return e=(e=(e=e.replace("dd",("0"+t.getDate()).slice(-2))).replace("mm",("0"+(t.getMonth()+1)).slice(-2))).replace("yyyy",R(t.getFullYear()))}},n.prototype.refreshValue=function(t){t&&(this.inputEl.nativeElement.value=this.formatToDate(t))},n.prototype.writeValue=function(t){if(this.inputEl&&t){if(t instanceof Date){var e=t.toString();this.hour="T"+e.substring(16,24)+e.substring(28,31)+":"+e.substring(31,33),this.date=t,this.inputEl.nativeElement.value=this.formatToDate(t)}else if(this.isValidDateIso(t)||this.isValidExtendedIso(t)){this.isValidDateIso(t)?this.isExtendedISO=!1:(this.hour=t.substring(10,25),this.isExtendedISO=!0);var n=parseInt(t.substring(8,10),10),i=parseInt(t.substring(5,7),10)-1,o=parseInt(t.substring(0,4),10),r=new Date(o,i,n);F(r,o),this.date=r,this.inputEl.nativeElement.value=this.formatToDate(r)}else this.inputEl.nativeElement.value="",this.date=void 0;this.controlModel(this.date)}else this.inputEl&&(this.inputEl.nativeElement.value="",this.date=void 0);this.valueBeforeChange=this.formatToDate(this.date)},n.prototype.isValidDateIso=function(t){return this.dateRegex.test(t)},n.prototype.isValidExtendedIso=function(t){return this.isoRegex.test(t)},n.prototype.hasOverlayClass=function(t){return t.classList.contains("thf-calendar-overlay")},n.prototype.verifyMobile=function(){return L()},n.prototype.closeCalendar=function(){this.calendar.close(),this.removeListeners(),this.setDialogPickerStyleDisplay("none")},n.prototype.controlChangeEmitter=function(){var t=this,e=this.formatToDate(this.date);e!==this.valueBeforeChange&&(this.valueBeforeChange=e,clearTimeout(this.timeoutChange),this.timeoutChange=setTimeout(function(){t.onchange.emit(e)},200))},n.prototype.hasAttrCalendar=function(t){return t&&t.hasAttribute("attr-calendar")||t.parentElement&&t.parentElement.hasAttribute("attr-calendar")},n.prototype.initializeListeners=function(){var t=this;this.clickListener=this.renderer.listen("document","click",function(e){t.wasClickedOnPicker(e)}),this.eventResizeListener=this.renderer.listen("window","resize",function(){t.closeCalendar()}),window.addEventListener("scroll",this.onScroll,!0)},n.prototype.removeListeners=function(){this.clickListener&&this.clickListener(),this.eventResizeListener&&this.eventResizeListener(),window.removeEventListener("scroll",this.onScroll,!0)},n.prototype.setDialogPickerStyleDisplay=function(t){this.dialogPicker.nativeElement.style.display=t},n.prototype.setCalendarPosition=function(){this.setDialogPickerStyleDisplay("block"),this.controlPosition.setElements(this.dialogPicker.nativeElement,8,this.inputEl,["top-left","bottom-left"],!1,!0),this.controlPosition.adjustPosition(an)},n.decorators=[{type:e.Component,args:[{selector:"thf-datepicker",template:'<thf-field-container [t-help]="help" [t-label]="label" [t-opcional]="!required"> <div class="thf-field-container-content"> <input #inp class="thf-input thf-datepicker" [ngClass]="clean && inp.value ? \'thf-input-double-icon-right\' : \'thf-input-icon-right\'" type="text" [attr.name]="name" [disabled]="disabled" [placeholder]="placeholder" [readonly]="readonly" [required]="required" (blur)="eventOnBlur($event)" (change)="eventOnChange($event)" (click)="eventOnClick($event)"> <div class="thf-field-icon-container-right"> <thf-clean [t-element-ref]="inputEl" (t-change-event)="clear()"></thf-clean> <span #iconDatepicker class="thf-icon thf-field-icon thf-icon-calendar" [class.thf-field-icon]="!disabled && !readonly" [class.thf-field-icon-disabled]="disabled || readonly" (click)="togglePicker()"> </span> </div> </div> <div #dialogPicker [class.thf-datepicker-popup-calendar]="!verifyMobile()"> <thf-calendar #calendar [(t-selected-date)]="date" [t-date-end]="end" [t-date-start]="start" [t-locale]="locale" (t-submit)="dateSelected()"> </thf-calendar> </div> <thf-field-container-bottom [t-error-pattern]="getErrorPattern()"></thf-field-container-bottom> </thf-field-container> ',providers:[{provide:r.NG_VALUE_ACCESSOR,useExisting:e.forwardRef(function(){return n}),multi:!0},{provide:r.NG_VALIDATORS,useExisting:e.forwardRef(function(){return n}),multi:!0},se]}]}],n.ctorParameters=function(){return[{type:se},{type:e.Renderer2},{type:e.ElementRef}]},n.propDecorators={calendar:[{type:e.ViewChild,args:["calendar"]}],dialogPicker:[{type:e.ViewChild,args:["dialogPicker",{read:e.ElementRef}]}],iconDatepicker:[{type:e.ViewChild,args:["iconDatepicker",{read:e.ElementRef}]}],inputEl:[{type:e.ViewChild,args:["inp",{read:e.ElementRef}]}],label:[{type:e.Input,args:["t-label"]}],help:[{type:e.Input,args:["t-help"]}],onKeyup:[{type:e.HostListener,args:["keyup",["$event"]]}],onKeydown:[{type:e.HostListener,args:["keydown",["$event"]]}]},n}(rn),cn=function(){return(cn=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},un={en:{invalidFormat:"Date in invalid format",startDateGreaterThanEndDate:"Start date greater than end date"},es:{invalidFormat:"Fecha en formato no válido",startDateGreaterThanEndDate:"Fecha de inicio mayor que fecha final"},pt:{invalidFormat:"Data no formato inválido",startDateGreaterThanEndDate:"Data inicial maior que data final"}},pn=function(){function t(t){this.thfDateService=t,this.errorMessage="",this._clean=!1,this._readonly=!1,this._required=!1,this.dateRange={start:"",end:""},this.format="dd/mm/yyyy",this.isDateRangeInputFormatValid=!0,this.isStartDateRangeInputValid=!0,this.onChange=new e.EventEmitter}return Object.defineProperty(t.prototype,"isDateRangeInputValid",{get:function(){return this.isDateRangeInputFormatValid&&this.isStartDateRangeInputValid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"clean",{get:function(){return this._clean},set:function(t){this._clean=E(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this._disabled},set:function(t){this._disabled=E(t),this.validateModel(this.dateRange)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endDate",{get:function(){return this._endDate},set:function(t){this._endDate=this.convertPatternDateFormat(t),this.dateRange.end=this.endDate,this.updateScreenByModel(this.dateRange),this.updateModel(this.dateRange)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"literals",{get:function(){return this._literals||un[P()]},set:function(t){t instanceof Object&&!(t instanceof Array)?this._literals=cn({},un[_],un[P()],t):this._literals=un[P()]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"readonly",{get:function(){return this._readonly},set:function(t){this._readonly=E(t),this.validateModel(this.dateRange)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"required",{get:function(){return this._required},set:function(t){this._required=E(t),this.validateModel(this.dateRange)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startDate",{get:function(){return this._startDate},set:function(t){this._startDate=this.convertPatternDateFormat(t),this.dateRange.start=this.startDate,this.updateScreenByModel(this.dateRange),this.updateModel(this.dateRange)},enumerable:!0,configurable:!0}),t.prototype.registerOnChange=function(t){this.onChangeModel=t},t.prototype.registerOnTouched=function(t){this.onTouchedModel=t},t.prototype.registerOnValidatorChange=function(t){this.validatorChange=t},t.prototype.validate=function(t){var e=t.value||{},n=e.start?this.convertPatternDateFormat(e.start):"",i=e.end?this.convertPatternDateFormat(e.end):"";return this.requiredDateRangeFailed(n,i)?(this.errorMessage="",{required:{valid:!1}}):this.dateRangeObjectFailed(t.value)||this.dateRangeFormatFailed(n,i)?(this.errorMessage=this.literals.invalidFormat,{date:{valid:!1}}):this.dateRangeFailed(n,i)?(this.errorMessage=this.literals.startDateGreaterThanEndDate,{date:{valid:!1}}):null},t.prototype.writeValue=function(t){this.resetDateRangeInputValidation(),t&&!this.dateRangeObjectFailed(t)||(this.dateRange={start:"",end:""}),t||this.validateModel(this.dateRange),this.dateRangeObjectFailed(t)&&this.updateModel(t),this.isDateRangeObject(t)&&(this.dateRange={start:this.convertPatternDateFormat(t.start),end:this.convertPatternDateFormat(t.end)},this.updateModel(this.dateRange)),this.updateScreenByModel(this.dateRange)},t.prototype.dateFormatFailed=function(t){return t&&!this.thfDateService.isValidIso(t)},t.prototype.updateModel=function(t){var e="object"==typeof t?cn({},t):t;this.onChangeModel&&this.onChangeModel(e)},t.prototype.validateModel=function(t){var e=cn({},t);this.validatorChange&&this.validatorChange(e)},t.prototype.convertPatternDateFormat=function(t){return t instanceof Date?this.thfDateService.convertDateToISO(t):t},t.prototype.dateRangeFailed=function(t,e){return!this.thfDateService.isDateRangeValid(e,t)||!this.isStartDateRangeInputValid},t.prototype.dateRangeFormatFailed=function(t,e){return this.dateFormatFailed(e)||this.dateFormatFailed(t)||!this.isDateRangeInputFormatValid},t.prototype.dateRangeObjectFailed=function(t){return t&&!this.isDateRangeObject(t)},t.prototype.isDateRangeObject=function(t){return t&&t.hasOwnProperty("start")&&t.hasOwnProperty("end")},t.prototype.requiredDateRangeFailed=function(t,e){return this.isDateRangeInputValid&&Ne(this.required,this.disabled,t)&&Ne(this.required,this.disabled,e)},t.propDecorators={clean:[{type:e.Input,args:["t-clean"]}],disabled:[{type:e.Input,args:["t-disabled"]}],endDate:[{type:e.Input,args:["t-end-date"]}],help:[{type:e.Input,args:["t-help"]}],label:[{type:e.Input,args:["t-label"]}],literals:[{type:e.Input,args:["t-literals"]}],readonly:[{type:e.Input,args:["t-readonly"]}],required:[{type:e.Input,args:["t-required"]}],startDate:[{type:e.Input,args:["t-start-date"]}],onChange:[{type:e.Output,args:["t-change"]}]},t}(),hn=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),dn=function(){return(dn=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},fn=function(t){function n(e,n){var i=t.call(this,e)||this;return i.thfDatepickerRangeElement=n,i}return hn(n,t),Object.defineProperty(n.prototype,"enableCleaner",{get:function(){return(this.startDateInputValue||this.endDateInputValue)&&!this.disabled&&!this.readonly},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"endDateInputName",{get:function(){return"end-date"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"endDateInputValue",{get:function(){return this.endDateInput.nativeElement.value},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"getErrorMessage",{get:function(){return""!==this.errorMessage&&this.hasInvalidClass()?this.errorMessage:""},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isDateRangeInputUncompleted",{get:function(){return this.endDateInputValue.length<10&&this.startDateInputValue.length<10},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isDirtyDateRangeInput",{get:function(){return this.endDateInputValue.length>0||this.startDateInputValue.length>0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"startDateInputName",{get:function(){return"start-date"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"startDateInputValue",{get:function(){return this.startDateInput.nativeElement.value},enumerable:!0,configurable:!0}),n.getKeyCode=function(t){return t.keyCode||t.which},n.getTargetElement=function(t){return t.target||t.srcElement},n.isValidKey=function(t){return t>=48&&t<=57||t>=96&&t<=105},n.prototype.ngOnInit=function(){this.thfMaskObject=this.buildMask()},n.prototype.clear=function(){this.resetDateRangeInputValidation(),this.dateRange={start:"",end:""},this.updateScreenByModel(this.dateRange),this.updateModel(this.dateRange)},n.prototype.onBlur=function(){this.removeFocusFromDatePickerRangeField()},n.prototype.onFocus=function(){this.applyFocusOnDatePickerRangeField()},n.prototype.onKeydown=function(t){this.readonly||(this.isSetFocusOnBackspace(t)?(t.preventDefault(),this.setFocusOnBackspace()):this.thfMaskObject.keydown(t))},n.prototype.onKeyup=function(t){if(!this.readonly){var e=t.target.name===this.startDateInputName;this.setFocus(t),this.thfMaskObject.keyup(t),this.updateModelByScreen(e)}},n.prototype.resetDateRangeInputValidation=function(){this.isStartDateRangeInputValid=!0,this.isDateRangeInputFormatValid=!0},n.prototype.updateScreenByModel=function(t){var e=this,n={start:t.start,end:t.end},i=this.thfDateService.isDateRangeValid(n.end,n.start),o=function(t){return!e.dateFormatFailed(t)&&i},r=o(n.end)?this.formatModelToScreen(n.end):"",s=o(n.start)?this.formatModelToScreen(n.start):"";this.endDateInput.nativeElement.value=r,this.startDateInput.nativeElement.value=s},n.prototype.applyFocusOnDatePickerRangeField=function(){this.dateRangeField.nativeElement.classList.add("thf-datepicker-range-field-focused")},n.prototype.buildMask=function(){var t=this.format.toUpperCase();return t=(t=(t=t.replace(/DD/g,"99")).replace(/MM/g,"99")).replace(/YYYY/g,"9999"),new nn(t,!0)},n.prototype.formatDate=function(t,e,n,i){void 0===e&&(e=""),void 0===n&&(n=""),void 0===i&&(i="");var o=t;return e=e&&e.includes("T")?e.slice(0,2):e,o=(o=(o=o.replace("dd",("0"+e).slice(-2))).replace("mm",("0"+n).slice(-2))).replace("yyyy",String(i))},n.prototype.formatScreenToModel=function(t){void 0===t&&(t="");var e=t.split("/"),n=e[0],i=e[1],o=e[2];return t?this.formatDate("yyyy-mm-dd",n,i,o):""},n.prototype.formatModelToScreen=function(t){void 0===t&&(t="");var e=t.split("-"),n=e[0],i=e[1],o=e[2];return t?this.formatDate(this.format,o,i,n):""},n.prototype.getDateRangeFormatValidation=function(t,e,n){return this.setDateRangeInputValidation(t,e),{isValid:this.isDateRangeInputFormatValid&&this.isStartDateRangeInputValid,dateRangeModel:this.getValidatedModel(t,e,n)}},n.prototype.getValidatedModel=function(t,e,n){var i={start:"",end:""};return i.end=!n&&!this.isStartDateRangeInputValid||this.dateFormatFailed(e)?"":e,i.start=n&&!this.isStartDateRangeInputValid||this.dateFormatFailed(t)?"":t,i},n.prototype.hasInvalidClass=function(){return this.thfDatepickerRangeElement.nativeElement.classList.contains("ng-invalid")&&this.thfDatepickerRangeElement.nativeElement.classList.contains("ng-dirty")},n.prototype.isEqualBeforeValue=function(t,e){return this.isDateRangeInputFormatValid&&e===this.dateRange.end&&t===this.dateRange.start},n.prototype.isSetFocusOnBackspace=function(t){return t.target.name===this.endDateInputName&&0===this.endDateInput.nativeElement.selectionStart&&0===this.endDateInput.nativeElement.selectionEnd&&8===t.keyCode},n.prototype.removeFocusFromDatePickerRangeField=function(){this.dateRangeField.nativeElement.classList.remove("thf-datepicker-range-field-focused")},n.prototype.setDateRangeInputValidation=function(t,e){this.isStartDateRangeInputValid=this.thfDateService.isDateRangeValid(e,t),this.isDateRangeInputFormatValid=!this.dateFormatFailed(t)&&!this.dateFormatFailed(e)},n.prototype.setFocus=function(t){var e=n.getTargetElement(t),i=n.getKeyCode(t),o=e.name;this.setFocusOnArrowLeft(i,o),this.setFocusOnArrowRight(i,o,e),this.setFocusOnStartDateCompleted(i,o)},n.prototype.setFocusAndPosition=function(t,e,n){var i=this;this.focusOnElement(e),setTimeout(function(){e.nativeElement.setSelectionRange(n,n),i.thfMaskObject.initialPosition=t,i.thfMaskObject.finalPosition=t})},n.prototype.focusOnElement=function(t){t.nativeElement.focus()},n.prototype.setFocusOnArrowLeft=function(t,e){var n=0===this.endDateInput.nativeElement.selectionStart;if(e===this.endDateInputName&&n&&37===t){var i=this.startDateInput.nativeElement.value.length;this.setFocusAndPosition(i,this.startDateInput,i)}},n.prototype.setFocusOnArrowRight=function(t,e,n){var i=this.startDateInput.nativeElement.selectionStart===n.value.length;e===this.startDateInputName&&i&&39===t&&this.setFocusAndPosition(0,this.endDateInput,0)},n.prototype.setFocusOnBackspace=function(){var t=this.startDateInput.nativeElement.value.length;this.startDateInput.nativeElement.value=this.startDateInputValue.slice(0,-1),this.setFocusAndPosition(t,this.startDateInput,t)},n.prototype.setFocusOnStartDateCompleted=function(t,e){var i=10===this.startDateInput.nativeElement.selectionStart,o=10===this.startDateInputValue.length&&i,r=n.isValidKey(t);e===this.startDateInputName&&o&&r&&this.setFocusAndPosition(0,this.endDateInput,0)},n.prototype.updateModelByScreen=function(t){var e=this.formatScreenToModel(this.endDateInputValue),n=this.formatScreenToModel(this.startDateInputValue);if(this.isDateRangeInputUncompleted&&this.isDirtyDateRangeInput)this.updateModel(this.dateRange);else{if(this.isEqualBeforeValue(n,e))return this.resetDateRangeInputValidation(),void this.validateModel(this.dateRange);var i=this.getDateRangeFormatValidation(n,e,t);i.isValid&&(this.dateRange={start:n,end:e},this.updateModel(this.dateRange),this.onChange.emit(dn({},this.dateRange))),i.isValid||(this.dateRange=dn({},i.dateRangeModel),this.updateModel(i.dateRangeModel))}},n.decorators=[{type:e.Component,args:[{selector:"thf-datepicker-range",template:'<thf-field-container [t-help]="help" [t-label]="label" [t-opcional]="!required"> <div #dateRangeField class="thf-datepicker-range-field thf-input" [class.thf-datepicker-range-field-disabled]="disabled"> <div class="thf-datepicker-range-start-date"> <input #startDateInput class="thf-datepicker-range-input" maxlength="10" type="text" [disabled]="disabled" [name]="startDateInputName" [readonly]="readonly" (blur)="onBlur()" (focus)="onFocus()" (keydown)="onKeydown($event)" (keyup)="onKeyup($event)"> </div> <div class="thf-datepicker-range-separator">-</div> <div class="thf-datepicker-range-end-date"> <input #endDateInput class="thf-datepicker-range-input" maxlength="10" type="text" [disabled]="disabled" [name]="endDateInputName" [readonly]="readonly" (blur)="onBlur()" (focus)="onFocus()" (keydown)="onKeydown($event)" (keyup)="onKeyup($event)"> </div> <div class="thf-datepicker-range-icon"> <thf-clean *ngIf="enableCleaner" (t-change-event)="clear($event)"></thf-clean> </div> <div class="thf-datepicker-range-icon"> <span class="thf-icon thf-field-icon thf-icon-calendar" [class.thf-field-icon-disabled]="disabled || readonly"> </span> </div> </div> <thf-field-container-bottom [t-error-pattern]="getErrorMessage"></thf-field-container-bottom> </thf-field-container> ',providers:[{provide:r.NG_VALUE_ACCESSOR,useExisting:e.forwardRef(function(){return n}),multi:!0},{provide:r.NG_VALIDATORS,useExisting:e.forwardRef(function(){return n}),multi:!0}]}]}],n.ctorParameters=function(){return[{type:lt},{type:e.ElementRef}]},n.propDecorators={dateRangeField:[{type:e.ViewChild,args:["dateRangeField",{read:e.ElementRef}]}],endDateInput:[{type:e.ViewChild,args:["endDateInput",{read:e.ElementRef}]}],startDateInput:[{type:e.ViewChild,args:["startDateInput",{read:e.ElementRef}]}]},n}(pn),gn=function(){function t(){this._placeholder="",this.passedWriteValue=!1,this.disabled=!1,this.readonly=!1,this.required=!1,this.focus=!1,this.clean=!1,this.errorPattern="",this.mask="",this.maskFormatModel=!1,this.blur=new e.EventEmitter,this.enter=new e.EventEmitter,this.change=new e.EventEmitter,this.changeModel=new e.EventEmitter,this.onChangePropagate=null,this.onTouched=null}return Object.defineProperty(t.prototype,"placeholder",{get:function(){return this._placeholder},set:function(t){this._placeholder=t||""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"setDisabled",{set:function(t){this.disabled=""===t||E(t),this.validateModel()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"setReadonly",{set:function(t){this.readonly=""===t||E(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"setRequired",{set:function(t){this.required=""===t||E(t),this.validateModel()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"setFocus",{set:function(t){this.focus=""===t||E(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"setClean",{set:function(t){this.clean=""===t||E(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"setPattern",{set:function(t){this.pattern=t,this.validateModel()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxlength",{get:function(){return this._maxlength},set:function(t){isNaN(parseInt(t,10))?t||(this._maxlength=void 0,this.validateModel()):(this._maxlength=parseInt(t,10),this.validateModel())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minlength",{get:function(){return this._minlength},set:function(t){isNaN(parseInt(t,10))?t||(this._minlength=void 0,this.validateModel()):(this._minlength=parseInt(t,10),this.validateModel())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"setMask",{set:function(t){this.mask=t,this.objMask=new nn(this.mask,this.maskFormatModel),this.validateModel()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"setMaskFormatModel",{set:function(t){this.maskFormatModel=""===t||E(t),this.objMask instanceof nn&&(this.objMask.formatModel=this.maskFormatModel,this.validateModel())},enumerable:!0,configurable:!0}),t.prototype.updateModel=function(t){this.onChangePropagate&&this.onChangePropagate(t)},t.prototype.callOnChange=function(t){this.updateModel(t),this.controlChangeModelEmitter(t)},t.prototype.controlChangeModelEmitter=function(t){this.modelLastUpdate!==t&&(this.changeModel.emit(t),this.modelLastUpdate=t)},t.prototype.validate=function(t){return Ne(this.required,this.disabled,this.getScreenValue())?{required:{valid:!1}}:ze(this.maxlength,this.getScreenValue())?{maxlength:{valid:!1}}:qe(this.minlength,this.getScreenValue())?{minlength:{valid:!1}}:function(t,e){var n;try{n=new RegExp(t)}catch(t){return!0}return t&&e&&!n.test(e)}(this.pattern,t.value)?(this.validatePatternOnWriteValue(t.value),{pattern:{valid:!1}}):this.extraValidation(t)},t.prototype.registerOnChange=function(t){this.onChangePropagate=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.registerOnValidatorChange=function(t){this.validatorChange=t},t.prototype.writeValue=function(t){this.writeValueModel(t)},t.prototype.validateModel=function(){this.validatorChange&&this.validatorChange()},t.prototype.validatePatternOnWriteValue=function(t){var e=this;t&&this.passedWriteValue&&(setTimeout(function(){e.updateModel(t)}),this.passedWriteValue=!1)},t.propDecorators={icon:[{type:e.Input,args:["t-icon"]}],label:[{type:e.Input,args:["t-label"]}],help:[{type:e.Input,args:["t-help"]}],name:[{type:e.Input,args:["name"]}],placeholder:[{type:e.Input,args:["t-placeholder"]}],setDisabled:[{type:e.Input,args:["t-disabled"]}],setReadonly:[{type:e.Input,args:["t-readonly"]}],setRequired:[{type:e.Input,args:["t-required"]}],setFocus:[{type:e.Input,args:["t-focus"]}],setClean:[{type:e.Input,args:["t-clean"]}],setPattern:[{type:e.Input,args:["t-pattern"]}],errorPattern:[{type:e.Input,args:["t-error-pattern"]}],maxlength:[{type:e.Input,args:["t-maxlength"]}],minlength:[{type:e.Input,args:["t-minlength"]}],setMask:[{type:e.Input,args:["t-mask"]}],setMaskFormatModel:[{type:e.Input,args:["t-mask-format-model"]}],blur:[{type:e.Output,args:["t-blur"]}],enter:[{type:e.Output,args:["t-enter"]}],change:[{type:e.Output,args:["t-change"]}],changeModel:[{type:e.Output,args:["t-change-model"]}]},t}(),mn=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),yn=2,bn=13,vn=function(t){function n(e){var n=t.call(this)||this;return n.el=e,n._decimalsLength=yn,n._thousandMaxlength=bn,n.decimalSeparator=",",n.fireChange=!1,n.isKeyboardAndroid=!1,n.minusSign="-",n.oldDotsLength=null,n.thousandSeparator=".",n.regex={thousand:new RegExp("\\.","g"),decimal:new RegExp("\\,","g")},n.isKeyboardAndroid=!!navigator.userAgent.match(/Android/i),n}return mn(n,t),Object.defineProperty(n.prototype,"decimalsLength",{get:function(){return this._decimalsLength},set:function(t){this._decimalsLength=S(t,yn)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"thousandMaxlength",{get:function(){return this._thousandMaxlength},set:function(t){var e=S(t,bn);this._thousandMaxlength=e<=bn?e:bn},enumerable:!0,configurable:!0}),n.prototype.ngAfterViewInit=function(){this.putFocus(),this.setPaddingInput()},n.prototype.clear=function(t){this.callOnChange(t),this.controlChangeEmitter()},n.prototype.extraValidation=function(t){return null},n.prototype.getScreenValue=function(){return this.inputEl?this.inputEl.nativeElement.value:""},n.prototype.hasInvalidClass=function(){return this.el.nativeElement.classList.contains("ng-invalid")&&this.el.nativeElement.classList.contains("ng-dirty")&&""!==this.getScreenValue()},n.prototype.hasLetters=function(t){return void 0===t&&(t=""),t.match(/[a-zA-Z:;+=_´^~"'@#$%¨&*()\/\\|]+/)},n.prototype.isValidNumber=function(t){var e=String.fromCharCode(t.which),n=8!==t.which&&0!==t.which;return!this.hasLetters(e)&&n},n.prototype.onBlur=function(t){var e=t.target.value;if(e){if(this.hasLetters(e)||this.containsMoreThanOneComma(e))return this.setViewValue(""),void this.callOnChange(void 0);var n=this.formatValueWithoutThousandSeparator(e);this.setViewValue(this.formatToViewValue(n))}this.blur.emit(),this.controlChangeEmitter()},n.prototype.onFocus=function(t){this.valueBeforeChange=this.getScreenValue(),this.enter.emit()},n.prototype.onInput=function(t){var e,n,i=t.target.selectionStart,o=t.target.selectionEnd;this.isKeyboardAndroid&&this.onInputKeyboardAndroid(t),e=this.formatValueWithoutThousandSeparator(t.target.value),e=this.addZeroBefore(e),n=this.formatMask(e),this.setViewValue(n),this.setCursorInput(t,i,o),this.callOnChange(this.formatToModelValue(e))},n.prototype.onInputKeyboardAndroid=function(t){var e=t.target.value,n=t.target.selectionStart,i=this.hasLetters(e);if(i)return this.setViewValue(e.replace(i[0],"")),t.preventDefault();var o=n-1,r=e.charAt(o);this.setPositionValue(t),this.isValidKey(t,r)&&this.setViewValue(e)},n.prototype.onKeyPress=function(t){this.isValidKey(t)},n.prototype.setPaddingInput=function(){var t=this;setTimeout(function(){var e=t.el.nativeElement.querySelectorAll(".thf-field-icon-container:not(.thf-field-icon-container-left) > .thf-icon").length;t.clean&&e++,e&&(t.inputEl.nativeElement.style.paddingRight=36*e+"px")})},n.prototype.writeValueModel=function(t){if(this.inputEl)if(t||0===t){var e=this.formatToViewValue(t);this.setViewValue(e)}else this.setViewValue("");t&&this.change.emit(t)},n.prototype.addZeroBefore=function(t){return t===this.decimalSeparator?"0"+t:t},n.prototype.containsComma=function(t){return t.includes(this.decimalSeparator)},n.prototype.containsMoreThanOneComma=function(t){void 0===t&&(t="");var e=t.match(/,/g);return!!(e&&e.length>1)},n.prototype.controlChangeEmitter=function(){var t=this,e=this.getScreenValue();e!==this.valueBeforeChange&&(this.fireChange=!0,setTimeout(function(){t.fireChange&&t.change.emit(e)},200))},n.prototype.formatMask=function(t){if(t.match(this.regex.decimal)){var e=new RegExp("(\\d)(?=(\\d{3})+(?!\\d),)","g");return t.toString().replace(e,"$1.")}return t.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1.")},n.prototype.formatToModelValue=function(t){var e=this.replaceCommaToDot(t),n=e?parseFloat(Number(e).toFixed(this.decimalsLength)):void 0;return 0===n||n?n:void 0},n.prototype.formatToViewValue=function(t){var e,n,i,o;return t=this.replaceCommaToDot(t),n=Number(t).toFixed(this.decimalsLength),i=this.getValueBeforeSeparator(n,this.thousandSeparator),o=this.getValueAfterSeparator(n,this.thousandSeparator),e=this.formatMask(i),0===this.decimalsLength?e:e+this.decimalSeparator+o},n.prototype.formatValueWithoutThousandSeparator=function(t){return void 0===t&&(t=""),t.toString().replace(this.regex.thousand,"")},n.prototype.getValueAfterSeparator=function(t,e){return void 0===t&&(t=""),t.split(e)[1]||""},n.prototype.getValueBeforeSeparator=function(t,e){return void 0===t&&(t=""),t.split(e)[0]||""},n.prototype.hasLessDot=function(t){if(t){var e=t.match(this.regex.thousand),n=e&&e.length;if(n<this.oldDotsLength)return this.oldDotsLength=n,!0}return t||(this.oldDotsLength=null),!1},n.prototype.hasMoreDot=function(t){if(t){var e=t.match(this.regex.thousand),n=e&&e.length;if(n>this.oldDotsLength)return this.oldDotsLength=n,!0}return t||(this.oldDotsLength=null),!1},n.prototype.hasMinusSignInvalidPosition=function(t){var e=t.key===this.minusSign,n=t.target.selectionStart;return e&&0!==n},n.prototype.isInvalidKey=function(t,e){var n=!this.isValidNumber(t);return this.verifyInsertComma(t)||this.verifyThousandLength(t)||this.verifyValueAfterComma(t)||this.verifyInsertMinusSign(t)||this.hasMinusSignInvalidPosition(t)||n||this.validateCursorPositionBeforeSeparator(t)||this.verifyDecimalLengthIsZeroAndKeyPressedIsComma(e)},n.prototype.isKeyDecimalSeparator=function(t){return t.key===this.decimalSeparator||t.char===this.decimalSeparator},n.prototype.isPositionAfterDecimalSeparator=function(t,e){var n=e&&e.indexOf(this.decimalSeparator);if(n&&this.decimalsLength>0)return t>n},n.prototype.isSelectionStartDifferentSelectionEnd=function(t){return t.selectionStart!==t.selectionEnd},n.prototype.isValidKey=function(t,e){var n=t.which||t.keyCode;if(!(8===t.which||0===t.which)||this.isKeyboardAndroid)return e&&(t.key=e),!this.isInvalidKey(t,n)||(t.preventDefault(),!1)},n.prototype.verifyDecimalLengthIsZeroAndKeyPressedIsComma=function(t){return 44===t&&0===this.decimalsLength},n.prototype.putFocus=function(){this.focus&&this.inputEl.nativeElement.focus()},n.prototype.setInitialSelectionRange=function(t,e,n){return 1===e&&1===n?t.setSelectionRange(e+1,n+1):t.setSelectionRange(e-1,n-1)},n.prototype.replaceAt=function(t,e,n){return t.substring(0,e)+n+t.substring(e+1)},n.prototype.replaceCommaToDot=function(t){return void 0===t&&(t=""),t.toString().replace(this.regex.decimal,".")},n.prototype.setCursorInput=function(t,e,n){var i=t.target,o=i.value;return this.hasMoreDot(o)||o==="0"+this.decimalSeparator?i.setSelectionRange(e+1,n+1):(this.hasLessDot(o)&&this.setInitialSelectionRange(i,e,n),i.setSelectionRange(e,n))},n.prototype.setPositionValue=function(t){var e=t.target.value,n=t.target.selectionStart-1;n>0&&t.key===this.minusSign&&(t.target.value=e.substring(0,n)+e.substr(n+1))},n.prototype.setViewValue=function(t){this.inputEl.nativeElement.value=t},n.prototype.validateCursorPositionBeforeSeparator=function(t){var e=t.target,n=this.formatValueWithoutThousandSeparator(e.value),i=this.getValueBeforeSeparator(e.value,this.decimalSeparator),o=this.getValueBeforeSeparator(n,this.decimalSeparator);return!this.isSelectionStartDifferentSelectionEnd(e)&&(e.selectionStart<=i.length&&o.length===this.thousandMaxlength&&!this.isKeyDecimalSeparator(t))},n.prototype.verifyThousandLength=function(t){var e=t.target,n=this.formatValueWithoutThousandSeparator(e.value),i=this.getValueBeforeSeparator(n,this.decimalSeparator);return!this.isSelectionStartDifferentSelectionEnd(e)&&(i.length>=this.thousandMaxlength&&!this.isKeyDecimalSeparator(t)&&this.isPositionAfterDecimalSeparator(e.selectionStart-this.decimalsLength,e.value))},n.prototype.verifyInsertComma=function(t){return this.containsComma(t.target.value)&&t.key===this.decimalSeparator},n.prototype.verifyInsertMinusSign=function(t){var e=t.target.value,n=-1!==e.lastIndexOf(this.minusSign),i=e.lastIndexOf("-"),o=e.match(new RegExp("-","g"));return this.isKeyboardAndroid&&n&&o.length>1&&(t.target.value=this.replaceAt(e,i,"")),n&&t.key===this.minusSign},n.prototype.verifyValueAfterComma=function(t){var e=t.target.value,n=t.target.selectionStart,i=this.getValueAfterSeparator(e,this.decimalSeparator);return this.isPositionAfterDecimalSeparator(n,e)&&i.length>=this.decimalsLength},n.decorators=[{type:e.Component,args:[{selector:"thf-decimal",template:'<thf-field-container [t-label]="label" [t-help]="help" [t-opcional]="!required"> <div class="thf-field-container-content"> <div *ngIf="icon" class="thf-field-icon-container-left"> <span class="thf-icon thf-field-icon {{ icon }}" [class.thf-field-icon-disabled]="disabled"></span> </div> <input #inp class="thf-input" type="text" (input)="onInput($event)" (focus)="onFocus($event)" (blur)="onBlur($event)" (keypress)="onKeyPress($event)" [attr.name]="name" [class.thf-input-icon-left]="icon" [class.thf-input-icon-right]="clean" [disabled]="disabled" [placeholder]="placeholder" [readonly]="readonly" [required]="required"> <div class="thf-field-icon-container-right"> <thf-clean [t-element-ref]="inputEl" (t-change-event)="clear($event)"></thf-clean> </div> </div> <thf-field-container-bottom> </thf-field-container-bottom> </thf-field-container> ',providers:[{provide:r.NG_VALUE_ACCESSOR,useExisting:e.forwardRef(function(){return n}),multi:!0},{provide:r.NG_VALIDATORS,useExisting:e.forwardRef(function(){return n}),multi:!0}]}]}],n.ctorParameters=function(){return[{type:e.ElementRef}]},n.propDecorators={inputEl:[{type:e.ViewChild,args:["inp",{read:e.ElementRef}]}],decimalsLength:[{type:e.Input,args:["t-decimals-length"]}],thousandMaxlength:[{type:e.Input,args:["t-thousand-maxlength"]}]},n}(gn),wn=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Cn=function(t){function n(e){var n=t.call(this)||this;return n.type="text",n.el=e,n}return wn(n,t),n.prototype.ngAfterViewInit=function(){this.afterViewInit()},n.prototype.afterViewInit=function(){this.putFocus(),"password"!==this.type&&this.setPaddingInput()},n.prototype.setPaddingInput=function(){var t=this;setTimeout(function(){var e=t.el.nativeElement.querySelectorAll(".thf-field-icon-container:not(.thf-field-icon-container-left) > .thf-icon").length;t.clean&&e++,e&&(t.inputEl.nativeElement.style.paddingRight=36*e+"px")})},n.prototype.putFocus=function(){this.focus&&this.inputEl.nativeElement.focus()},n.prototype.onKeydown=function(t){this.mask&&!this.readonly&&229!==t.target.keyCode&&(this.eventOnBlur(t),this.objMask.keydown(t))},n.prototype.onKeyup=function(t){this.mask&&!this.readonly&&(229!==t.target.keyCode&&(this.eventOnBlur(t),this.objMask.keyup(t)),this.callOnChange(this.objMask.valueToModel))},n.prototype.eventOnInput=function(t){if(!this.mask){var e=this.validMaxLength(this.maxlength,t.target.value);this.inputEl.nativeElement.value=e,this.callOnChange(e)}},n.prototype.validMaxLength=function(t,e){return(t||0===t)&&e.length>t?e.toString().substring(0,t):e},n.prototype.eventOnFocus=function(t){this.valueBeforeChange=this.inputEl.nativeElement.value,this.enter.emit()},n.prototype.eventOnBlur=function(t){this.mask&&this.objMask.blur(t),"blur"===t.type&&(this.blur.emit(),this.controlChangeEmitter())},n.prototype.controlChangeEmitter=function(){var t=this,e=this.inputEl.nativeElement.value;e!==this.valueBeforeChange&&(clearTimeout(this.timeoutChange),this.timeoutChange=setTimeout(function(){t.change.emit(e)},200))},n.prototype.eventOnClick=function(t){this.mask&&this.objMask.click(t)},n.prototype.hasInvalidClass=function(){return this.el.nativeElement.classList.contains("ng-invalid")&&this.el.nativeElement.classList.contains("ng-dirty")&&""!==this.inputEl.nativeElement.value},n.prototype.getErrorPattern=function(){return""!==this.errorPattern&&this.hasInvalidClass()?this.errorPattern:""},n.prototype.validateClassesForPattern=function(){var t=this.getScreenValue(),e=this.el.nativeElement;t&&!this.verifyPattern(this.pattern,t)?(e.classList.add("ng-invalid"),e.classList.add("ng-dirty")):e.classList.remove("ng-invalid")},n.prototype.verifyPattern=function(t,e){return new RegExp(t).test(e)},n.prototype.clear=function(t){this.callOnChange(t),this.controlChangeEmitter()},n.prototype.writeValueModel=function(t){this.passedWriteValue=!0,this.inputEl&&(t?this.mask?(this.inputEl.nativeElement.value=this.objMask.controlFormatting(String(t)),this.objMask.formatModel&&this.onChangePropagate(this.objMask.valueToModel)):this.inputEl.nativeElement.value=t:this.inputEl.nativeElement.value=""),t&&this.changeModel.emit(t)},n.prototype.getScreenValue=function(){var t=this.inputEl&&this.inputEl.nativeElement.value||void 0;if("number"===this.type){var e=parseFloat(t);return e||0===e?e:null}return t},n.propDecorators={inputEl:[{type:e.ViewChild,args:["inp",{read:e.ElementRef}]}],onKeydown:[{type:e.HostListener,args:["keydown",["$event"]]}],onKeyup:[{type:e.HostListener,args:["keyup",["$event"]]}]},n}(gn),In=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),On=function(t){function n(e){var n=t.call(this,e)||this;return n.icon="thf-icon-mail",n.maxlength=254,n.type="email",n.pattern="^([\\w-]+(?:\\.[\\w-]+)*)@((?:[\\w-]+\\.)*\\w[\\w-]{0,66})\\.([a-z]{2,6}(?:\\.[a-z]{2})?)$",n.mask="",n.listener=n.validateClassesForPattern.bind(n),n}return In(n,t),n.prototype.ngAfterViewInit=function(){var t=this;setTimeout(function(){t.onChangePropagate||t.inputEl.nativeElement.addEventListener("keyup",t.listener)})},n.prototype.ngOnDestroy=function(){this.onChangePropagate||this.inputEl.nativeElement.removeEventListener("keyup",this.listener)},n.prototype.extraValidation=function(t){return null},n.decorators=[{type:e.Component,args:[{selector:"thf-email",template:'<thf-field-container [t-help]="help" [t-label]="label" [t-opcional]="!required"> <div class="thf-field-container-content"> <div *ngIf="icon" class="thf-field-icon-container-left"> <span class="thf-icon thf-field-icon {{ icon }}" [class.thf-field-icon-disabled]="disabled"></span> </div> <input #inp class="thf-input" [attr.name]="name" [class.thf-input-icon-left]="icon" [class.thf-input-icon-right]="clean" [disabled]="disabled" [placeholder]="placeholder" [readonly]="readonly" [required]="required" [type]="type" (blur)="eventOnBlur($event)" (click)="eventOnClick($event)" (focus)="eventOnFocus($event)" (input)="eventOnInput($event)"> <div class="thf-field-icon-container-right"> <thf-clean [t-element-ref]="inputEl" (t-change-event)="clear($event)"></thf-clean> </div> </div> <thf-field-container-bottom [t-error-pattern]="getErrorPattern()"> </thf-field-container-bottom> </thf-field-container> ',providers:[{provide:r.NG_VALUE_ACCESSOR,useExisting:e.forwardRef(function(){return n}),multi:!0},{provide:r.NG_VALIDATORS,useExisting:e.forwardRef(function(){return n}),multi:!0}]}]}],n.ctorParameters=function(){return[{type:e.ElementRef}]},n}(Cn),kn=function(){function t(){this.optional={pt:"(Opcional)",en:"(Optional)",es:"(Opcional)"}}return t.prototype.getOptional=function(){var t=navigator.language?navigator.language.toLowerCase().slice(0,2):"pt";return this.optional[t]?this.optional[t]:""},t.decorators=[{type:e.Component,args:[{selector:"thf-field-container",template:'<div class="thf-field-container"> <div class="thf-field-container-title"> <span class="thf-field-title">{{ label }}</span> <span class="thf-field-optional" *ngIf="opcional && (label || help)">{{ getOptional() }}</span> </div> <div class="thf-field-help" *ngIf="help">{{ help }}</div> <ng-content></ng-content> </div> '}]}],t.propDecorators={label:[{type:e.Input,args:["t-label"]}],help:[{type:e.Input,args:["t-help"]}],opcional:[{type:e.Input,args:["t-opcional"]}]},t}(),Dn=function(){function t(){this.errorPattern=""}return t.decorators=[{type:e.Component,args:[{selector:"thf-field-container-bottom",template:'<div class="thf-field-container-bottom"> <span *ngIf="errorPattern"  class="thf-field-container-bottom-text-error"> <span class="thf-icon thf-icon-warning thf-field-container-icon-error"></span> {{ errorPattern }} </span> </div> '}]}],t.propDecorators={errorPattern:[{type:e.Input,args:["t-error-pattern"]}]},t}(),_n=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Pn=function(t){function n(e){var n=t.call(this,e)||this;return n.type="text",n}return _n(n,t),n.prototype.extraValidation=function(t){return null},n.decorators=[{type:e.Component,args:[{selector:"thf-login",template:'<thf-field-container [t-label]="label" [t-help]="help" [t-opcional]="!required"> <div class="thf-field-container-content"> <div class="thf-field-icon-container-left"> <span class="thf-icon thf-field-icon thf-icon-user" [class.thf-field-icon-disabled]="disabled"></span> </div> <input #inp class="thf-input thf-input-icon-left" [attr.name]="name" [class.thf-input-icon-right]="clean" [disabled]="disabled" [placeholder]="placeholder" [readonly]="readonly" [required]="required" [type]="type" (blur)="eventOnBlur($event)" (click)="eventOnClick($event)" (focus)="eventOnFocus($event)" (input)="eventOnInput($event)"> <div class="thf-field-icon-container-right"> <thf-clean [t-element-ref]="inputEl" (t-change-event)="clear($event)"></thf-clean> </div> </div> <thf-field-container-bottom [t-error-pattern]="getErrorPattern()"> </thf-field-container-bottom> </thf-field-container> ',providers:[{provide:r.NG_VALUE_ACCESSOR,useExisting:e.forwardRef(function(){return n}),multi:!0},{provide:r.NG_VALIDATORS,useExisting:e.forwardRef(function(){return n}),multi:!0}]}]}],n.ctorParameters=function(){return[{type:e.ElementRef}]},n}(Cn),En=function(){function t(){this._disabled=!1,this._focus=!1,this._required=!1,this.oldValue="",this.onChangePropagate=null,this.onTouched=null,this.placeholder="",this.onError=new e.EventEmitter,this.selected=new e.EventEmitter}return Object.defineProperty(t.prototype,"required",{get:function(){return this._required},set:function(t){this._required=E(t),this.validateModel(this.valueToModel)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"focus",{get:function(){return this._focus},set:function(t){this._focus=""===t||E(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this._disabled},set:function(t){this._disabled=""===t||E(t)},enumerable:!0,configurable:!0}),t.prototype.ngOnDestroy=function(){this.getSubscription&&this.getSubscription.unsubscribe()},t.prototype.ngOnInit=function(){this.initializeColumn()},t.prototype.initializeColumn=function(){this.fieldLabel?this.keysDescription=[this.fieldLabel]:(this.keysDescription=[],this.keysDescription=this.columns.filter(function(t){return t.fieldLabel}).map(function(t){return t.column}))},t.prototype.registerOnValidatorChange=function(t){this.validatorChange=t},t.prototype.registerOnChange=function(t){this.onChangePropagate=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.selectValue=function(t){this.valueToModel=t[this.fieldValue],this.callOnChange(this.valueToModel),this.selected.emit(t)},t.prototype.callOnChange=function(t){this.onChangePropagate&&this.onChangePropagate(t)},t.prototype.searchById=function(t){var e=this;"string"==typeof t&&(t=t.trim()),""!==t?this.getSubscription=this.service.getObjectByValue(t,this.filterParams).subscribe(function(t){t?(e.oldValue=t[e.fieldLabel],e.selectValue(t),e.setViewValue(e.getFormattedLabel(t),t)):e.cleanModel()},function(t){e.cleanModel(),e.onError.emit(t)}):this.cleanModel()},t.prototype.validate=function(t){if(Ne(this.required,this.disabled,t.value))return{required:{valid:!1}}},t.prototype.writeValue=function(t){t&&t instanceof Object?(this.oldValue=t[this.fieldLabel],this.valueToModel=t[this.fieldValue],this.setViewValue(this.getFormattedLabel(t),t)):t?this.searchById(t):this.cleanViewValue()},t.prototype.cleanModel=function(){this.cleanViewValue(),this.callOnChange(void 0)},t.prototype.cleanViewValue=function(){this.setViewValue("",{}),this.oldValue="",this.valueToModel=null},t.prototype.getFormattedLabel=function(t){return t?this.keysDescription.map(function(e){return t[e]}).join(" - "):""},t.prototype.selectModel=function(t){this.writeValue(t),t&&t instanceof Object&&this.selectValue(t)},t.prototype.validateModel=function(t){this.validatorChange&&this.validatorChange(t)},t.propDecorators={label:[{type:e.Input,args:["t-label"]}],literals:[{type:e.Input,args:["t-literals"]}],help:[{type:e.Input,args:["t-help"]}],placeholder:[{type:e.Input,args:["t-placeholder"]}],name:[{type:e.Input,args:["name"]}],title:[{type:e.Input,args:["t-title"]}],fieldValue:[{type:e.Input,args:["t-field-value"]}],fieldLabel:[{type:e.Input,args:["t-field-label"]}],filterParams:[{type:e.Input,args:["t-filter-params"]}],fieldFormat:[{type:e.Input,args:["t-field-format"]}],columns:[{type:e.Input,args:["t-columns"]}],service:[{type:e.Input,args:["t-filter-service"]}],required:[{type:e.Input,args:["t-required"]}],focus:[{type:e.Input,args:["t-focus"]}],disabled:[{type:e.Input,args:["t-disabled"]}],onError:[{type:e.Output,args:["t-error"]}],selected:[{type:e.Output,args:["t-selected"]}]},t}(),Sn=function(){function t(t,e,n){this.componentResolver=t,this.applicationRef=e,this.injector=n}return t.prototype.createComponentInApplication=function(t){var e=this.componentResolver.resolveComponentFactory(t).create(this.injector);this.applicationRef.attachView(e.hostView);var n=e.hostView.rootNodes[0];return document.body.appendChild(n),e},t.prototype.destroyComponentInApplication=function(t){this.applicationRef.detachView(t.hostView),t.destroy()},t.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[{type:e.ComponentFactoryResolver},{type:e.ApplicationRef},{type:e.Injector}]},t.ngInjectableDef=e.defineInjectable({factory:function(){return new t(e.inject(e.ComponentFactoryResolver),e.inject(e.ApplicationRef),e.inject(e.INJECTOR))},token:t,providedIn:"root"}),t}(),Mn=function(){return(Mn=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},An={en:{modalPrimaryActionLabel:"Select",modalSecondaryActionLabel:"Cancel",modalPlaceholder:"Search",modalTitle:"Select a record",modalTableNoColumns:De.en.noColumns,modalTableNoData:De.en.noData,modalTableLoadingData:De.en.loadingData,modalTableLoadMoreData:De.en.loadMoreData},es:{modalPrimaryActionLabel:"Seleccionar",modalSecondaryActionLabel:"Cancelar",modalPlaceholder:"Buscar",modalTitle:"Seleccione un registro",modalTableNoColumns:De.es.noColumns,modalTableNoData:De.es.noData,modalTableLoadingData:De.es.loadingData,modalTableLoadMoreData:De.es.loadMoreData},pt:{modalPrimaryActionLabel:"Selecionar",modalSecondaryActionLabel:"Cancelar",modalPlaceholder:"Pesquisar",modalTitle:"Selecione um registro",modalTableNoColumns:De.pt.noColumns,modalTableNoData:De.pt.noData,modalTableLoadingData:De.pt.loadingData,modalTableLoadMoreData:De.pt.loadMoreData}},xn=function(){function t(){var t=this;this.hasNext=!0,this.isLoading=!1,this.page=1,this.pageSize=10,this.primaryAction={action:function(){t.items.forEach(function(e){e.$selected&&(t.model.emit(e),t.thfModal.close())})},label:this.literals.modalPrimaryActionLabel},this.searchValue="",this.secondaryAction={action:function(){t.model.emit(null),t.thfModal.close()},label:this.literals.modalSecondaryActionLabel},this.model=new e.EventEmitter}return Object.defineProperty(t.prototype,"literals",{get:function(){return this._literals||An[P()]},set:function(t){t instanceof Object&&!(t instanceof Array)?(this._literals=Mn({},An[_],An[P()],t),t.modalTitle&&(this.title=this.literals.modalTitle)):this._literals=An[P()],this.primaryAction.label=this.literals.modalPrimaryActionLabel,this.secondaryAction.label=this.literals.modalSecondaryActionLabel,this.setTableLiterals()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){return this._title},set:function(t){this._title=M(t,"string")?t:this.literals.modalTitle},enumerable:!0,configurable:!0}),t.prototype.ngOnDestroy=function(){this.filterSubscription&&this.filterSubscription.unsubscribe(),this.searchSubscription&&this.searchSubscription.unsubscribe(),this.showMoreSubscription&&this.showMoreSubscription.unsubscribe()},t.prototype.ngOnInit=function(){this.initializeData(),this.setTableLiterals()},t.prototype.search=function(){var t=this;this.page=1,this.searchValue?(this.isLoading=!0,this.searchSubscription=this.getFilteredData(this.searchValue).subscribe(function(e){t.items=e.items,t.hasNext=e.hasNext,t.isLoading=!1})):this.initializeData()},t.prototype.showMoreEvent=function(){var t=this;this.page++,this.isLoading=!0,this.showMoreSubscription=this.getFilteredData(this.searchValue).subscribe(function(e){e.items.forEach(function(e){t.items.push(e)}),t.hasNext=e.hasNext,t.isLoading=!1})},t.prototype.getFilteredData=function(t){return this.filterService.getFilteredData(t,this.page,this.pageSize,this.filterParams)},t.prototype.initializeData=function(){var t=this;this.isLoading=!0,this.filterSubscription=this.getFilteredData("").subscribe(function(e){t.items=e.items,t.hasNext=e.hasNext,t.isLoading=!1})},t.prototype.setTableLiterals=function(){this.tableLiterals={noColumns:this.literals.modalTableNoColumns,noData:this.literals.modalTableNoData,loadingData:this.literals.modalTableLoadingData,loadMoreData:this.literals.modalTableLoadMoreData}},t.propDecorators={thfModal:[{type:e.ViewChild,args:[ie]}],columns:[{type:e.Input,args:["t-columns"]}],items:[{type:e.Input,args:["t-items"]}],literals:[{type:e.Input,args:["t-literals"]}],title:[{type:e.Input,args:["t-title"]}],filterService:[{type:e.Input,args:["t-filter-service"]}],filterParams:[{type:e.Input,args:["t-filter-params"]}],model:[{type:e.Output,args:["t-change-model"]}]},t}(),Tn=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Rn=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.keyUpObservable=null,e.containerHeight=375,e.tableHeight=370,e}return Tn(n,t),n.prototype.ngOnInit=function(){t.prototype.ngOnInit.call(this),this.initializeEventInput(),this.setTableHeight()},n.prototype.initializeEventInput=function(){var t=this;this.keyUpObservable=s.fromEvent(this.inputSearchEl.nativeElement,"keyup").pipe(c.filter(function(e){return t.validateEnterPressed(e)}),c.debounceTime(400)),this.keyUpObservable.subscribe(function(){t.search()})},n.prototype.openModal=function(){this.thfModal.open()},n.prototype.setTableHeight=function(){window.innerHeight<615&&(this.tableHeight-=50,this.containerHeight-=50)},n.prototype.validateEnterPressed=function(t){return 13===t.keyCode},n.decorators=[{type:e.Component,args:[{selector:"thf-lookup-modal",template:'<thf-modal t-click-out="false" t-hide-close="false" t-size="lg" [t-primary-action]="primaryAction" [t-secondary-action]="secondaryAction" [t-title]="title"> <thf-field-container class="thf-lookup-header thf-md-6 thf-pull-right" [t-opcional]="false"> <div class="thf-field-container-content"> <input #inpsearch class="thf-input thf-input-icon-right" name="contentSearch" [(ngModel)]="searchValue" [placeholder]="literals.modalPlaceholder" type="text"> <div class="thf-field-icon-container-right"> <span #iconLookup class="thf-icon thf-field-icon thf-icon-search" (click)="search()"> </span> </div> </div> </thf-field-container> <div class="thf-row thf-lookup-container-table" [style.height.px]="containerHeight"> <thf-table class="thf-md-12" t-checkbox="true" t-hide-detail="true" t-single-select="true" t-sort="true" [t-columns]="columns" [t-height]="tableHeight" [t-items]="items" [t-literals]="tableLiterals" [t-loading]="isLoading" [t-show-more-disabled]="!hasNext" (t-show-more)="showMoreEvent()"> </thf-table> </div> </thf-modal> '}]}],n.propDecorators={inputSearchEl:[{type:e.ViewChild,args:["inpsearch"]}]},n}(xn),Ln=function(){function t(t){this.thfComponentInjector=t,this.componentRef=null,this.selectValueEvent=new e.EventEmitter}return t.prototype.openModal=function(t){var e=this,n=t.service,i=t.columns,o=t.filterParams,r=t.title,s=t.literals;this.componentRef=this.thfComponentInjector.createComponentInApplication(Rn),this.componentRef.instance.title=r,this.componentRef.instance.columns=i,this.componentRef.instance.filterService=n,this.componentRef.instance.filterParams=o,this.componentRef.instance.literals=s,this.componentRef.instance.model.subscribe(function(t){e.selectValue(t)}),this.componentRef.changeDetectorRef.detectChanges(),this.componentRef.instance.openModal()},t.prototype.selectValue=function(t){t&&this.selectValueEvent.emit(t),this.componentRef.destroy()},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:Sn}]},t}(),Vn=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Fn=function(t){function n(e){var n=t.call(this)||this;return n.thfLookupModalService=e,n}return Vn(n,t),n.prototype.ngOnDestroy=function(){this.modalSubscription&&this.modalSubscription.unsubscribe()},n.prototype.ngOnInit=function(){t.prototype.ngOnInit.call(this)},n.prototype.openLookup=function(){var t=this;if(!this.disabled){var e=this.service,n=this.columns,i=this.filterParams,o=this.literals,r=this.title||this.label;this.thfLookupModalService.openModal({service:e,columns:n,filterParams:i,title:r,literals:o}),this.modalSubscription||(this.modalSubscription=this.thfLookupModalService.selectValueEvent.subscribe(function(e){t.selectModel(e)}))}},n.prototype.setViewValue=function(t,e){this.fieldFormat?this.setInputValueWithFieldFormat(e):this.inputEl.nativeElement.value=this.valueToModel?t:""},n.prototype.getViewValue=function(){return this.inputEl.nativeElement.value},n.prototype.searchEvent=function(){var t=this.getViewValue();this.oldValue!==t&&this.searchById(t)},n.prototype.setInputValueWithFieldFormat=function(t){var e=0===Object.keys(t).length,n=this.fieldFormat(t);this.oldValue=e?"":n,this.inputEl.nativeElement.value=e?"":n},n.decorators=[{type:e.Component,args:[{selector:"thf-lookup",template:'<thf-field-container [t-label]="label" [t-help]="help" [t-opcional]="!required"> <div class="thf-field-container-content"> <input #inp class="thf-input thf-input-icon-right" type="text" [disabled]="disabled" [placeholder]="placeholder" [required]="required" (blur)="searchEvent()"> <div class="thf-field-icon-container-right"> <span tabindex="1" #iconLookup (click)="openLookup()" (focus)="inp.focus()" class="thf-icon thf-field-icon thf-icon-search" [class.thf-field-icon-disabled]="disabled" [class.thf-field-icon]="!disabled"> </span> </div> </div> <thf-field-container-bottom></thf-field-container-bottom> </thf-field-container> ',providers:[Ln,{provide:r.NG_VALUE_ACCESSOR,useExisting:e.forwardRef(function(){return n}),multi:!0},{provide:r.NG_VALIDATORS,useExisting:e.forwardRef(function(){return n}),multi:!0}]}]}],n.ctorParameters=function(){return[{type:Ln}]},n.propDecorators={inputEl:[{type:e.ViewChild,args:["inp",{read:e.ElementRef}]}]},n}(En),jn=function(){function t(){this.change=new e.EventEmitter}return Object.defineProperty(t.prototype,"placeholder",{get:function(){return this._placeholder||this.literals.placeholderSearch},set:function(t){this._placeholder=t&&M(t,"string")?t:this.literals.placeholderSearch},enumerable:!0,configurable:!0}),t.prototype.onChange=function(t){this.change.emit({event:t,value:this.inputElement.nativeElement.value})},t.prototype.setFocus=function(){this.inputElement.nativeElement.focus()},t.prototype.clean=function(){this.inputElement.nativeElement.value=""},t.decorators=[{type:e.Component,args:[{selector:"thf-multiselect-search",template:'<div class="thf-field-container-content thf-multiselect-content-search"> <div class="thf-field-icon-container-left"> <span class="thf-icon thf-icon-search thf-field-icon"></span> </div> <input #inputElement class="thf-input thf-input-icon-left" type="text" [placeholder]="placeholder" (keyup)="onChange($event)"> </div> '}]}],t.propDecorators={literals:[{type:e.Input,args:["t-literals"]}],placeholder:[{type:e.Input,args:["t-placeholder"]}],change:[{type:e.Output,args:["t-change"]}],inputElement:[{type:e.ViewChild,args:["inputElement",{read:e.ElementRef}]}]},t}(),Nn=function(){function t(){this.scrollTop=0,this.show=!1,this.haveOptions=!1,this.hideSearch=!1,this.selectedValues=[],this.options=[],this.changeSearch=new e.EventEmitter,this.change=new e.EventEmitter,this.closeDropdown=new e.EventEmitter}return t.prototype.scrollTo=function(t){this.scrollTop=t<=2?0:44*t-88},t.prototype.isSelectedItem=function(t){return this.selectedValues.some(function(e){return e===t.value})},t.prototype.clickItem=function(t,e){this.updateSelectedValues(t,e),this.hideSearch||this.searchElement.setFocus()},t.prototype.updateSelectedValues=function(t,e){if(t)this.selectedValues.push(e.value);else{var n=this.selectedValues.indexOf(e.value);this.selectedValues.splice(n,1)}this.change.emit(this.selectedValues)},t.prototype.callChangeSearch=function(t){this.changeSearch.emit(t)},t.prototype.onKeydown=function(t){9===t.keyCode&&this.closeDropdown.emit()},t.prototype.controlVisibility=function(t){var e=this;this.show=t,this.checkInitialOptions(),t&&this.searchElement&&!this.hideSearch&&setTimeout(function(){e.searchElement.setFocus(),e.searchElement.clean()})},t.prototype.checkInitialOptions=function(){this.options.length&&(this.haveOptions=!0)},t.decorators=[{type:e.Component,args:[{selector:"thf-multiselect-dropdown",template:'<div class="thf-multiselect-content" [hidden]="!show"> <thf-multiselect-search #searchElement *ngIf="!hideSearch && haveOptions" [t-literals]="literals" [t-placeholder]="placeholderSearch" (t-change)="callChangeSearch($event)"> </thf-multiselect-search> <ul class="thf-multiselect-items-content" [scrollTop]="scrollTop" #ulElement> <div *ngIf="!options.length" class="thf-multiselect-content-no-data thf-text-center"> <span> {{ literals.noData }}</span> </div> <thf-multiselect-item *ngFor="let option of options" [t-option]="option" [t-selected]="isSelectedItem(option)" (t-change)="clickItem($event, option)"> </thf-multiselect-item> </ul> </div> '}]}],t.propDecorators={hideSearch:[{type:e.Input,args:["t-hide-search"]}],literals:[{type:e.Input,args:["t-literals"]}],placeholderSearch:[{type:e.Input,args:["t-placeholder-search"]}],selectedValues:[{type:e.Input,args:["t-selected-values"]}],options:[{type:e.Input,args:["t-options"]}],changeSearch:[{type:e.Output,args:["t-change-search"]}],change:[{type:e.Output,args:["t-change"]}],closeDropdown:[{type:e.Output,args:["t-close-dropdown"]}],ulElement:[{type:e.ViewChild,args:["ulElement",{read:e.ElementRef}]}],searchElement:[{type:e.ViewChild,args:["searchElement"]}],onKeydown:[{type:e.HostListener,args:["keydown",["$event"]]}]},t}(),zn={startsWith:0,contains:1,endsWith:2};zn[zn.startsWith]="startsWith",zn[zn.contains]="contains",zn[zn.endsWith]="endsWith";var qn=function(){return(qn=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Bn={en:{noData:"No data found",placeholderSearch:"Search"},es:{noData:"Datos no encontrados",placeholderSearch:"Busca"},pt:{noData:"Nenhum dado encontrado",placeholderSearch:"Buscar"}},Hn=function(){function t(){this._disabled=!1,this._filterMode=zn.startsWith,this._focus=!1,this._hideSearch=!1,this._required=!1,this._sort=!1,this.firstInWriteValue=!0,this.readyToValidation=!1,this.selectedOptions=[],this.visibleOptionsDropdown=[],this.visibleDisclaimers=[],this.placeholder="",this.placeholderSearch="",this.change=new e.EventEmitter}return Object.defineProperty(t.prototype,"literals",{get:function(){return this._literals||Bn[P()]},set:function(t){t instanceof Object&&!(t instanceof Array)?this._literals=qn({},Bn[_],Bn[P()],t):this._literals=Bn[P()]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"required",{get:function(){return this._required},set:function(t){this._required=""===t||E(t),this.updateModelToValidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this._disabled},set:function(t){this._disabled=""===t||E(t),this.updateModelToValidate(),this.updateVisibleItems()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hideSearch",{get:function(){return this._hideSearch},set:function(t){this._hideSearch=""===t||E(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this._options},set:function(t){this._options=t,this.validAndSortOptions()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sort",{get:function(){return this._sort},set:function(t){this._sort=""===t||E(t),this.validAndSortOptions()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"focus",{get:function(){return this._focus},set:function(t){this._focus=""===t||E(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filterMode",{get:function(){return this._filterMode},set:function(t){switch(this._filterMode=t in zn?t:zn.startsWith,this._filterMode.toString()){case"startsWith":this._filterMode=zn.startsWith;break;case"contains":this._filterMode=zn.contains;break;case"endsWith":this._filterMode=zn.endsWith}},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.updateList(this.options)},t.prototype.ngAfterContentChecked=function(){this.readyToValidation=!0},t.prototype.validAndSortOptions=function(){var t,e;this.options&&this.options.length&&(N(this.options),j(this.options),this.setUndefinedLabels(this.options),this.sort&&(t=this.options,e="label",t.sort(function(t,n){return(t=t[e].toString().toLowerCase())<(n=n[e].toString().toLowerCase())?-1:t>n?1:0})))},t.prototype.setUndefinedLabels=function(t){t.forEach(function(t){t.label||(t.label=t.value)})},t.prototype.updateList=function(t){t&&(this.visibleOptionsDropdown=t)},t.prototype.updateModelToValidate=function(){var t=this;this.readyToValidation&&setTimeout(function(){t.callOnChange(t.selectedOptions)})},t.prototype.callOnChange=function(t){this.onModelChange&&(this.onModelChange(this.getValuesFromOptions(t)),this.eventChange(t))},t.prototype.eventChange=function(t){t&&this.lastLengthModel!==t.length&&this.change.emit(t),this.lastLengthModel=t?t.length:null},t.prototype.getValuesFromOptions=function(t){return t&&t.length?t.map(function(t){return t.value}):[]},t.prototype.getLabelByValue=function(t){var e=this.options.findIndex(function(e){return e.value===t});return this.options[e].label},t.prototype.changeItems=function(t){this.updateSelectedOptions(t),this.callOnChange(this.selectedOptions)},t.prototype.searchByLabel=function(t,e,n){var i=this;if(t&&e&&e.length){var o=[];e.forEach(function(e){e.label&&i.compareMethod(t,e,n)&&o.push(e)}),this.visibleOptionsDropdown=o}},t.prototype.compareMethod=function(t,e,n){switch(n){case zn.startsWith:return this.startsWith(t,e);case zn.contains:return this.contains(t,e);case zn.endsWith:return this.endsWith(t,e)}},t.prototype.startsWith=function(t,e){return e.label.toLowerCase().startsWith(t.toLowerCase())},t.prototype.contains=function(t,e){return e.label.toLowerCase().indexOf(t.toLowerCase())>-1},t.prototype.endsWith=function(t,e){return e.label.toLowerCase().endsWith(t.toLowerCase())},t.prototype.validate=function(t){return Ne(this.required,this.disabled,t.value)?{required:{valid:!1}}:null},t.prototype.updateSelectedOptions=function(t){var e=this;this.selectedOptions=[],t.forEach(function(t){e.options.forEach(function(n){n.value===t&&e.selectedOptions.push(n)})}),this.updateVisibleItems()},t.prototype.writeValue=function(t){this.firstInWriteValue?this.firstInWriteValue=!1:(t||(t=[],this.callOnChange([])),this.updateSelectedOptions(t),this.selectedOptions.length<t.length&&this.callOnChange(this.selectedOptions))},t.prototype.registerOnChange=function(t){this.onModelChange=t},t.prototype.registerOnTouched=function(t){this.onModelTouched=t},t.propDecorators={label:[{type:e.Input,args:["t-label"]}],help:[{type:e.Input,args:["t-help"]}],literals:[{type:e.Input,args:["t-literals"]}],placeholder:[{type:e.Input,args:["t-placeholder"]}],placeholderSearch:[{type:e.Input,args:["t-placeholder-search"]}],name:[{type:e.Input,args:["name"]}],required:[{type:e.Input,args:["t-required"]}],disabled:[{type:e.Input,args:["t-disabled"]}],hideSearch:[{type:e.Input,args:["t-hide-search"]}],options:[{type:e.Input,args:["t-options"]}],sort:[{type:e.Input,args:["t-sort"]}],focus:[{type:e.Input,args:["t-focus"]}],filterMode:[{type:e.Input,args:["t-filter-mode"]}],change:[{type:e.Output,args:["t-change"]}]},t}(),Wn=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),$n=function(t){function n(e,n){var i=t.call(this)||this;return i.el=e,i.renderer=n,i.disclaimerOffset=0,i.dropdownIcon="thf-icon-arrow-down",i.dropdownOpen=!1,i.initialized=!1,i.visibleElement=!1,i.isCalculateVisibleItems=!0,i}return Wn(n,t),n.prototype.ngAfterViewInit=function(){this.focus&&this.inputElement.nativeElement.focus(),this.initialized=!0,this.initializeResizeListener()},n.prototype.ngDoCheck=function(){var t=this.inputElement.nativeElement.offsetWidth;if(t&&!this.visibleElement&&this.initialized||t&&this.isCalculateVisibleItems)return this.debounceResize(),void(this.visibleElement=!0)},n.prototype.ngOnDestroy=function(){this.removeClickoutListener(),this.removeResizeListener()},n.prototype.getInputWidth=function(){return this.el.nativeElement.querySelector(".thf-input").offsetWidth-40},n.prototype.getDisclaimersWidth=function(){var t=this.el.nativeElement.querySelectorAll("thf-disclaimer");return Array.from(t).map(function(t){return t.offsetWidth})},n.prototype.calculateVisibleItems=function(){var t=this.getDisclaimersWidth(),e=this.getInputWidth(),n=t[0];if(this.visibleDisclaimers=[],e>0){var i=0,o=0;for(o=0;o<this.selectedOptions.length;o++)if(i+=t[o],this.visibleDisclaimers.push(this.selectedOptions[o]),i>e){i-=t[o],this.isCalculateVisibleItems=!1;break}if(n||!this.selectedOptions.length){if(o===this.selectedOptions.length)return void(this.isCalculateVisibleItems=!1);if(i+38>e){this.visibleDisclaimers.splice(-2,2);var r="+"+(this.selectedOptions.length+1-o).toString();this.visibleDisclaimers.push({value:"",label:r})}else{this.visibleDisclaimers.splice(-1,1);r="+"+(this.selectedOptions.length-o).toString();this.visibleDisclaimers.push({value:"",label:r})}}}},n.prototype.updateVisibleItems=function(){this.visibleDisclaimers=[].concat(this.selectedOptions),this.debounceResize(),this.inputElement.nativeElement.offsetWidth||(this.isCalculateVisibleItems=!0)},n.prototype.debounceResize=function(){var t=this;clearTimeout(this.timeoutResize),this.timeoutResize=setTimeout(function(){t.calculateVisibleItems()},200)},n.prototype.onKeyDown=function(t){if(38===t.keyCode||40===t.keyCode)return t.preventDefault(),void this.controlDropdownVisibility(!0);9!==t.keyCode||this.controlDropdownVisibility(!1)},n.prototype.toggleDropdownVisibility=function(){this.disabled||this.controlDropdownVisibility(!this.dropdownOpen)},n.prototype.openDropdown=function(t){t&&!this.disabled&&this.controlDropdownVisibility(!0)},n.prototype.controlDropdownVisibility=function(t){this.dropdownIcon=t?"thf-icon-arrow-up":"thf-icon-arrow-down",this.dropdownOpen=t,this.dropdown.controlVisibility(t),this.setVisibleOptionsDropdown(this.options),t?(this.initializeClickoutListener(),this.setPositionOpeningDropdown()):this.removeClickoutListener()},n.prototype.setPositionOpeningDropdown=function(){var t=this;if(this.selectedOptions&&this.selectedOptions.length){var e=this.options.findIndex(function(e){return e.value===t.selectedOptions[0].value});this.dropdown.scrollTo(e)}},n.prototype.setVisibleOptionsDropdown=function(t){this.visibleOptionsDropdown=t},n.prototype.changeSearch=function(t){t&&t.value?this.searchByLabel(t.value,this.options,this.filterMode):this.setVisibleOptionsDropdown(this.options)},n.prototype.getPlaceholder=function(){return this.placeholder&&!this.visibleDisclaimers.length?this.placeholder:""},n.prototype.closeDisclaimer=function(t){var e=this.selectedOptions.findIndex(function(e){return e.value===t});this.selectedOptions.splice(e,1),this.updateVisibleItems(),this.callOnChange(this.selectedOptions)},n.prototype.wasClickedOnToggle=function(t){this.inputElement.nativeElement.contains(t.target)||this.iconElement.nativeElement.contains(t.target)||this.dropdownElement.nativeElement.contains(t.target)||this.disclaimerContainerElement.nativeElement.contains(t.target)||!this.dropdownOpen||this.controlDropdownVisibility(!1)},n.prototype.initializeClickoutListener=function(){var t=this;this.clickoutListener=this.renderer.listen("document","click",function(e){t.wasClickedOnToggle(e)})},n.prototype.initializeResizeListener=function(){var t=this;this.resizeListener=this.renderer.listen("window","resize",function(e){t.updateVisibleItems()})},n.prototype.removeClickoutListener=function(){this.clickoutListener&&this.clickoutListener()},n.prototype.removeResizeListener=function(){this.resizeListener()},n.decorators=[{type:e.Component,args:[{selector:"thf-multiselect",template:'<thf-field-container [t-label]="label" [t-help]="help" [t-opcional]="!required"> <div class="thf-field-container-content" [class.thf-multiselect-show]="dropdownOpen"> <input #inputElement class="thf-input thf-input-icon-right thf-clickable" readonly type="text" [value]="getPlaceholder()" [disabled]="disabled" (keydown)="onKeyDown($event)" (click)="toggleDropdownVisibility()"> <div class="thf-field-icon-container-right"> <span #iconElement class="thf-icon thf-field-icon {{ dropdownIcon }}" [ngClass]="disabled ? \'thf-field-icon-disabled\' : \'\'" (click)="toggleDropdownVisibility()"> </span> </div> <div #disclaimerContainer class="thf-multiselect-field" [class.thf-multiselect-field-disabled]="disabled"> <thf-disclaimer *ngFor="let disclaimer of visibleDisclaimers" [t-label]="disclaimer.label" [t-value]="disclaimer.value" [t-hide-close]="disclaimer.value === \'\' || disabled" [class.thf-clickable]="disclaimer.value === \'\' && !disabled" (click)="openDropdown(disclaimer.value === \'\')" (t-close-action)="closeDisclaimer(disclaimer.value)"> </thf-disclaimer> </div> <thf-multiselect-dropdown #dropdownElement [t-hide-search]="hideSearch" [t-literals]="literals" [t-options]="visibleOptionsDropdown" [t-selected-values]="getValuesFromOptions(selectedOptions)" [t-placeholder-search]="placeholderSearch" (t-change)="changeItems($event)" (t-change-search)="changeSearch($event)" (t-close-dropdown)="controlDropdownVisibility(false)"> </thf-multiselect-dropdown> </div> <thf-field-container-bottom></thf-field-container-bottom> </thf-field-container> ',providers:[{provide:r.NG_VALUE_ACCESSOR,useExisting:e.forwardRef(function(){return n}),multi:!0},{provide:r.NG_VALIDATORS,useExisting:e.forwardRef(function(){return n}),multi:!0}]}]}],n.ctorParameters=function(){return[{type:e.ElementRef},{type:e.Renderer2}]},n.propDecorators={dropdownElement:[{type:e.ViewChild,args:["dropdownElement",{read:e.ElementRef}]}],dropdown:[{type:e.ViewChild,args:["dropdownElement"]}],disclaimerContainerElement:[{type:e.ViewChild,args:["disclaimerContainer",{read:e.ElementRef}]}],iconElement:[{type:e.ViewChild,args:["iconElement",{read:e.ElementRef}]}],inputElement:[{type:e.ViewChild,args:["inputElement",{read:e.ElementRef}]}]},n}(Hn),Un=function(){function t(){this.option=null,this.selected=!1,this.change=new e.EventEmitter}return t.prototype.itemClicked=function(){this.selected=!this.selected,this.change.emit(this.selected)},t.decorators=[{type:e.Component,args:[{selector:"thf-multiselect-item",template:'<li [value]="option?.value" (click)="itemClicked()" [class.thf-multiselect-item-selected]="selected"> <a class="thf-multiselect-item"> <input [checked]="selected" class="thf-multiselect-checkbox-input" [class.thf-multiselect-checkbox-input-checked]="selected" type="checkbox"> <label class="thf-multiselect-checkbox-label thf-clickable"> {{ option?.label }} </label> </a> </li> '}]}],t.propDecorators={option:[{type:e.Input,args:["t-option"]}],selected:[{type:e.Input,args:["t-selected"]}],change:[{type:e.Output,args:["t-change"]}]},t}(),Yn=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Kn=function(t){function n(e){return t.call(this,e)||this}return Yn(n,t),n.prototype.extraValidation=function(t){return null},n.decorators=[{type:e.Component,args:[{selector:"thf-input",template:'<thf-field-container [t-help]="help" [t-label]="label" [t-opcional]="!required"> <div class="thf-field-container-content"> <div *ngIf="icon" class="thf-field-icon-container-left"> <span class="thf-icon thf-field-icon {{ icon }}" [class.thf-field-icon-disabled]="disabled"></span> </div> <input #inp class="thf-input" [attr.name]="name" [class.thf-input-icon-left]="icon" [class.thf-input-icon-right]="clean" [disabled]="disabled" [placeholder]="placeholder" [readonly]="readonly" [required]="required" [type]="type" (blur)="eventOnBlur($event)" (click)="eventOnClick($event)" (focus)="eventOnFocus($event)" (input)="eventOnInput($event)"> <div class="thf-field-icon-container-right"> <thf-clean [t-element-ref]="inputEl" (t-change-event)="clear($event)"></thf-clean> </div> </div> <thf-field-container-bottom [t-error-pattern]="getErrorPattern()"> </thf-field-container-bottom> </thf-field-container> ',providers:[{provide:r.NG_VALUE_ACCESSOR,useExisting:e.forwardRef(function(){return n}),multi:!0},{provide:r.NG_VALIDATORS,useExisting:e.forwardRef(function(){return n}),multi:!0}]}]}],n.ctorParameters=function(){return[{type:e.ElementRef}]},n}(Cn),Gn=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Xn=function(t){function e(e){var n=t.call(this,e)||this;return n.type="number",n}return Gn(e,t),e.prototype.eventOnInput=function(t){if(!this.mask){var e=t.target.value,n=this.validMaxLength(this.maxlength,e);e!==n&&(e=n,this.inputEl.nativeElement.value=e),this.callOnChange(this.formatNumber(e))}},e.prototype.validMaxLength=function(t,e){if(t&&e.length>t){var n=e.toString().substring(0,t);return n&&this.isEndWithDot(n)?n.toString().substring(0,t-1):n}return e},e.prototype.writeValueModel=function(t){this.inputEl&&(t||0===t?this.mask?(this.inputEl.nativeElement.value=this.objMask.controlFormatting(String(t)),this.objMask.formatModel&&this.onChangePropagate(this.objMask.valueToModel)):this.inputEl.nativeElement.value=t:this.inputEl.nativeElement.value=""),this.changeModel.emit(t)},e.prototype.isEndWithDot=function(t){return t&&t.lastIndexOf(".")===t.length-1},e.prototype.formatNumber=function(t){return t?Number(t):null},e}(Cn),Jn=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Zn=function(t){function n(e){var n=t.call(this,e)||this;return n.step="1",n}return Jn(n,t),Object.defineProperty(n.prototype,"setMin",{set:function(t){var e=parseInt(t,10);this.min=isNaN(e)?void 0:e,this.validateModel()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"setMax",{set:function(t){var e=parseInt(t,10);this.max=isNaN(e)?void 0:e,this.validateModel()},enumerable:!0,configurable:!0}),n.prototype.extraValidation=function(t){return e=this.min,((n=t.value)||0===n)&&(e||0===e)&&n<e?{min:{valid:!1}}:function(t,e){return(e||0===e)&&(t||0===t)&&e>t}(this.max,t.value)?{max:{valid:!1}}:null;var e,n},n.decorators=[{type:e.Component,args:[{selector:"thf-number",template:'<thf-field-container [t-help]="help" [t-label]="label" [t-opcional]="!required"> <div class="thf-field-container-content"> <input #inp class="thf-input" type="number" [attr.max]="max" [attr.min]="min" [attr.name]="name" [attr.step]="step" [class.thf-input-icon-right]="clean" [disabled]="disabled" [placeholder]="placeholder" [readonly]="readonly" [required]="required" [tabindex]="disabled ? -1 : 0" (blur)="eventOnBlur($event)" (focus)="eventOnFocus($event)" (input)="eventOnInput($event)"> <div class="thf-field-icon-container-right"> <thf-clean [t-default-value]="null" [t-element-ref]="inputEl" (t-change-event)="clear($event)"> </thf-clean> </div> </div> <thf-field-container-bottom [t-error-pattern]="getErrorPattern()"> </thf-field-container-bottom> </thf-field-container> ',providers:[{provide:r.NG_VALUE_ACCESSOR,useExisting:e.forwardRef(function(){return n}),multi:!0},{provide:r.NG_VALIDATORS,useExisting:e.forwardRef(function(){return n}),multi:!0}]}]}],n.ctorParameters=function(){return[{type:e.ElementRef}]},n.propDecorators={setMin:[{type:e.Input,args:["t-min"]}],setMax:[{type:e.Input,args:["t-max"]}],step:[{type:e.Input,args:["t-step"]}]},n}(Xn),Qn=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ti=function(t){function n(e){var n=t.call(this,e)||this;return n._hidePasswordPeek=!1,n.type="password",n.visiblePassword=!1,n}return Qn(n,t),Object.defineProperty(n.prototype,"hidePasswordPeek",{get:function(){return this._hidePasswordPeek},set:function(t){this._hidePasswordPeek=E(t),t&&(this.visiblePassword=!1,this.type="password")},enumerable:!0,configurable:!0}),n.prototype.extraValidation=function(t){return null},n.prototype.showPassword=function(){this.visiblePassword=!this.visiblePassword,this.type="password"===this.type?"text":"password"},n.decorators=[{type:e.Component,args:[{selector:"thf-password",template:'<thf-field-container [t-label]="label" [t-help]="help" [t-opcional]="!required"> <div class="thf-field-container-content"> <div class="thf-field-icon-container-left"> <span class="thf-icon thf-field-icon thf-icon-lock" [class.thf-field-icon-disabled]="disabled"> </span> </div> <input #inp class="thf-input thf-input-icon-left" [ngClass]="clean && inp.value && !hidePasswordPeek ? \'thf-input-double-icon-right\' : \'thf-input-icon-right\'" [attr.name]="name" [class.thf-input-icon-right]="clean" [disabled]="disabled" [placeholder]="placeholder" [readonly]="readonly" [required]="required" [type]="disabled ? \'password\' : type" (blur)="eventOnBlur($event)" (click)="eventOnClick($event)" (focus)="eventOnFocus($event)" (input)="eventOnInput($event)"> <div class="thf-field-icon-container-right"> <thf-clean  class="thf-icon thf-field-icon" [t-element-ref]="inputEl" (t-change-event)="clear($event)"> </thf-clean> <span *ngIf="!hidePasswordPeek && !disabled" class="thf-icon thf-field-icon" [ngClass]="visiblePassword ? \'thf-icon-eye\' : \'thf-icon-eye-off thf-field-icon-disabled\'" (click)="showPassword()"> </span> </div> </div> <thf-field-container-bottom [t-error-pattern]="getErrorPattern()"> </thf-field-container-bottom> </thf-field-container> ',providers:[{provide:r.NG_VALUE_ACCESSOR,useExisting:e.forwardRef(function(){return n}),multi:!0},{provide:r.NG_VALIDATORS,useExisting:e.forwardRef(function(){return n}),multi:!0}]}]}],n.ctorParameters=function(){return[{type:e.ElementRef}]},n.propDecorators={hidePasswordPeek:[{type:e.Input,args:["t-hide-password-peek"]}]},n}(Cn),ei=6,ni=function(){function t(){this._columns=ei,this._disabled=!1,this._required=!1,this.mdColumns=ei,this.onChangePropagate=null,this.change=new e.EventEmitter}return Object.defineProperty(t.prototype,"columns",{get:function(){return this._columns},set:function(t){var e=S(t,ei);this._columns=this.getGridSystemColumns(e,4),this.mdColumns=this.getGridSystemColumns(e,2)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this._disabled},set:function(t){this._disabled=E(t),this.validateModel()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"required",{get:function(){return this._required},set:function(t){this._required=E(t),this.validateModel()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this._options},set:function(t){this._options=t,j(this.options)},enumerable:!0,configurable:!0}),t.prototype.changeValue=function(t){this.onChangePropagate&&this.onChangePropagate(t),this.value!==t&&this.change.emit(t),this.value=t},t.prototype.registerOnChange=function(t){this.onChangePropagate=t},t.prototype.registerOnTouched=function(t){},t.prototype.registerOnValidatorChange=function(t){this.validatorChange=t},t.prototype.validate=function(t){if(Ne(this.required,this.disabled,t.value))return{required:{valid:!1}}},t.prototype.writeValue=function(t){this.value=t,!this.getElementByValue(t)&&this.onChangePropagate&&(this.value=void 0,this.onChangePropagate(this.value))},t.prototype.checkColumnsRange=function(t,e){return t>=1&&t<=e},t.prototype.getGridSystemColumns=function(t,e){var n=12/t;return this.checkColumnsRange(t,e)?n:ei},t.prototype.validateModel=function(){this.validatorChange&&this.validatorChange()},t.propDecorators={name:[{type:e.Input,args:["name"]}],columns:[{type:e.Input,args:["t-columns"]}],disabled:[{type:e.Input,args:["t-disabled"]}],required:[{type:e.Input,args:["t-required"]}],options:[{type:e.Input,args:["t-options"]}],change:[{type:e.Output,args:["t-change"]}]},t}(),ii=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),oi=function(t){function n(e){var n=t.call(this)||this;return n.differ=e.find([]).create(null),n}return ii(n,t),n.prototype.ngDoCheck=function(){this.differ.diff(this.options)&&j(this.options)},n.prototype.eventClick=function(t,e){e||this.changeValue(t)},n.prototype.getElementByValue=function(t){return this.inputEl.nativeElement.querySelector("input[value='"+t+"']")},n.prototype.onKeyUp=function(t,e){var n=t.keyCode||t.which;this.isArrowKey(n)&&this.changeValue(e)},n.prototype.isArrowKey=function(t){return t>=37&&t<=40},n.decorators=[{type:e.Component,args:[{selector:"thf-radio-group",template:'<thf-field-container [t-help]="help" [t-label]="label" [t-opcional]="!required"> <div class="thf-row thf-pt-1 thf-pb-1" #inp> <div *ngFor="let option of options" class="thf-radio-group-item thf-md-{{ mdColumns }} thf-lg-{{ columns }}"> <input #input class="thf-radio-group-input" type="radio" [attr.name]="name" [checked]="value === option.value" [class.thf-radio-group-input-checked]="value === option.value" [disabled]="option.disabled === true || disabled" [readonly]="readonly" [required]="required" [value]="option.value" (keyup)="onKeyUp($event, option.value)"> <label class="thf-radio-group-label" [class.thf-clickable]="!input.disabled" [for]="name" (click)="eventClick(option.value, option.disabled === true || disabled)"> {{ option.label }} </label> </div> </div> <thf-field-container-bottom></thf-field-container-bottom> </thf-field-container> ',providers:[{provide:r.NG_VALUE_ACCESSOR,useExisting:e.forwardRef(function(){return n}),multi:!0},{provide:r.NG_VALIDATORS,useExisting:e.forwardRef(function(){return n}),multi:!0}]}]}],n.ctorParameters=function(){return[{type:e.IterableDiffers}]},n.propDecorators={label:[{type:e.Input,args:["t-label"]}],help:[{type:e.Input,args:["t-help"]}],inputEl:[{type:e.ViewChild,args:["inp",{read:e.ElementRef}]}]},n}(ni),ri=function(){function t(t,n){this.element=t,this._disabled=!1,this._required=!1,this.change=new e.EventEmitter,this.ngModelChange=new e.EventEmitter,this.readyToValidation=!1,this.element=t,this.changeDetector=n}return Object.defineProperty(t.prototype,"options",{get:function(){return this._options},set:function(t){this._options=t,j(this._options),N(this._options),this.onUpdateOptions()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this._disabled},set:function(t){this._disabled=E(t),this.validateModel()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"required",{get:function(){return this._required},set:function(t){this._required=E(t),this.validateModel()},enumerable:!0,configurable:!0}),t.prototype.callModelChange=function(t){return this.onModelChange?this.onModelChange(t):this.ngModelChange.emit(t)},t.prototype.onChange=function(t){this.change.emit(t)},t.prototype.validate=function(t){return Ne(this._required,this._disabled,t.value)?{required:{valid:!1}}:null},t.prototype.registerOnChange=function(t){this.onModelChange=t},t.prototype.registerOnTouched=function(t){this.onModelTouched=t},t.prototype.registerOnValidatorChange=function(t){this.onValidatorChange=t},t.prototype.validateModel=function(){this.onValidatorChange&&this.onValidatorChange()},t.propDecorators={label:[{type:e.Input,args:["t-label"]}],name:[{type:e.Input,args:["name"]}],help:[{type:e.Input,args:["t-help"]}],placeholder:[{type:e.Input,args:["t-placeholder"]}],options:[{type:e.Input,args:["t-options"]}],change:[{type:e.Output,args:["t-change"]}],ngModelChange:[{type:e.Output,args:["ngModelChange"]}],disabled:[{type:e.Input,args:["t-disabled"]}],required:[{type:e.Input,args:["t-required"]}]},t}(),si=function(){function t(t){this.templateRef=t}return t.decorators=[{type:e.Directive,args:[{selector:"[t-select-option-template]"}]}],t.ctorParameters=function(){return[{type:e.TemplateRef}]},t}(),ai=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),li="bottom",ci=function(t){function n(e,n,i,o,r){var s=t.call(this,e,n)||this;return s.renderer=o,s.controlPosition=r,s.isMobile=L(),s.open=!1,s.selectIcon="thf-icon-arrow-down",s.onScroll=function(){s.controlPosition.adjustPosition(li)},s.differ=i.find([]).create(null),s}return ai(n,t),n.prototype.onKeydown=function(t){var e=t.which||t.keyCode;this.open&&!t.altKey||40!==e&&38!==e||this.disableDefaultEventAndToggleButton(),13!==e&&32!==e||this.disableDefaultEventAndToggleButton(),this.open&&9===e&&(t.preventDefault(),this.toggleButton())},n.prototype.ngDoCheck=function(){this.differ.diff(this.options)&&(j(this.options),N(this.options))},n.prototype.hideDropDown=function(){this.selectIcon="thf-icon-arrow-down",this.selector(".thf-select-container").classList.remove("thf-select-show"),this.open=!1,this.changeDetector.markForCheck(),this.removeListeners()},n.prototype.isEqual=function(t,e){return(t||0===t)&&e?t.toString()===e.toString():((null===t&&null!==e||void 0===t&&void 0!==e)&&(t=""+t),t===e)},n.prototype.onOptionClick=function(t){this.toggleButton(),this.updateModel(t)},n.prototype.onSelectChange=function(t){var e=this,n=this.element.nativeElement.querySelector("ul.thf-select-content");if(t&&this.options&&this.options.length){var i=this.options.find(function(n){return e.isEqual(n.value,t)});if(i){var o=this.options.indexOf(i);n.scrollTop=this.scrollValue(o,n.clientHeight),this.updateModel(i)}}},n.prototype.onUpdateOptions=function(){this.modelValue&&this.onSelectChange(this.modelValue)},n.prototype.scrollValue=function(t,e){var n=(t+1)*this.getSelectItemHeight();return this.scrollPosition=n>e?n:0},n.prototype.selector=function(t){return this.element.nativeElement.querySelector(t)},n.prototype.toggleButton=function(){var t=this.element.nativeElement.querySelector("ul.thf-select-content");this.selectElement.nativeElement.focus(),this.selectIcon=this.open?"thf-icon-arrow-down":"thf-icon-arrow-up",this.changeDetector.markForCheck(),this.options&&this.options.length&&(this.selector(".thf-select-container").classList.toggle("thf-select-show"),t.scrollTop=this.scrollPosition),this.open=!this.open,this.open?(this.setPositionDropdown(),this.initializeListeners()):this.removeListeners()},n.prototype.updateModel=function(t){this.selectedValue!==t.value&&(this.selectedValue=t.value,this.selectElement.nativeElement.value=t.value,this.callModelChange(t.value),this.displayValue=t.label,this.onChange(t.value))},n.prototype.wasClickedOnToggle=function(t){this.selectButtonElement.nativeElement.contains(t.target)||this.iconElement.nativeElement.contains(t.target)||this.hideDropDown()},n.prototype.writeValue=function(t){var e=this,n=this.options.find(function(n){return e.isEqual(n.value,t)});n?(this.selectElement.nativeElement.value=n.value,this.selectedValue=n.value,this.displayValue=n.label):z(this.selectedValue)&&(this.selectElement.nativeElement.value=void 0,this.callModelChange(void 0),this.selectedValue=void 0,this.displayValue=void 0),this.modelValue=t,this.changeDetector.detectChanges()},n.prototype.disableDefaultEventAndToggleButton=function(){var t=this;this.selectElement.nativeElement.style.display="none",setTimeout(function(){t.selectElement.nativeElement.style.display="block",t.toggleButton()})},n.prototype.getSelectItemHeight=function(){var t=this.selector("div.thf-select-item");return t&&t.clientHeight},n.prototype.initializeListeners=function(){var t=this;this.clickoutListener=this.renderer.listen("document","click",function(e){t.wasClickedOnToggle(e)}),this.eventResizeListener=this.renderer.listen("window","resize",function(){t.hideDropDown()}),window.addEventListener("scroll",this.onScroll,!0)},n.prototype.removeListeners=function(){this.clickoutListener&&this.clickoutListener(),this.eventResizeListener(),window.removeEventListener("scroll",this.onScroll,!0)},n.prototype.setPositionDropdown=function(){this.controlPosition.setElements(this.contentList.nativeElement,8,this.selectButtonElement,["top","bottom"],!0),this.controlPosition.adjustPosition(li)},n.decorators=[{type:e.Component,args:[{selector:"thf-select",template:'<thf-field-container [t-label]="label" [t-help]="help" [t-opcional]="!required"> <select #select class="thf-select" [attr.name]="name" [disabled]="disabled" [ngClass]="{\'thf-select-mobile\' : isMobile}" [required]="required" (change)="onSelectChange($event.target.value)"> <option *ngIf="isMobile" disabled hidden selected></option> <option *ngFor="let option of options" [value]="option.value" (click)="onOptionClick(option)"> {{option?.label}} </option> </select> <div class="thf-select-container"> <div #selectButton class="thf-select-button" [ngClass]="{\'thf-select-button-disabled\' : disabled}" (click)="toggleButton()"> <span>{{displayValue || placeholder}}</span> <div class="thf-field-icon-container-right"> <span #icon class="thf-icon {{selectIcon}}" [ngClass]="disabled ? \'thf-field-icon-disabled\' : \'thf-field-icon\'"></span> </div> </div> <ul #contentList class="thf-select-content" [ngClass]="{\'thf-invisible\': isMobile}"> <li *ngFor="let option of options" [class.thf-select-item-selected]="selectedValue == option.value" [value]="option.value" (click)="onOptionClick(option)"> <div class="thf-select-item"> <ng-container *ngIf="selectOptionTemplate; then optionTemplate; else defaultOptionTemplate"></ng-container> <ng-template #defaultOptionTemplate> <span>{{option?.label}}</span> </ng-template> <ng-template #optionTemplate [ngTemplateOutlet]="selectOptionTemplate?.templateRef" [ngTemplateOutletContext]="{$implicit: option}"> </ng-template> </div> </li> </ul> </div> <thf-field-container-bottom></thf-field-container-bottom> </thf-field-container> ',changeDetection:e.ChangeDetectionStrategy.OnPush,providers:[{provide:r.NG_VALUE_ACCESSOR,useExisting:e.forwardRef(function(){return n}),multi:!0},{provide:r.NG_VALIDATORS,useExisting:e.forwardRef(function(){return n}),multi:!0},se]}]}],n.ctorParameters=function(){return[{type:e.ElementRef},{type:e.ChangeDetectorRef},{type:e.IterableDiffers},{type:e.Renderer2},{type:se}]},n.propDecorators={selectOptionTemplate:[{type:e.ContentChild,args:[si]}],contentList:[{type:e.ViewChild,args:["contentList",{read:e.ElementRef}]}],iconElement:[{type:e.ViewChild,args:["icon",{read:e.ElementRef}]}],selectElement:[{type:e.ViewChild,args:["select",{read:e.ElementRef}]}],selectButtonElement:[{type:e.ViewChild,args:["selectButton",{read:e.ElementRef}]}],onKeydown:[{type:e.HostListener,args:["keydown",["$event"]]}]},n}(ri),ui={Right:0,Left:1};ui[ui.Right]="Right",ui[ui.Left]="Left";var pi=function(){function t(){this._disabled=!1,this.switchValue=!1,this.labelOn="true",this.labelOff="false",this.labelPosition=ui.Right,this.change=new e.EventEmitter,this.ngModelChange=new e.EventEmitter}return Object.defineProperty(t.prototype,"setLabelOn",{set:function(t){this.labelOn=t||"true"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"setLabelOff",{set:function(t){this.labelOff=t||"false"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"setLabelPosition",{set:function(t){this.labelPosition=t in ui?parseInt(t,10):ui.Right},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this._disabled},set:function(t){this._disabled=E(t)},enumerable:!0,configurable:!0}),t.prototype.changeValue=function(t){this.switchValue!==t&&(this.switchValue=t,this.propagateChange?this.propagateChange(t):this.ngModelChange.emit(t),this.change.emit(this.switchValue))},t.prototype.eventClick=function(){this.disabled||this.changeValue(!this.switchValue)},t.prototype.registerOnChange=function(t){this.propagateChange=t},t.prototype.registerOnTouched=function(t){},t.prototype.writeValue=function(t){t!==this.switchValue&&(this.switchValue=!!t)},t.propDecorators={name:[{type:e.Input,args:["name"]}],label:[{type:e.Input,args:["t-label"]}],help:[{type:e.Input,args:["t-help"]}],setLabelOn:[{type:e.Input,args:["t-label-on"]}],setLabelOff:[{type:e.Input,args:["t-label-off"]}],setLabelPosition:[{type:e.Input,args:["t-label-position"]}],disabled:[{type:e.Input,args:["t-disabled"]}],required:[{type:e.Input,args:["t-required"]}],change:[{type:e.Output,args:["t-change"]}],ngModelChange:[{type:e.Output,args:["ngModelChange"]}]},t}(),hi=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),di=function(t){function n(e){var n=t.call(this)||this;return n.changeDetector=e,n}return hi(n,t),n.prototype.ngAfterViewChecked=function(){this.changeDetector.detectChanges()},n.prototype.getLabelPosition=function(){switch(this.labelPosition){case ui.Left:return"left";case ui.Right:default:return"right"}},n.prototype.getSwitchPosition=function(){switch(this.labelPosition){case ui.Left:return"right";case ui.Right:default:return"left"}},n.prototype.onKeyDown=function(t){32!==t.which&&32!==t.keyCode||(t.preventDefault(),this.eventClick())},n.decorators=[{type:e.Component,args:[{selector:"thf-switch",template:'<thf-field-container [t-label]="label" [t-help]="help"> <div class="thf-field-container-content thf-switch-content" [attr.name]="name"> <div class="thf-switch-container thf-clickable" [class.thf-switch-container-disabled]="disabled" [class.thf-switch-container-off]="switchValue === false && !disabled" [class.thf-switch-container-on]="switchValue === true && !disabled" [class.thf-switch-container-right]="getSwitchPosition() === \'right\'" [tabindex]="disabled ? -1 : 0" (click)="eventClick()" (keydown)="onKeyDown($event)"> <div class="thf-switch-button" [class.thf-switch-button-on]="switchValue === true" [class.thf-switch-button-off]="switchValue === false" [class.thf-switch-button-disabled]="disabled"> <span class="thf-icon thf-icon-{{ switchValue === true ? \'ok\' : \'close\' }}"></span> </div> </div> <span class="thf-switch-label thf-clickable thf-switch-label-{{ getLabelPosition() }}" (click)="eventClick()"> {{ switchValue === true ? labelOn : labelOff }} </span> </div> <thf-field-container-bottom></thf-field-container-bottom> </thf-field-container> ',providers:[{provide:r.NG_VALUE_ACCESSOR,useExisting:e.forwardRef(function(){return n}),multi:!0}]}]}],n.ctorParameters=function(){return[{type:e.ChangeDetectorRef}]},n}(pi),fi=function(){function t(){this._disabled=!1,this._focus=!1,this._readonly=!1,this._required=!1,this._rows=3,this.onChangePropagate=null,this.onTouched=null,this.placeholder="",this.blur=new e.EventEmitter,this.enter=new e.EventEmitter,this.change=new e.EventEmitter,this.changeModel=new e.EventEmitter}return Object.defineProperty(t.prototype,"disabled",{get:function(){return this._disabled},set:function(t){this._disabled=E(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"readonly",{get:function(){return this._readonly},set:function(t){this._readonly=E(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"required",{get:function(){return this._required},set:function(t){this._required=E(t),this.validateModel()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"focus",{get:function(){return this._focus},set:function(t){this._focus=E(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minlength",{get:function(){return this._minlength},set:function(t){this._minlength=S(t),this.validateModel()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxlength",{get:function(){return this._maxlength},set:function(t){this._maxlength=S(t),this.validateModel()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rows",{get:function(){return this._rows},set:function(t){this._rows=isNaN(parseInt(t,10))||t<3?3:parseInt(t,10)},enumerable:!0,configurable:!0}),t.prototype.callOnChange=function(t){this.onChangePropagate&&this.onChangePropagate(t),this.controlChangeModelEmitter(t)},t.prototype.controlChangeModelEmitter=function(t){this.modelLastUpdate!==t&&(this.changeModel.emit(t),this.modelLastUpdate=t)},t.prototype.registerOnChange=function(t){this.onChangePropagate=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.registerOnValidatorChange=function(t){this.validatorChange=t},t.prototype.validate=function(t){return Ne(this.required,this.disabled,t.value)?{required:{valid:!1}}:qe(this.minlength,t.value)?{minlength:{valid:!1}}:ze(this.maxlength,t.value)?{maxlength:{valid:!1}}:void 0},t.prototype.writeValue=function(t){this.writeValueModel(t)},t.prototype.validateModel=function(){this.validatorChange&&this.validatorChange()},t.propDecorators={label:[{type:e.Input,args:["t-label"]}],help:[{type:e.Input,args:["t-help"]}],placeholder:[{type:e.Input,args:["t-placeholder"]}],name:[{type:e.Input,args:["name"]}],disabled:[{type:e.Input,args:["t-disabled"]}],readonly:[{type:e.Input,args:["t-readonly"]}],required:[{type:e.Input,args:["t-required"]}],focus:[{type:e.Input,args:["t-focus"]}],minlength:[{type:e.Input,args:["t-minlength"]}],maxlength:[{type:e.Input,args:["t-maxlength"]}],rows:[{type:e.Input,args:["t-rows"]}],blur:[{type:e.Output,args:["t-blur"]}],enter:[{type:e.Output,args:["t-enter"]}],change:[{type:e.Output,args:["t-change"]}],changeModel:[{type:e.Output,args:["t-change-model"]}]},t}(),gi=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),mi=function(t){function n(){var e=t.call(this)||this;return e.fireChange=!1,e}return gi(n,t),n.prototype.writeValueModel=function(t){this.inputEl&&(this.inputEl.nativeElement.value=t||""),t&&this.change.emit(t)},n.prototype.validMaxLength=function(t,e){return t&&e.length>t?e.toString().substring(0,t):e},n.prototype.eventOnInput=function(t){var e=this.validMaxLength(this.maxlength,t.target.value);this.callOnChange(e),this.inputEl.nativeElement.value=e},n.prototype.eventOnFocus=function(){this.valueBeforeChange=this.inputEl.nativeElement.value,this.enter.emit()},n.prototype.eventOnBlur=function(){this.blur.emit(),this.controlChangeEmitter()},n.prototype.controlChangeEmitter=function(){var t=this.inputEl.nativeElement.value;t!==this.valueBeforeChange&&this.change.emit(t)},n.decorators=[{type:e.Component,args:[{selector:"thf-textarea",template:'<thf-field-container [t-help]="help" [t-label]="label" [t-opcional]="!required"> <div class="thf-field-container-content"> <textarea #inp class="thf-textarea" (blur)="eventOnBlur()" (focus)="eventOnFocus()" (input)="eventOnInput($event)" [attr.name]="name" [disabled]="disabled" [placeholder]="placeholder" [readonly]="readonly" [required]="required" [rows]="rows"> </textarea> </div> <thf-field-container-bottom></thf-field-container-bottom> </thf-field-container> ',providers:[{provide:r.NG_VALUE_ACCESSOR,useExisting:e.forwardRef(function(){return n}),multi:!0},{provide:r.NG_VALIDATORS,useExisting:e.forwardRef(function(){return n}),multi:!0}]}]}],n.ctorParameters=function(){return[]},n.propDecorators={inputEl:[{type:e.ViewChild,args:["inp",{read:e.ElementRef}]}]},n}(fi),yi=function(){return(yi=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},bi={en:{selectFile:"Select file",deleteFile:"Delete",cancel:"Cancel",tryAgain:"Try again",startSending:"Start sending"},es:{selectFile:"Seleccionar archivo",deleteFile:"Borrar",cancel:"Cancelar",tryAgain:"Intentar de nuevo",startSending:"Iniciar carga"},pt:{selectFile:"Selecionar arquivo",deleteFile:"Excluir",cancel:"Cancelar",tryAgain:"Tentar Novamente",startSending:"Iniciar envio"}},vi=function(){function t(){this.name="file",this.autoUpload=!1,this.onUpload=new e.EventEmitter,this.onError=new e.EventEmitter,this.onSuccess=new e.EventEmitter,this.ngModelChange=new e.EventEmitter}return Object.defineProperty(t.prototype,"literals",{get:function(){return this._literals||bi[P()]},set:function(t){t instanceof Object&&!(t instanceof Array)?this._literals=yi({},bi[_],bi[P()],t):this._literals=bi[P()]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fileRestrictions",{get:function(){return this._fileRestrictions},set:function(t){this._fileRestrictions=t,this.setAllowedExtensions(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formField",{get:function(){return this._formField},set:function(t){this._formField=t&&"string"==typeof t?t:"files",this.getUploadService().formField=this.formField},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this._disabled},set:function(t){this._disabled=E(t),this.validateModel(this.currentFiles)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"required",{get:function(){return this._required},set:function(t){this._required=E(t),this.validateModel(this.currentFiles)},enumerable:!0,configurable:!0}),t.prototype.registerOnChange=function(t){this.onModelChange=t},t.prototype.registerOnTouched=function(t){this.onModelTouched=t},t.prototype.registerOnValidatorChange=function(t){this.validatorChange=t},t.prototype.validate=function(t){if(Ne(this.required,this.disabled,t.value))return{required:{valid:!1}}},t.prototype.setAllowedExtensions=function(t){void 0===t&&(t={});var e=t.allowedExtensions||[];this.allowedExtensions=e.join(",")},t.prototype.validateModel=function(t){this.validatorChange&&this.validatorChange(t)},t.propDecorators={label:[{type:e.Input,args:["t-label"]}],literals:[{type:e.Input,args:["t-literals"]}],help:[{type:e.Input,args:["t-help"]}],url:[{type:e.Input,args:["t-url"]}],fileRestrictions:[{type:e.Input,args:["t-restrictions"]}],name:[{type:e.Input,args:["name"]}],formField:[{type:e.Input,args:["t-form-field"]}],disabled:[{type:e.Input,args:["t-disabled"]}],autoUpload:[{type:e.Input,args:["t-auto-upload"]}],isMultiple:[{type:e.Input,args:["t-multiple"]}],required:[{type:e.Input,args:["t-required"]}],onUpload:[{type:e.Output,args:["t-upload"]}],onError:[{type:e.Output,args:["t-error"]}],onSuccess:[{type:e.Output,args:["t-success"]}],ngModelChange:[{type:e.Output,args:["ngModelChange"]}]},t}(),wi={Uploaded:0,Uploading:1,Error:2,None:3};wi[wi.Uploaded]="Uploaded",wi[wi.Uploading]="Uploading",wi[wi.Error]="Error",wi[wi.None]="None";var Ci=function(){function t(t){t&&(this.name=t.name,this.extension=this.getExtension(t.name),this.size=t.size,this.rawFile=t,this.uid=this.generateUUID(),this.status=wi.None)}return t.prototype.getExtension=function(t){return t?t.substr(t.lastIndexOf(".")).toLowerCase():""},t.prototype.generateUUID=function(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()},t}(),Ii=function(){function t(t){this.http=t,this.formField="files",this.requests=[]}return t.prototype.upload=function(t,e,n,i,o,r){for(var s=e.length,a={data:{},file:null},l=0;l<s;l++){var c=new FormData,u=e[l],p=u.rawFile.name;c.append(this.formField,u.rawFile,p),n&&(a.file=u,n.emit(a),c.append("data",JSON.stringify(a.data))),this.sendFile(t,u,c,i,o,r)}},t.prototype.sendFile=function(t,e,n,i,r,s){var a=this,l=this.getRequest(t,n).subscribe(function(t){if(t.type===o.HttpEventType.UploadProgress){a.addRequest(e,l);var n=Math.round(100*t.loaded/t.total);i(e,n)}else t instanceof o.HttpResponse&&r(e,t)},function(t){s(e,t)})},t.prototype.getRequest=function(t,e){var n=new o.HttpRequest("POST",t,e,{reportProgress:!0});return this.http.request(n)},t.prototype.stopRequestByFile=function(t,e){var n=this.requests.find(function(e){return e.file.uid===t.uid});n&&(n.request.unsubscribe(),this.removeRequest(n),e())},t.prototype.removeRequest=function(t){var e=this.requests.indexOf(t);this.requests.splice(e,1)},t.prototype.addRequest=function(t,e){this.requests.some(function(e){return e.file.uid===t.uid})||this.requests.push({file:t,request:e})},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:o.HttpClient}]},t}(),Oi=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ki=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Oi(n,t),n.decorators=[{type:e.Injectable}],n}(Ii),Di=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),_i=function(t){function n(e,n){var i=t.call(this)||this;return i.elementRef=e,i.uploadService=n,i.calledByCleanInputValue=!1,i}return Di(n,t),Object.defineProperty(n.prototype,"hasFileNotUploaded",{get:function(){return!!Array.isArray(this.currentFiles)&&this.currentFiles.some(function(t){return t.status!==wi.Uploaded})},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isDisabled",{get:function(){var t=this.currentFiles||[];return this.hasAnyFileUploading(this.currentFiles)||!this.url||this.disabled||this.isExceededFileLimit(t.length)},enumerable:!0,configurable:!0}),n.prototype.onClick=function(){this.calledByCleanInputValue=!1,this.inputFile.nativeElement.click()},n.prototype.onFileChange=function(t){if(this.calledByCleanInputValue)return this.calledByCleanInputValue=!1,t.preventDefault();var e=t.target.files;this.currentFiles=this.currentFiles||[],this.currentFiles=this.parseFiles(e),this.updateModel(this.currentFiles.slice()),this.autoUpload&&this.uploadFiles(this.currentFiles),this.cleanInputValue()},n.prototype.updateModel=function(t){this.onModelChange?this.onModelChange(t):this.ngModelChange.emit(t)},n.prototype.uploadFiles=function(t){var e=this,n=t.filter(function(t){return t.status!==wi.Uploaded});this.uploadService.upload(this.url,n,this.onUpload,function(t,n){e.uploadingHandler(t,n)},function(t,n){e.successHandler(t),e.onSuccess.emit(n)},function(t,n){e.errorHandler(t),e.onError.emit(n)})},n.prototype.stopUpload=function(t){var e=this;this.uploadService.stopRequestByFile(t,function(){e.autoUpload?e.removeFile(t):e.stopUploadHandler(t)})},n.prototype.stopUploadHandler=function(t){t.status=wi.None,this.removeFileNameClass(t.uid),this.setProgressStatus(t.uid,0,!1),this.setUploadStatus(t,"thf-upload-progress",100)},n.prototype.uploadingHandler=function(t,e){t.status=wi.Uploading,this.setProgressStatus(t.uid,e,!0),this.setUploadStatus(t,"thf-upload-progress",e)},n.prototype.successHandler=function(t){t.status=wi.Uploaded,this.setProgressStatus(t.uid,0,!1),this.setUploadStatus(t,"thf-upload-progress-success",100)},n.prototype.errorHandler=function(t){t.status=wi.Error,this.setProgressStatus(t.uid,0,!1),this.setUploadStatus(t,"thf-upload-progress-error",100)},n.prototype.isStatusFile=function(t,e){return e.status===wi[t]},n.prototype.hasAnyFileUploading=function(t){return!(!t||!t.length)&&t.some(function(t){return t.status===wi.Uploading})},n.prototype.getThfIcon=function(t){switch(t.status){case wi.Uploaded:return"thf-icon-ok";case wi.Error:return"thf-icon-close";case wi.None:return"thf-icon-info";case wi.Uploading:default:return""}},n.prototype.getUploadService=function(){return this.uploadService},n.prototype.setUploadStatus=function(t,e,n){var i=t.uid,o=this.elementRef.nativeElement.querySelector("div[id='"+i+"'].thf-upload-progress");o.classList.remove("thf-upload-progress-error","thf-upload-progress-success"),o.classList.add(e),n>5&&t.status!==wi.None&&this.addFileNameClass(i)},n.prototype.setProgressStatus=function(t,e,n){var i=this.elementRef.nativeElement.querySelector("div[id='"+t+"'].thf-upload-progress").querySelector(".thf-upload-progress-status"),o=n?"block":"none";i.setAttribute("style","display: "+o+";"),i.setAttribute("style","width: "+e+"%;")},n.prototype.removeFile=function(t){var e=this.currentFiles.indexOf(t);this.currentFiles.splice(e,1),this.updateModel(this.currentFiles.slice())},n.prototype.getFileSize=function(t){var e=0;return t&&(e=Math.ceil(t/1024)),e+" KB"},n.prototype.writeValue=function(t){var e,n;t?(e=this.currentFiles,n=t,JSON.stringify(e)!==JSON.stringify(n)&&(this.currentFiles=this.parseFiles(t))):this.currentFiles=void 0},n.prototype.addFileNameClass=function(t){this.elementRef.nativeElement.querySelector("div[id='"+t+"'].thf-upload-progress").querySelector(".thf-upload-filename").classList.add("thf-upload-filename-loading")},n.prototype.removeFileNameClass=function(t){this.elementRef.nativeElement.querySelector("div[id='"+t+"'].thf-upload-progress").querySelector(".thf-upload-filename").classList.remove("thf-upload-filename-loading")},n.prototype.parseFiles=function(t){for(var e=this.currentFiles||[],n=t.length,i=0;i<n&&!this.isExceededFileLimit(e.length);i++){var o=new Ci(t[i]);this.checkRestrictions(o)&&(e=this.insertFileInFiles(o,e))}return e},n.prototype.checkRestrictions=function(t){var e=this.fileRestrictions;if(e){var n=e.allowedExtensions,i=e.minFileSize||0,o=e.maxFileSize||31457280,r=!n||this.isAllowedExtension(t.extension,n),s=t.size>=i&&t.size<=o;return r&&s}return!0},n.prototype.isAllowedExtension=function(t,e){return void 0===e&&(e=[]),e.some(function(e){return e.toLowerCase()===t})},n.prototype.cleanInputValue=function(){this.calledByCleanInputValue=!0,this.inputFile.nativeElement.value=""},n.prototype.existsFileSameName=function(t,e){return e.some(function(e){return t.name===e.name})},n.prototype.insertFileInFiles=function(t,e){return this.existsFileSameName(t,e)?this.updateExistsFileInFiles(t,e):(this.isMultiple?e.push(t):e.splice(0,e.length,t),e)},n.prototype.isExceededFileLimit=function(t){return this.isMultiple&&this.fileRestrictions&&this.fileRestrictions.maxFiles>0&&this.fileRestrictions.maxFiles<=t},n.prototype.updateExistsFileInFiles=function(t,e){var n=e.findIndex(function(e){return t.name===e.name&&e.status!==wi.Uploaded});return-1!==n&&e.splice(n,1,t),e},n.decorators=[{type:e.Component,args:[{selector:"thf-upload",template:'<thf-field-container [t-label]="label" [t-help]="help" [t-opcional]="!required"> <div class="thf-upload"> <input #inputFile class="thf-upload-input" type="file" [accept]="allowedExtensions" [attr.name]="name" [disabled]="isDisabled" [multiple]="isMultiple" [required]="required" (change)="onFileChange($event)"> <thf-button class="thf-upload-button" for="file" [t-disabled]="isDisabled" [t-label]="literals.selectFile" (t-click)="onClick()"> </thf-button> <div class="thf-upload-progress" *ngFor="let file of currentFiles" [id]="file.uid"> <div class="thf-upload-progress-status"></div> <div class="thf-upload-filename-foreground"> <div class="thf-upload-filename"> <span class="thf-icon {{ getThfIcon(file) }}"></span> {{ file.name }} - {{ getFileSize(file.size) }} </div> <div class="thf-upload-group-actions"> <span *ngIf="isStatusFile(\'None\', file) || isStatusFile(\'Error\', file)" class="thf-upload-action" (click)="removeFile(file)"> {{ literals.deleteFile }} </span> <span *ngIf="isStatusFile(\'Uploading\', file)" class="thf-upload-action" (click)="stopUpload(file)"> {{ literals.cancel }} </span> <span *ngIf="isStatusFile(\'Error\', file)" class="thf-upload-action" (click)="uploadFiles([file])"> {{ literals.tryAgain }} </span> </div> </div> </div> <thf-button *ngIf="!autoUpload && (currentFiles?.length > 0 && hasFileNotUploaded)" t-type="primary" [t-disabled]="hasAnyFileUploading(currentFiles)" [t-label]="literals.startSending" (t-click)="uploadFiles(currentFiles)"> </thf-button> </div> </thf-field-container> ',providers:[ki,{provide:r.NG_VALUE_ACCESSOR,useExisting:e.forwardRef(function(){return n}),multi:!0},{provide:r.NG_VALIDATORS,useExisting:e.forwardRef(function(){return n}),multi:!0}]}]}],n.ctorParameters=function(){return[{type:e.ElementRef},{type:ki}]},n.propDecorators={inputFile:[{type:e.ViewChild,args:["inputFile",{read:e.ElementRef}]}]},n}(vi),Pi=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ei=function(t){function n(e){var n=t.call(this,e)||this;return n.icon="thf-icon-world",n.maxlength=254,n.type="url",n.pattern="^((https|http):\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$",n.mask="",n.listener=n.validateClassesForPattern.bind(n),n}return Pi(n,t),n.prototype.ngAfterViewInit=function(){var t=this;setTimeout(function(){t.onChangePropagate||t.inputEl.nativeElement.addEventListener("keyup",t.listener)})},n.prototype.ngOnDestroy=function(){this.onChangePropagate||this.inputEl.nativeElement.removeEventListener("keyup",this.listener)},n.prototype.extraValidation=function(t){return null},n.decorators=[{type:e.Component,args:[{selector:"thf-url",template:'<thf-field-container [t-help]="help" [t-label]="label" [t-opcional]="!required"> <div class="thf-field-container-content"> <div *ngIf="icon" class="thf-field-icon-container-left"> <span class="thf-icon thf-field-icon {{ icon }}" [class.thf-field-icon-disabled]="disabled"></span> </div> <input #inp class="thf-input" [attr.name]="name" [class.thf-input-icon-left]="icon" [class.thf-input-icon-right]="clean" [disabled]="disabled" [placeholder]="placeholder" [readonly]="readonly" [required]="required" [type]="type" (blur)="eventOnBlur($event)" (click)="eventOnClick($event)" (focus)="eventOnFocus($event)" (input)="eventOnInput($event)"> <div class="thf-field-icon-container-right"> <thf-clean [t-element-ref]="inputEl" (t-change-event)="clear($event)"></thf-clean> </div> </div> <thf-field-container-bottom [t-error-pattern]="getErrorPattern()"> </thf-field-container-bottom> </thf-field-container> ',providers:[{provide:r.NG_VALUE_ACCESSOR,useExisting:e.forwardRef(function(){return n}),multi:!0},{provide:r.NG_VALIDATORS,useExisting:e.forwardRef(function(){return n}),multi:!0}]}]}],n.ctorParameters=function(){return[{type:e.ElementRef}]},n}(Cn),Si=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule,r.FormsModule,o.HttpClientModule,J,Tt,Qt,oe,Re],exports:[$e,Ke,en,vn,ln,fn,On,Kn,Pn,Fn,Rn,$n,Zn,ti,oi,ci,si,di,mi,_i,Ei],declarations:[je,$e,Ke,en,vn,ln,fn,On,kn,Dn,Kn,Pn,Fn,Rn,$n,Nn,Un,jn,Zn,ti,oi,ci,si,di,mi,_i,Ei],providers:[],entryComponents:[je,Rn]}]}],t}(),Mi={Horizontal:"horizontal",Vertical:"vertical"},Ai=Mi.Vertical,xi=function(){function t(){this._orientation=Ai,this.thfInfoOrientation=Mi}return Object.defineProperty(t.prototype,"labelSize",{get:function(){return this._labelSize},set:function(t){isNaN(parseInt(t,10))?this._labelSize=void 0:(t=parseInt(t,10),this._labelSize=t<1||t>11?void 0:t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"orientation",{get:function(){return this._orientation},set:function(t){this._orientation=Object.values(Mi).includes(t)?t:Ai},enumerable:!0,configurable:!0}),t.propDecorators={label:[{type:e.Input,args:["t-label"]}],labelSize:[{type:e.Input,args:["t-label-size"]}],orientation:[{type:e.Input,args:["t-orientation"]}],value:[{type:e.Input,args:["t-value"]}]},t}(),Ti=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ri=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Ti(n,t),n.decorators=[{type:e.Component,args:[{selector:"thf-info",template:'<div class="thf-info" [class.thf-row]="orientation === thfInfoOrientation.Horizontal && labelSize"> <div class="thf-info-container-title" [ngClass]="labelSize && orientation === thfInfoOrientation.Horizontal ? \'thf-sm-\' + labelSize : \'\'" [class.thf-info-label-horizontal]="orientation === thfInfoOrientation.Horizontal" [class.thf-text-nowrap]="orientation === thfInfoOrientation.Horizontal && !labelSize"> <span class="thf-info-label"> {{ orientation === thfInfoOrientation.Horizontal ? label + \':\' : label }} </span> </div> <div [ngClass]="labelSize && orientation === thfInfoOrientation.Horizontal ? \'thf-sm-\' + (12 - labelSize) : \'\'" [class.thf-info-container-content]="orientation !== thfInfoOrientation.Horizontal" [class.thf-info-value-horizontal]="orientation === thfInfoOrientation.Horizontal"> <span class="thf-info-value">{{ value }}</span> </div> </div> '}]}],n}(xi),Li=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule],declarations:[Ri],exports:[Ri],providers:[],schemas:[]}]}],t}(),Vi="close",Fi="info",ji="ok",Ni="warning",zi={Horizontal:"horizontal",Vertical:"vertical"},qi={Danger:"danger",Info:"info",Success:"success",Warning:"warning"},Bi=zi.Vertical,Hi=qi.Info,Wi=function(){function t(){this._orientation=Bi,this._type=Hi,this.thfTagOrientation=zi}return Object.defineProperty(t.prototype,"icon",{get:function(){return this._icon},set:function(t){this._icon=""===t||E(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"orientation",{get:function(){return this._orientation},set:function(t){this._orientation=Object.values(zi).includes(t)?t:Bi},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return this._type},set:function(t){this._type=Object.values(qi).includes(t)?t:Hi},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"iconFromType",{get:function(){switch(this.type){case qi.Danger:return Vi;case qi.Info:return Fi;case qi.Success:return ji;case qi.Warning:return Ni}},enumerable:!0,configurable:!0}),t.propDecorators={label:[{type:e.Input,args:["t-label"]}],icon:[{type:e.Input,args:["t-icon"]}],orientation:[{type:e.Input,args:["t-orientation"]}],type:[{type:e.Input,args:["t-type"]}],value:[{type:e.Input,args:["t-value"]}]},t}(),$i=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ui=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return $i(n,t),n.decorators=[{type:e.Component,args:[{selector:"thf-tag",template:'<div class="thf-tag-container" [class.thf-tag-container-horizontal]="orientation === thfTagOrientation.Horizontal"> <div *ngIf="label" class="thf-tag-title thf-text-nowrap"> <span class="thf-tag-label">{{ orientation === thfTagOrientation.Horizontal ? label + \':\' : label }}</span> </div> <div class="thf-tag thf-tag-{{ type }}"> <span *ngIf="icon" class="thf-icon thf-icon-{{ iconFromType }}"></span> <span class="thf-tag-value">{{value}}</span> </div> </div> '}]}],n}(Wi),Yi=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule],declarations:[Ui],exports:[Ui],providers:[],schemas:[]}]}],t}(),Ki=function(){function t(){this._groupForm=!1,this.formOutput=new e.EventEmitter}return Object.defineProperty(t.prototype,"groupForm",{get:function(){return this._groupForm},set:function(t){this._groupForm=""===t||E(t)},enumerable:!0,configurable:!0}),t.propDecorators={fields:[{type:e.Input,args:["t-fields"]}],value:[{type:e.Input,args:["t-value"]}],formOutput:[{type:e.Output,args:["t-form"]}],groupForm:[{type:e.Input,args:["t-group-form"]}]},t}(),Gi=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Xi=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Gi(n,t),Object.defineProperty(n.prototype,"form",{get:function(){return this._form||{}},set:function(t){var e=this;setTimeout(function(){e._form=t,e.emitForm()})},enumerable:!0,configurable:!0}),n.prototype.emitForm=function(){!this.groupForm&&this.formOutput.observers.length&&this.formOutput.emit(this.form)},n.decorators=[{type:e.Component,args:[{selector:"thf-dynamic-form",template:' <ng-container *ngIf="groupForm; then reuseFormTemplate; else uniqueFormTemplate"></ng-container> <ng-template #reuseFormTemplate> <thf-dynamic-form-fields [t-fields]="fields" [t-value]="value"></thf-dynamic-form-fields> </ng-template> <ng-template #uniqueFormTemplate> <form #dynamicForm="ngForm"> <thf-dynamic-form-fields [t-fields]="fields" [t-value]="value"></thf-dynamic-form-fields> </form> </ng-template> '}]}],n.propDecorators={form:[{type:e.ViewChild,args:["dynamicForm"]}]},n}(Ki);function Ji(t,e,n,i,o){return"thf-sm-"+(t||o||12)+" thf-md-"+(e||o||6)+" thf-lg-"+(n||o||4)+" thf-xl-"+(i||o||3)}function Zi(t){return!("visible"in t)||t.visible}var Qi={Boolean:"boolean",Currency:"currency",Date:"date",DateTime:"datetime",Time:"time",Number:"number",String:"string"},to=function(){return(to=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},eo=function(){function t(t){this.titleCasePipe=t,this._value={},this.visibleFields=[]}return Object.defineProperty(t.prototype,"fields",{get:function(){return this._fields},set:function(t){this._fields=Array.isArray(t)?t.slice():[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(t){this._value=t&&M(t,"object")?t:{}},enumerable:!0,configurable:!0}),t.prototype.compareTo=function(t,e){return t===e},t.prototype.getVisibleFields=function(){var t=this,e=[];return this.fields.forEach(function(n){t.existsProperty(e,n.property)?t.printError('"thf-dynamic-form" property "'+n.property+'" está duplicado. Interface: ThfDynamicFormField.'):n.property?Zi(n)&&e.push(t.createField(n)):t.printError('"thf-dynamic-form" É obrigatório ser especificado um property.')}),e},t.prototype.convertOptions=function(t){return t.every(function(t){return"string"==typeof t})?t.map(function(t){return{label:t,value:t}}):t},t.prototype.createField=function(t){var e=this.getComponentControl(t),n=Ji(t.gridSmColumns,t.gridMdColumns,t.gridLgColumns,t.gridXlColumns,t.gridColumns);return to({label:this.titleCasePipe.transform(t.property)},t,{componentClass:n,control:e})},t.prototype.existsProperty=function(t,e){return t.some(function(t){return t.property===e})},t.prototype.getComponentControl=function(t){void 0===t&&(t={});var e=t&&t.type?t.type.toLocaleLowerCase():"string";return this.isNumberType(t,e)?"number":this.isCurrencyType(t,e)?"decimal":this.isSelect(t)?(t.options=this.convertOptions(t.options),"select"):this.isRadioGroup(t)?(t.options=this.convertOptions(t.options),"radioGroup"):this.compareTo(e,Qi.Boolean)?"switch":this.compareTo(e,Qi.Date)||this.compareTo(e,Qi.DateTime)?"datepicker":this.compareTo(e,Qi.Time)?(t.mask=t.mask||"99:99","input"):this.isCombo(t)?"combo":"input"},t.prototype.isCombo=function(t){var e=t.optionsService;return!!e&&M(e,"string")},t.prototype.isCurrencyType=function(t,e){var n=t.mask,i=t.pattern;return this.compareTo(e,Qi.Currency)&&!n&&!i},t.prototype.isNumberType=function(t,e){var n=t.mask,i=t.pattern;return this.compareTo(e,Qi.Number)&&!n&&!i},t.prototype.isRadioGroup=function(t){var e=t.options;return!!e&&e.length<=3},t.prototype.isSelect=function(t){var e=t.options;return!!e&&e.length>3},t.prototype.printError=function(t){console.error(t)},t.propDecorators={fields:[{type:e.Input,args:["t-fields"]}],value:[{type:e.Input,args:["t-value"]}]},t}(),no=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),io=function(t){function i(e){return t.call(this,e)||this}return no(i,t),i.prototype.ngOnChanges=function(t){t.fields&&(this.visibleFields=this.getVisibleFields())},i.prototype.trackBy=function(t){return t},i.decorators=[{type:e.Component,args:[{selector:"thf-dynamic-form-fields",template:'<div class="thf-row" *ngIf="visibleFields && visibleFields.length > 0"> <ng-container *ngFor="let field of visibleFields; trackBy: trackBy"> <thf-divider *ngIf="field?.divider?.trim()" class="thf-sm-12" [t-label]="field.divider"> </thf-divider> <thf-datepicker *ngIf="compareTo(field.control, \'datepicker\')" [name]="field.property" [(ngModel)]="value[field.property]" [ngClass]="field.componentClass" t-clean [t-disabled]="field.disabled" [t-help]="field.help" [t-label]="field.label" [t-end]="field.maxValue" [t-start]="field.minValue" [t-required]="field.required"> </thf-datepicker> <thf-input *ngIf="compareTo(field.control, \'input\')" [name]="field.property" [(ngModel)]="value[field.property]" [ngClass]="field.componentClass" t-clean [t-disabled]="field.disabled" [t-help]="field.help" [t-label]="field.label" [t-mask]="field.mask" [t-maxlength]="field.maxLength" [t-minlength]="field.minLength" [t-pattern]="field.pattern" [t-required]="field.required"> </thf-input> <thf-number *ngIf="compareTo(field.control, \'number\')" [name]="field.property" [(ngModel)]="value[field.property]" [ngClass]="field.componentClass" t-clean [t-disabled]="field.disabled" [t-help]="field.help" [t-label]="field.label" [t-min]="field.minValue" [t-max]="field.maxValue" [t-maxlength]="field.maxLength" [t-minlength]="field.minLength" [t-required]="field.required"> </thf-number> <thf-decimal *ngIf="compareTo(field.control, \'decimal\')" [name]="field.property" [(ngModel)]="value[field.property]" [ngClass]="field.componentClass" t-clean [t-disabled]="field.disabled" [t-help]="field.help" [t-label]="field.label" [t-required]="field.required"> </thf-decimal> <thf-select *ngIf="compareTo(field.control, \'select\')" [name]="field.property" [(ngModel)]="value[field.property]" [ngClass]="field.componentClass" [t-disabled]="field.disabled" [t-help]="field.help" [t-label]="field.label" [t-options]="field.options" [t-required]="field.required"> </thf-select> <thf-radio-group *ngIf="compareTo(field.control, \'radioGroup\')" [name]="field.property" [(ngModel)]="value[field.property]" [ngClass]="field.componentClass" t-columns="3" [t-disabled]="field.disabled" [t-help]="field.help" [t-label]="field.label" [t-options]="field.options" [t-required]="field.required"> </thf-radio-group> <thf-switch *ngIf="compareTo(field.control, \'switch\')" [name]="field.property" [(ngModel)]="value[field.property]" [ngClass]="field.componentClass" [t-disabled]="field.disabled" [t-help]="field.help" [t-label]="field.label" [t-label-off]="field.booleanFalse" [t-label-on]="field.booleanTrue" [t-required]="field.required"> </thf-switch> <thf-combo *ngIf="compareTo(field.control, \'combo\')" [name]="field.property" [(ngModel)]="value[field.property]" [ngClass]="field.componentClass" [t-disabled]="field.disabled" [t-filter-service]="field.optionsService" [t-help]="field.help" [t-label]="field.label" [t-required]="field.required"> </thf-combo> </ng-container> </div> ',viewProviders:[{provide:r.ControlContainer,useExisting:r.NgForm}]}]}],i.ctorParameters=function(){return[{type:n.TitleCasePipe}]},i}(eo),oo=function(){return(oo=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},ro=function(){function t(t,e,n,i,o){this.currencyPipe=t,this.datePipe=e,this.decimalPipe=n,this.timePipe=i,this.titleCasePipe=o,this._fields=[],this._showAllValue=!1,this._value={},this.visibleFields=[]}return Object.defineProperty(t.prototype,"fields",{get:function(){return this._fields},set:function(t){this._fields=Array.isArray(t)?t.slice():[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showAllValue",{get:function(){return this._showAllValue},set:function(t){this._showAllValue=E(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(t){this._value=t&&M(t,"object")?t:{}},enumerable:!0,configurable:!0}),t.prototype.getConfiguredFields=function(){var t=this,e=[];return this.fields.forEach(function(n){Zi(n)&&e.push(t.createField(n))}),e},t.prototype.getMergedFields=function(){var t=this,e=this.getConfiguredFields().slice();return this.getValueFields().forEach(function(n){var i=e.findIndex(function(t){return t.property===n.property}),o=n.property;-1===i&&e.push(t.createField({property:o}))}),e},t.prototype.getValueFields=function(){var t=this;return Object.keys(this.value).map(function(e){return t.createField({property:e})})},t.prototype.createField=function(t){var e=t.property,n=this.transformValue(t.type,this.value[e],t.format),i=Ji(t.gridSmColumns,t.gridMdColumns,t.gridLgColumns,t.gridXlColumns,t.gridColumns);return oo({property:e,value:n,label:this.titleCasePipe.transform(e),cssClass:i},t)},t.prototype.transformValue=function(t,e,n){var i=e;switch(t){case"currency":i=this.currencyPipe.transform(e,n||"BRL","symbol","1.2-2");break;case"date":i=this.datePipe.transform(e,n||"dd/MM/yyyy");break;case"dateTime":i=this.datePipe.transform(e,n||"dd/MM/yyyy HH:mm:ss");break;case"number":i=this.decimalPipe.transform(e,n);break;case"time":i=this.timePipe.transform(e,n||"HH:mm:ss.ffffff")}return i},t.propDecorators={fields:[{type:e.Input,args:["t-fields"]}],showAllValue:[{type:e.Input,args:["t-show-all-value"]}],value:[{type:e.Input,args:["t-value"]}]},t}(),so=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ao=function(t){function i(e,n,i,o,r){return t.call(this,e,n,i,o,r)||this}return so(i,t),i.prototype.ngOnChanges=function(t){(t.fields||t.value||t.showAllValue)&&(this.visibleFields=this.getVisibleFields())},i.prototype.getVisibleFields=function(){return this.showAllValue?this.getMergedFields():this.value&&this.fields.length?this.getConfiguredFields():this.getValueFields()},i.decorators=[{type:e.Component,args:[{selector:"thf-dynamic-view",template:'<div class="thf-row" *ngIf="visibleFields.length"> <ng-template ngFor let-field [ngForOf]="visibleFields"> <thf-divider *ngIf="field?.divider?.trim()" class="thf-sm-12" [t-label]="field.divider"> </thf-divider> <ng-container *ngTemplateOutlet="!field.tag ? thfInfo : thfTag; context: { $implicit: field }"> </ng-container> </ng-template> </div> <ng-template #thfInfo let-field> <thf-info [ngClass]="field.cssClass" [t-label]="field.label" [t-value]="field.value"> </thf-info> </ng-template> <ng-template #thfTag let-field> <thf-tag [ngClass]="field.cssClass" [t-label]="field.label" [t-value]="field.value"> </thf-tag> </ng-template> '}]}],i.ctorParameters=function(){return[{type:n.CurrencyPipe},{type:n.DatePipe},{type:n.DecimalPipe},{type:de},{type:n.TitleCasePipe}]},i}(ro),lo=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule,r.FormsModule,Wt,Li,Si,Yi,fe],declarations:[Xi,io,ao],exports:[Xi,ao],providers:[n.CurrencyPipe,n.DatePipe,n.DecimalPipe,de,n.TitleCasePipe]}]}],t}(),co=function(){function t(){this.position=""}return t.prototype.onKeyDownContent=function(t){13!==t.keyCode||t.preventDefault()},t.decorators=[{type:e.Component,args:[{selector:"thf-grid-cell-action",template:'<div> <div #contentElement [id]="position" class="thf-grid-cell-action-content" tabindex="0" (keydown)="onKeyDownContent($event)"> <span>{{ value || \'&nbsp;\' }}</span> </div> </div> ',styles:[".thf-grid-cell-action-content { border-bottom: 1px solid #eceeee; border-left: none; border-right: 1px solid #eceeee; border-top: none; font-family: NunitoSans; font-size: 14px; height: 44px; line-height: 1.71; margin: 0; max-height: 44px; max-width: 56px; min-height: 44px; min-width: 56px; padding: 10px 16px; text-align: center; width: 56px; } .thf-grid-cell-action-content:focus { border: none; outline: 1px solid #0c9abe; } "]}]}],t.ctorParameters=function(){return[]},t.propDecorators={position:[{type:e.Input,args:["t-position"]}],value:[{type:e.Input,args:["t-value"]}]},t}(),uo=function(){function t(t){this.changeDetectorRef=t,this._value="",this.edit=!1,this.editValue="",this.align="left",this.freeze=!1,this.tabIndex=-1,this.position="",this.readonly=!1,this.required=!1,this.valueChange=new e.EventEmitter}return Object.defineProperty(t.prototype,"width",{get:function(){return this._width?this._width+"px":"100%"},set:function(t){this._width=t,this.freeze&&!this._width&&(this._width=100)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(t){this._value=t,this.valueChange.emit(this._value)},enumerable:!0,configurable:!0}),t.prototype.onKeyDownContent=function(t){if(!t.ctrlKey&&(8===t.keyCode||46===t.keyCode)){if(this.readonly)return;return t.preventDefault(),void(this.value="")}return 13===t.keyCode?(t.preventDefault(),void this.onEditCell(this.value)):t.keyCode>=65&&t.keyCode<=90||t.keyCode>=48&&t.keyCode<=57?(t.preventDefault(),void this.onEditCell(t.key)):void 0},t.prototype.dblclick=function(t){t.preventDefault(),this.onEditCell(this.value)},t.prototype.onBlurInput=function(t){this.value=this.editValue,this.editValue=void 0,this.edit=!1},t.prototype.onKeyDownInput=function(t){13===t.keyCode&&(this.value=this.editValue,this.editValue=void 0,this.edit=!1,this.changeDetectorRef.detectChanges(),this.contentElement.nativeElement.focus()),27===t.keyCode&&(this.editValue=void 0,this.edit=!1,this.changeDetectorRef.detectChanges(),this.contentElement.nativeElement.focus(),t.stopPropagation())},t.prototype.onEditCell=function(t){this.readonly||(this.editValue=t,this.edit=!0,this.changeDetectorRef.detectChanges(),this.inputElement.nativeElement.focus())},t.decorators=[{type:e.Component,args:[{selector:"thf-grid-cell",template:'<div> <ng-container *ngIf="edit; then input; else content"></ng-container> <ng-template #content> <div #contentElement [id]="position" class="thf-grid-cell-content thf-grid-cell-{{ align }} {{ !value && required ? \'thf-grid-cell-required\' : \'\' }}" (keydown)="onKeyDownContent($event)" tabindex="{{ readonly ? -1 : 0 }}" (dblclick)=dblclick($event)> <span>{{ value || \'&nbsp;\' }}</span> </div> </ng-template> <ng-template #input> <input [id]="position" #inputElement class="thf-grid-cell-input" [(ngModel)]="editValue" (keydown.arrowup)="$event.stopPropagation()" (keydown.arrowdown)="$event.stopPropagation()" (keydown.arrowleft)="$event.stopPropagation()" (keydown.arrowright)="$event.stopPropagation()" (keydown)="onKeyDownInput($event)" (blur)="onBlurInput($event)"> \x3c!-- <thf-input #inputElement class="thf-grid-cell-input" [(ngModel)]="editValue" (keydown)="onKeyDownInput($event)" (t-blur)="onBlurInput($event)"> </thf-input> --\x3e </ng-template> </div> ',styles:[".thf-grid-cell-content, .thf-grid-cell-input { border-bottom: 1px solid #eceeee; border-left: none; border-right: 1px solid #eceeee; border-top: none; font-family: NunitoSans; font-size: 14px; height: 44px; line-height: 1.71; margin: 0; overflow: hidden; padding: 10px 16px; text-align: left; text-overflow: ellipsis; white-space: nowrap; } .thf-grid-cell-center { text-align: center; } .thf-grid-cell-right { text-align: right; } .thf-grid-cell-content:focus { border: none; outline: 1px solid #0c9abe; } .thf-grid-cell-required { border: 1px dashed red; } .thf-grid-cell-input { border: 1px solid #0c9abe; box-shadow: 0px 0px 4px 4px rgba(0, 0, 0, 0.10); outline: none; position: relative; min-width: 100%; max-width: 100%; width: 100%; } "]}]}],t.ctorParameters=function(){return[{type:e.ChangeDetectorRef}]},t.propDecorators={align:[{type:e.Input,args:["t-align"]}],freeze:[{type:e.Input,args:["t-freeze"]}],tabIndex:[{type:e.Input,args:["t-tab-index"]}],position:[{type:e.Input,args:["t-position"]}],width:[{type:e.Input,args:["t-width"]}],readonly:[{type:e.Input,args:["t-readonly"]}],required:[{type:e.Input,args:["t-required"]}],valueChange:[{type:e.Output,args:["t-valueChange"]}],value:[{type:e.Input,args:["t-value"]}],inputElement:[{type:e.ViewChild,args:["inputElement"]}],contentElement:[{type:e.ViewChild,args:["contentElement"]}]},t}(),po=function(){function t(t,e,n){var i=this;this.changeDetectorRef=t,this.elRef=e,this.lastCell="0-0",this.lastRow=0,this.lastColumn=0,this.currencyCell="0-0",this.currencyRow=0,this.currencyColumn=0,this.logger=!1,this.width="100%",this.widthFreeze=0,this.widthActions=0,this._columns=[],this.rowActions={},this.data=[],this.debounceResize(),this.resizeListener=n.listen("window","resize",function(t){i.debounceResize()})}return Object.defineProperty(t.prototype,"columns",{get:function(){return this._columns.filter(function(t){return!0!==t.freeze&&!0!==t.action})},set:function(t){this._columns=t.slice(),this._columns.forEach(function(t){t.label=t.label||t.property,!0===t.freeze?t.cssWidth=(t.width||100)+"px":t.cssWidth=t.width?t.width+"px":"100%"})},enumerable:!0,configurable:!0}),t.prototype.ngOnDestroy=function(){this.resizeListener&&this.resizeListener()},t.prototype.debounceResize=function(){var t=this;clearTimeout(this.timeoutResize),this.timeoutResize=setTimeout(function(){var e=t.tableWrapper.nativeElement.offsetWidth;t.width=e-(t.widthFreeze+8)-t.widthActions+"px"},100)},Object.defineProperty(t.prototype,"freezeColumns",{get:function(){var t=this._columns.filter(function(t){return!0===t.freeze});return this.widthFreeze=t.reduce(function(t,e){return t+(e.width||100)},0),t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"actionColumns",{get:function(){var t=this._columns.filter(function(t){return!0===t.action});return this.widthActions=t.length>0?56:0,t},enumerable:!0,configurable:!0}),t.prototype.cancelRow=function(t,e){var n=this,i=t.path.find(function(t){return t.id});if(i){var o=i.id.split("-")[0];if(this.isEmptyRow(o)){if(!this.removeRow(t,e))return;this.currencyObj=Object.assign({},this.data[this.currencyRow-1])}else this.data[+o-1]=Object.assign({},this.currencyObj),setTimeout(function(){return n.selectCell(n.currencyRow,n.currencyColumn)})}},t.prototype.removeRow=function(t,e){if(this.rowActions.beforeRemove&&!this.rowActions.beforeRemove(Object.assign({},e)))return!1;var n=this.data.indexOf(e);return this.data.splice(n,1),this.changeDetectorRef.detectChanges(),0===this.data.length||n===this.data.length?this.selectCell(this.currencyRow-1,this.currencyColumn):this.selectCell(this.currencyRow,this.currencyColumn),!0},t.prototype.tableKeydown=function(t,e){var n=t.target.id.split("-"),i=n[0],o=n[1],r=+(i=+i),s=+(o=+o);if("down"===e){if(i<=this.data.length&&r++,i===this.data.length)if(0!==i&&this.isEmptyRow(i))r--;else{if(!this.saveRow(i))return;if(!this.insertRow())return}}else"up"===e&&i>0?r--:"left"===e&&o>0?s--:"right"===e&&o<this._columns.length-1?s++:"next"===e?o<this._columns.length-1?(s++,t.preventDefault()):i<this.data.length&&(s=0,r++,t.preventDefault()):"prior"===e&&(o>0?(s--,t.preventDefault()):i>0&&(s=this._columns.length-1,r--,t.preventDefault()));if(this.currencyCell!==r+"-"+s){if(r!==this.currencyRow&&i>0&&this.data.length>=i)if(this.isEmptyRow(i)){if(!this.removeRow(t,i))return}else if(!this.saveRow(i))return;this.currencyRow!==r&&(this.currencyObj=Object.assign({},this.data[r-1])),this.lastCell=t.target.id,this.lastRow=i,this.lastColumn=o,this.selectCell(r,s)}},t.prototype.tableClick=function(t){var e=t.path.find(function(t){return t.id});if(e){if(this.currencyCell!==e.id){var n=e.id.split("-"),i=n[0],o=+i,r=+n[1];if(o!==this.currencyRow){if(this.currencyRow>0)if(this.isEmptyRow(this.currencyRow)){if(!this.removeRow(t,i))return}else if(!this.saveRow(this.currencyRow))return void this.selectCell(this.currencyRow,this.currencyColumn);this.currencyObj=Object.assign({},this.data[o-1])}this.lastCell=this.currencyCell,this.lastRow=this.currencyRow,this.lastColumn=this.currencyColumn,this.currencyCell=e.id,this.currencyRow=o,this.currencyColumn=r}}else this.selectCell(this.currencyRow,this.currencyColumn)},t.prototype.saveRow=function(t){var e=this,n=this.data[t-1];if(!Object.keys(n).some(function(t){return n[t]!==e.currencyObj[t]}))return!0;if(this.rowActions.beforeSave&&!this.rowActions.beforeSave(n,this.currencyObj))return!1;var i=[];return this.columns.forEach(function(t){!0!==t.required||n[t.property]||i.push(t.property)}),0===i.length},t.prototype.insertRow=function(){var t={};return!(this.rowActions.beforeInsert&&!this.rowActions.beforeInsert(t))&&(this.data.push(t),this.changeDetectorRef.detectChanges(),!0)},t.prototype.isEmptyRow=function(t){var e=this.data[t-1];return!!e&&!Object.keys(e).some(function(t){return e[t]})},t.prototype.selectCell=function(t,e){var n=this.elRef.nativeElement.querySelector("[id='"+t+"-"+e+"']");n&&(this.currencyCell=t+"-"+e,this.currencyRow=t,this.currencyColumn=e,n.focus())},t.decorators=[{type:e.Component,args:[{selector:"thf-grid",template:'<div class="thf-grid-wrapper thf-grid-row-wrapper" #wrapper> <div *ngIf="logger"> lastCell: {{ lastCell }} | currencyCell: {{ currencyCell }} <br> lastRow: {{ lastRow }} | currencyRow: {{ currencyRow }} <br> lastColumn: {{ lastColumn }} | currencyColumn: {{ currencyColumn }} <br> <hr> currencyObj: {{ currencyObj | json }} <hr> </div> <div class="thf-grid"> <div class="thf-grid-body"> <div class="thf-grid-row" #table (keydown.arrowup)="tableKeydown($event, \'up\')" (keydown.arrowdown)="tableKeydown($event, \'down\')" (keydown.arrowleft)="tableKeydown($event, \'left\')" (keydown.arrowright)="tableKeydown($event, \'right\')" (keydown.tab)="tableKeydown($event, \'next\')" (keydown.shift.tab)="tableKeydown($event, \'prior\')" (click)="tableClick($event)" (contextmenu)="tableClick($event)" (dblclick)="tableClick($event)"> <div class="thf-grid-cell thf-grid-cell-freeze" *ngIf="freezeColumns.length > 0"> <ng-container *ngTemplateOutlet="divFreezeColumns"></ng-container> </div> <div class="thf-grid-cell thf-grid-cell-normal" [style.width]="width" [style.max-width]="width" [style.min-width]="width"> <ng-container *ngTemplateOutlet="divColumns"></ng-container> </div> <div class="thf-grid-cell thf-grid-cell-action" *ngIf="actionColumns.length > 0"> <ng-container *ngTemplateOutlet="divActionColumns"></ng-container> </div> </div> </div> </div> \x3c!-- <div class="thf-grid-footer-wrapper"> <div class="thf-grid-footer"> <div class="links"><a href="#">RODAPÉ</a></div> </div> </div> --\x3e </div> \x3c!-- Coluna com as colunas congeladas --\x3e <ng-template #divFreezeColumns> <div class="thf-grid thf-grid-freeze"> <div class="thf-grid-header-group"> <div class="thf-grid-row"> <thf-grid-head *ngFor="let column of freezeColumns; index as i" class="thf-grid-title" [style.width]="column.cssWidth" [style.max-width]="column.cssWidth" [style.min-width]="column.cssWidth" t-freeze="true" t-position="{{ \'0-\' + i }}" [t-width]="column.width" [t-align]="column.align" [t-title]="column.label"> </thf-grid-head> </div> </div> <div class="thf-grid-body"> <div class="thf-grid-row" *ngFor="let row of data; index as j" (keydown.control.delete)="removeRow($event, row)" (keydown.esc)="cancelRow($event, row)"> <thf-grid-cell *ngFor="let column of freezeColumns; index as i" class="thf-grid-cell" [style.width]="column.cssWidth" [style.max-width]="column.cssWidth" [style.min-width]="column.cssWidth" t-freeze="true" [t-align]="column.align" [t-readonly]="column.readonly" [t-required]="column.required" t-position="{{ (j + 1) + \'-\' + i }}" [t-width]="column.width" [(t-value)]="row[column.property]"> </thf-grid-cell> </div> </div> </div> </ng-template> \x3c!-- FIM: Coluna com as colunas congeladas --\x3e \x3c!-- Coluna com as colunas nornais --\x3e <ng-template #divColumns> <div class="thf-grid thf-grid-normal"> <div class="thf-grid-header-group"> <div class="thf-grid-row"> <thf-grid-head *ngFor="let column of columns; index as i" class="thf-grid-title" [style.width]="column.cssWidth" [style.max-width]="column.cssWidth" [style.min-width]="column.cssWidth" [t-align]="column.align" t-position="{{ \'0-\' + (i + freezeColumns.length) }}" [t-title]="column.label" [t-width]="column.width"> </thf-grid-head> </div> </div> <div class="thf-grid-body"> <div class="thf-grid-row" *ngFor="let row of data; index as j" (keydown.control.delete)="removeRow($event, row)" (keydown.esc)="cancelRow($event, row)"> <thf-grid-cell *ngFor="let column of columns; index as i" class="thf-grid-cell" [style.width]="column.cssWidth" [style.max-width]="column.cssWidth" [style.min-width]="column.cssWidth" [t-align]="column.align" [t-readonly]="column.readonly" [t-required]="column.required" t-position="{{ (j + 1) + \'-\' + (i + freezeColumns.length) }}" [(t-value)]="row[column.property]" [t-width]="column.width"> </thf-grid-cell> </div> </div> </div> </ng-template> \x3c!-- FIM: Coluna com as colunas nornais --\x3e \x3c!-- Coluna com as colunas de ação --\x3e <ng-template #divActionColumns> <div class="thf-grid thf-grid-actions"> <div class="thf-grid-header-group"> <div class="thf-grid-row"> <thf-grid-head *ngFor="let column of actionColumns; index as i" class="thf-grid-title" t-position="{{ \'0-\' + (i + freezeColumns.length + columns.length) }}" [t-title]="column.label" [t-align]="column.align"> </thf-grid-head> </div> </div> <div class="thf-grid-body"> <div class="thf-grid-row" *ngFor="let row of data; index as j" (keydown.control.delete)="removeRow($event, row)" (keydown.esc)="cancelRow($event, row)"> <thf-grid-cell-action *ngFor="let column of actionColumns; index as i" class="thf-grid-cell" t-position="{{ (j + 1) + \'-\' + (i + freezeColumns.length + columns.length) }}" [t-value]="row[column.property]"> </thf-grid-cell-action> </div> </div> </div> </ng-template> \x3c!-- FIM: Coluna com as colunas de ação --\x3e ',styles:[".thf-grid-wrapper { /* margin: 30px; */ overflow: auto; border: 1px solid #eceeee; /* width: 100%; */ /* border: 1px solid red; */ /* display: table-cell; */ } .thf-grid { display: table; border-right: none; border-bottom: none; } .thf-grid-cell-normal::-webkit-scrollbar, .thf-grid-row-wrapper::-webkit-scrollbar { border-radius: 2px; height: 4px; opacity: 0.5; width: 4px; } .thf-grid-cell-normal::-webkit-scrollbar-thumb, .thf-grid-row-wrapper::-webkit-scrollbar-thumb { background-color: #0c9abe; } .thf-grid .fixed { display: table; } .thf-grid-header-group { display: table-header-group; } .thf-grid-body { display: table-row-group; } .thf-grid-row { display: table-row; } .thf-grid-title, .thf-grid-cell { display: table-cell; border: none; } .thf-grid-cell-freeze { border-right: 2px solid #ceeaf2; } .thf-grid-cell-action { color: blue; border-left: 2px solid #ceeaf2; } .thf-grid-freeze, .thf-grid-actions { width: 100%; } .thf-grid-normal { width: 100%; } .thf-grid-cell-normal { overflow: auto; } .thf-grid-footer { display: table-footer-group; } .thf-grid-footer-wrapper { border: 1px solid #eceeee; border-top: none; } "]}]}],t.ctorParameters=function(){return[{type:e.ChangeDetectorRef},{type:e.ElementRef},{type:e.Renderer2}]},t.propDecorators={tableElement:[{type:e.ViewChild,args:["table"]}],tableWrapper:[{type:e.ViewChild,args:["wrapper"]}],rowActions:[{type:e.Input,args:["t-row-actions"]}],columns:[{type:e.Input,args:["t-columns"]}],data:[{type:e.Input,args:["t-data"]}]},t}(),ho=function(){function t(t){this.changeDetectorRef=t,this.align="left",this.boolean=!1,this.position="",this.tabIndex=-1}return Object.defineProperty(t.prototype,"width",{get:function(){return this._width?this._width+"px":"100%"},set:function(t){this._width=t},enumerable:!0,configurable:!0}),t.decorators=[{type:e.Component,args:[{selector:"thf-grid-head",template:'<div> <div [id]="position" class="thf-grid-head-content thf-grid-head-{{ align }}" tabindex="{{ title ? 0 : -1 }}"> <span>{{ title || \'&nbsp;\' }}</span> </div> </div> ',styles:[".thf-grid-head-content { border-bottom: 2px solid #ceeaf2; border-left: none; border-right: 1px solid #eceeee; border-top: none; color: #0c9abe; font-family: NunitoSans-bold; font-size: 14px; height: 44px; line-height: 1.71; margin: 0; max-height: 44px; min-height: 44px; overflow: hidden; padding: 10px 16px; text-align: left; text-overflow: ellipsis; white-space: nowrap; } .thf-grid-head-center { text-align: center; } .thf-grid-head-right { text-align: right; } .thf-grid-head-content:focus { border: 1px solid #0c9abe; outline: none; } "]}]}],t.ctorParameters=function(){return[{type:e.ChangeDetectorRef}]},t.propDecorators={align:[{type:e.Input,args:["t-align"]}],boolean:[{type:e.Input,args:["t-freeze"]}],position:[{type:e.Input,args:["t-position"]}],tabIndex:[{type:e.Input,args:["t-tab-index"]}],width:[{type:e.Input,args:["t-width"]}],title:[{type:e.Input,args:["t-title"]}]},t}(),fo=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule,r.FormsModule,Si],declarations:[co,uo,po,ho],exports:[po]}]}],t}(),go=function(){function t(){this.showMoreDisabled="false",this.showMore=new e.EventEmitter}return t.prototype.onShowMore=function(){this.showMore.emit(null)},t.decorators=[{type:e.Component,args:[{selector:"thf-list",template:'<ng-content></ng-content> <div *ngIf="showMore.observers.length > 0"> <div class="thf-list-show-more"> <thf-button t-label="Carregar mais resultados" (t-click)="onShowMore()" [t-disabled]="showMoreDisabled"></thf-button> </div> </div> '}]}],t.propDecorators={showMoreDisabled:[{type:e.Input,args:["t-show-more-disabled"]}],showMore:[{type:e.Output,args:["t-show-more"]}]},t}(),mo=function(){function t(t,e){var n=this;this.actions=[],this.showAction=!1,this.showLink=!0,this.showDetail=!1,this.showContent=!0,this.closeListActionsWhenClickedOut=function(t){n.checkClickedOutActionsIcon(t)&&n.closeActions()},this._parentRef=t._view.component,this.collapsed=!0,this.clickListener=e.listen("document","click",this.closeListActionsWhenClickedOut)}return t.prototype.ngAfterContentInit=function(){this.content&&0===this.content.nativeElement.children.length&&(this.showContent=!1),this.detailsContent&&0===this.detailsContent.nativeElement.children.length&&(this.showLink=!1)},t.prototype.ngOnDestroy=function(){this.clickListener()},Object.defineProperty(t.prototype,"parentRef",{get:function(){return this._parentRef},enumerable:!0,configurable:!0}),t.prototype.checkClickedOutActionsIcon=function(t){return this.actionsIconElement&&!this.actionsIconElement.nativeElement.contains(t.target)},t.prototype.closeActions=function(){this.actions&&(this.showAction=!1)},t.decorators=[{type:e.Component,args:[{selector:"thf-list-item",template:'<div class="thf-list-border"> <div class="thf-list-header-container"> <div *ngIf="title" class="thf-list-title-container"> <span class="thf-list-title">{{title}}</span> </div> <div id="divActionButtonsId" class="thf-list-actions-button" *ngIf="actions.length > 0 && actions.length <= 2"> <thf-button *ngFor="let action of actions" [t-label]="action.label" (t-click)="parentRef[action.function](index)" t-small="true"></thf-button> </div> <div class="thf-list-more-button" (click)="showAction = !showAction" *ngIf="actions.length > 0 && actions.length > 2"> <span #actionsIconElement class="thf-icon thf-icon-more thf-list-icon-action"></span> <div class="thf-list-actions" [hidden]="!showAction"> <div class="thf-list-action" *ngFor="let action of actions" (click)="parentRef[action.function](index)"> {{action.label}} </div> </div> </div> </div> <div class="thf-list-item-container" #content [hidden]="!showContent"> <ng-content select="thf-list-item-content"></ng-content> </div> <div class="thf-list-detail-container" [hidden]="!showDetail" #detailsContent> <ng-content select="thf-list-item-detail"></ng-content> </div> <div select="details" class="thf-list-details-link" (click)="showDetail = !showDetail" [hidden]="!showLink"> <a class="thf-list-details" *ngIf="!showDetail">Exibir detalhes completamente</a> <a class="thf-list-details" *ngIf="showDetail">Ocultar detalhes completamente</a> </div> </div> '}]}],t.ctorParameters=function(){return[{type:e.ViewContainerRef},{type:e.Renderer2}]},t.propDecorators={title:[{type:e.Input,args:["t-title"]}],index:[{type:e.Input,args:["t-index"]}],actions:[{type:e.Input,args:["t-actions"]}],actionsIconElement:[{type:e.ViewChild,args:["actionsIconElement",{read:e.ElementRef}]}],detailsContent:[{type:e.ViewChild,args:["detailsContent"]}],content:[{type:e.ViewChild,args:["content"]}]},t}(),yo=function(){function t(){}return t.decorators=[{type:e.Component,args:[{selector:"thf-list-item-detail",template:"<ng-content></ng-content>"}]}],t}(),bo=function(){function t(){}return t.decorators=[{type:e.Component,args:[{selector:"thf-list-item-content",template:"<ng-content></ng-content>"}]}],t}(),vo=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule,J],declarations:[go,mo,yo,bo],exports:[go,mo,yo,bo],providers:[],schemas:[]}]}],t}(),wo=function(){return(wo=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Co={en:{hideDetails:"Hide details",loadMoreData:"Load more data",noData:"No data found",selectAll:"Select all",showDetails:"Show details"},es:{hideDetails:"Ocultar detalles",loadMoreData:"Cargar más resultados",noData:"Datos no encontrados",selectAll:"Seleccionar todos",showDetails:"Mostrar detalles"},pt:{hideDetails:"Ocultar detalhes",loadMoreData:"Carregar mais resultados",noData:"Nenhum dado encontrado",selectAll:"Selecionar todos",showDetails:"Exibir detalhes"}},Io=function(){function t(){this.selectAll=!1,this.showHeader=!1,this.showMore=new e.EventEmitter,this.titleAction=new e.EventEmitter}return Object.defineProperty(t.prototype,"actions",{get:function(){return this._actions},set:function(t){this._actions=Array.isArray(t)?t:[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hideSelectAll",{get:function(){return this._hideSelectAll},set:function(t){this._hideSelectAll=E(t),this.showMainHeader()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){return this._items},set:function(t){this._items=Array.isArray(t)?t:[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"literals",{get:function(){return this._literals||Co[P()]},set:function(t){t instanceof Object&&!(t instanceof Array)?this._literals=wo({},Co[_],Co[P()],t):this._literals=Co[P()]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"select",{get:function(){return this._select},set:function(t){this._select=E(t),this.showMainHeader()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showMoreDisabled",{get:function(){return this._showMoreDisabled},set:function(t){this._showMoreDisabled=E(t)},enumerable:!0,configurable:!0}),t.prototype.onClickAction=function(t,e){var n=this.deleteInternalAttrs(e);t.action&&t.action(n)},t.prototype.onShowMore=function(){this.showMore.emit()},t.prototype.runTitleAction=function(t){this.titleAction.emit(t)},t.prototype.selectAllListItems=function(){var t=this;this.hideSelectAll||(this.selectAll=!this.selectAll,this.items.forEach(function(e){e.$selected=t.selectAll}))},t.prototype.selectListItem=function(t){t.$selected=!t.$selected,this.selectAll=this.checkIfItemsAreSelected(this.items)},t.prototype.deleteInternalAttrs=function(t){for(var e in t)t.hasOwnProperty(e)&&e.startsWith("$")&&delete t[e];return t},t.prototype.checkIfItemsAreSelected=function(t){return!!t.every(function(t){return t.$selected})||!!t.some(function(t){return t.$selected||null===t.$selected})&&null},t.prototype.showMainHeader=function(){this.showHeader=!(!this.select||this.hideSelectAll||!this.items||!this.items.length)},t.propDecorators={actions:[{type:e.Input,args:["t-actions"]}],height:[{type:e.Input,args:["t-height"]}],hideSelectAll:[{type:e.Input,args:["t-hide-select-all"]}],items:[{type:e.Input,args:["t-items"]}],literals:[{type:e.Input,args:["t-literals"]}],propertyLink:[{type:e.Input,args:["t-property-link"]}],propertyTitle:[{type:e.Input,args:["t-property-title"]}],select:[{type:e.Input,args:["t-select"]}],showMoreDisabled:[{type:e.Input,args:["t-show-more-disabled"]}],showMore:[{type:e.Output,args:["t-show-more"]}],titleAction:[{type:e.Output,args:["t-title-action"]}]},t}(),Oo=function(){function t(t){this.templateRef=t}return t.decorators=[{type:e.Directive,args:[{selector:"[t-list-view-content-template]"}]}],t.ctorParameters=function(){return[{type:e.TemplateRef}]},t.propDecorators={title:[{type:e.Input,args:["t-title"]}]},t}(),ko=function(){function t(t){this.templateRef=t}return t.decorators=[{type:e.Directive,args:[{selector:"[t-list-view-detail-template]"}]}],t.ctorParameters=function(){return[{type:e.TemplateRef}]},t.propDecorators={showDetail:[{type:e.Input,args:["t-show-detail"]}]},t}(),Do=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),_o=function(t){function n(e,n){var i=t.call(this)||this;return i.changeDetector=e,i.differ=n.find([]).create(null),i}return Do(n,t),Object.defineProperty(n.prototype,"hasContentTemplate",{get:function(){return!!this.listViewContentTemplate},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"hasDetailTemplate",{get:function(){return!!this.listViewDetailTemplate},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"displayShowMoreButton",{get:function(){return this.items&&this.items.length>0&&this.showMore.observers.length>0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"showButtonsActions",{get:function(){return this.visibleActions&&this.visibleActions.length>0&&this.visibleActions.length<=2},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"showPopupActions",{get:function(){return this.visibleActions&&this.visibleActions.length>2},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"titleHasAction",{get:function(){return this.titleAction.observers.length>0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"visibleActions",{get:function(){return this.actions&&this.actions.filter(function(t){return!1!==t.visible})},enumerable:!0,configurable:!0}),n.prototype.ngAfterContentInit=function(){this.initShowDetail()},n.prototype.ngDoCheck=function(){this.checkItemsChange()},n.prototype.checkTitleType=function(t){return this.propertyLink&&t[this.propertyLink]?t[this.propertyLink].startsWith("http")?"externalLink":"internalLink":"noLink"},n.prototype.getItemTitle=function(t){return this.hasContentTemplate&&this.listViewContentTemplate.title?this.listViewContentTemplate.title(t):t[this.propertyTitle]},n.prototype.hasItems=function(){return this.items&&this.items.length>0},n.prototype.returnBooleanValue=function(t,e){return M(t.disabled,"function")?t.disabled(e):t.disabled},n.prototype.trackBy=function(t){return t},n.prototype.togglePopup=function(t,e){this.popupTarget=e,this.changeDetector.detectChanges(),this.thfPopupComponent.toggle(t)},n.prototype.checkItemsChange=function(){var t=this.differ.diff(this.items);t&&this.selectAll&&(this.selectAll=null),t&&this.items&&this.items.length&&this.select&&!this.hideSelectAll&&(this.showHeader=!0)},n.prototype.initShowDetail=function(){var t=this;this.items&&this.items.length>0&&this.hasDetailTemplate&&this.listViewDetailTemplate.showDetail&&this.items.forEach(function(e){return e.$showDetail=t.listViewDetailTemplate.showDetail(e)})},n.decorators=[{type:e.Component,args:[{selector:"thf-list-view",template:' <div [class.thf-list-view-main-container-header]="showHeader" [class.thf-list-view-main-container]="!showHeader" [style.height.px]="height"> <div *ngIf="showHeader" class="thf-list-view-main-header"> <div class="thf-checkbox-group-item"> <div class="thf-list-view-main-select"> <input class="thf-input thf-checkbox-group-input" type="checkbox" [class.thf-checkbox-group-input-checked]="selectAll" [class.thf-checkbox-group-input-indeterminate]="selectAll === null"> <label class="thf-checkbox-group-label thf-clickable" (click)="selectAllListItems()"> {{ literals.selectAll }} </label> </div> </div> </div> <div class="thf-list-view-main-content"> <div class="thf-list-view" *ngIf="!hasItems()"> <div class="thf-list-view-container-no-data thf-text-center"> <span> {{ literals.noData }} </span> </div> </div> <ng-container *ngFor="let item of items; let index = index; trackBy: trackBy"> <div class="thf-list-view"> <div class="thf-list-view-container"> <div class="thf-list-view-header"> <div class="thf-list-view-title" [ngSwitch]="checkTitleType(item)"> <div *ngIf="select" class="thf-list-view-select"> <input class="thf-input thf-checkbox-group-input" type="checkbox" [class.thf-checkbox-group-input-checked]="item.$selected"> <label class="thf-checkbox-group-label thf-clickable" (click)="selectListItem(item)"></label> </div> <a *ngSwitchCase="\'externalLink\'" class="thf-list-view-title-link" target="_blank" [href]="item[propertyLink]" (click)="runTitleAction($event)"> {{ getItemTitle(item) }} </a> <a *ngSwitchCase="\'internalLink\'" class="thf-list-view-title-link" [routerLink]="item[propertyLink]" (click)="runTitleAction($event)"> {{ getItemTitle(item) }} </a> <span *ngSwitchCase="\'noLink\'" class="thf-list-view-title-no-link" [class.thf-list-view-title-link]="titleHasAction" (click)="titleHasAction && runTitleAction($event)"> {{ getItemTitle(item) }} </span> </div> <div *ngIf="showButtonsActions" class="thf-list-view-actions"> <thf-button *ngFor="let action of visibleActions" t-small="true" [t-disabled]="returnBooleanValue(action, item)" [t-icon]="action.icon" [t-label]="action.label" [t-type]="action.type" (t-click)="onClickAction(action, item)"> </thf-button> </div> <div *ngIf="showPopupActions" class="thf-list-view-more-actions"> <span #popupTarget class="thf-icon thf-icon-more thf-list-view-more-icon thf-clickable" (click)="togglePopup(item, popupTarget)"> </span> </div> </div> <div *ngIf="hasContentTemplate" class="thf-list-view-content"> <ng-template [ngTemplateOutlet]="listViewContentTemplate.templateRef" [ngTemplateOutletContext]="{ $implicit: item, index: index }"> </ng-template> </div> <div @showHideDetail *ngIf="hasDetailTemplate && item.$showDetail" class="thf-list-view-detail"> <ng-template [ngTemplateOutlet]="listViewDetailTemplate.templateRef" [ngTemplateOutletContext]="{ $implicit: item, index: index }"> </ng-template> </div> </div> <div *ngIf="hasDetailTemplate" class="thf-list-view-detail-button"> <span class="thf-clickable" (click)="item.$showDetail = !item.$showDetail"> {{ item.$showDetail ? literals.hideDetails : literals.showDetails }} </span> </div> </div> </ng-container> </div> </div> <div *ngIf="displayShowMoreButton" class="thf-mb-2 thf-text-center"> <thf-button [t-disabled]="showMoreDisabled" [t-label]="literals.loadMoreData" (t-click)="onShowMore()"> </thf-button> </div> <thf-popup #popup [t-actions]="actions" [t-target]="popupTarget"> </thf-popup> ',animations:[u.trigger("showHideDetail",[u.state("*",u.style({"overflow-y":"visible"})),u.state("void",u.style({"overflow-y":"hidden"})),u.transition("* => void",[u.style({height:"*","overflow-y":"hidden"}),u.animate(100,u.style({height:0}))]),u.transition("void => *",[u.style({height:"0"}),u.animate(100,u.style({height:"*"}))])])]}]}],n.ctorParameters=function(){return[{type:e.ChangeDetectorRef},{type:e.IterableDiffers}]},n.propDecorators={listViewContentTemplate:[{type:e.ContentChild,args:[Oo]}],listViewDetailTemplate:[{type:e.ContentChild,args:[ko]}],thfPopupComponent:[{type:e.ViewChild,args:["popup"]}]},n}(Io),Po=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule,i.RouterModule,J,he],declarations:[_o,Oo,ko],exports:[_o,Oo,ko],providers:[],schemas:[]}]}],t}(),Eo=function(){return(Eo=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},So={en:{itemNotFound:"Item not found."},es:{itemNotFound:"Elemento no encontrado."},pt:{itemNotFound:"Item não encontrado."}},Mo=function(){function t(t){this.menuService=t,this._filter=!1,this._maxLevel=4,this.literals=Eo({},So[_],So[P()])}return Object.defineProperty(t.prototype,"menus",{get:function(){return this._menus},set:function(t){this._menus=Array.isArray(t)?t:[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxLevel",{get:function(){return this._maxLevel},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filter",{get:function(){return this._filter},set:function(t){this._filter=""===t||E(t),this.filteredItems=this._menus.slice()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"service",{get:function(){return this._service},set:function(t){this._service=t||void 0,this.configService(this.service)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"params",{get:function(){return this._params},set:function(t){this._params=t&&M(t,"object")?t:void 0},enumerable:!0,configurable:!0}),t.prototype.configService=function(t){"string"==typeof t&&t.trim()?(this.menuService.configProperties(t),this.filterService=this.menuService):"object"==typeof t&&t.getFilteredData?this.filterService=t:this.filterService=void 0},t.prototype.setMenuExtraProperties=function(){var t=this;this.allowIcons=!0,this.allowCollapseMenu=!0,this.menus.forEach(function(e){t._level=1,t.allowIcons=!!t.allowIcons&&z(e.icon),t.allowCollapseMenu=!(!t.allowCollapseMenu||!t.allowIcons)&&z(e.shortLabel),t.setMenuItemProperties(e),e.subItems&&(t._level++,t.processSubItems(e))})},t.prototype.setMenuItemProperties=function(t){t.id=t.id||a.v4(),t.level=this._level,t.type=this.setMenuType(t)},t.prototype.validateMenus=function(t){var e=this;t.forEach(function(t){return e.validateMenu(t)})},t.prototype.processSubItems=function(t){var e=this;t.subItems.forEach(function(t,n,i){var o=i[n-1];o&&o.subItems&&(e._level=o.level),e._level<=e.maxLevel&&(e.setMenuItemProperties(t),t.subItems&&(e._level++,e.processSubItems(t)))})},t.prototype.setMenuType=function(t){return t.subItems&&t.subItems.length>0&&this._level<this.maxLevel?"subItems":t.link?q(t.link)?"externalLink":"internalLink":"noLink"},t.prototype.validateMenu=function(t){var e=this;if(!t.label||""===t.label.trim())throw new Error("O atributo ThfMenuItem.label não pode ser vazio.");t.subItems&&t.subItems.forEach(function(t){e.validateMenu(t)})},t.propDecorators={menus:[{type:e.Input,args:["t-menus"]}],filter:[{type:e.Input,args:["t-filter"]}],service:[{type:e.Input,args:["t-service"]}],params:[{type:e.Input,args:["t-params"]}]},t}(),Ao=function(){function t(){this.subjectParent=new s.Subject,this.subjectChild=new s.Subject}return t.prototype.sendToParentMenuClicked=function(t){this.subjectChild.next(t)},t.prototype.receiveFromChildMenuClicked=function(){return this.subjectChild.asObservable()},t.prototype.sendToChildMenuClicked=function(t){this.subjectParent.next(t)},t.prototype.receiveFromParentMenuClicked=function(){return this.subjectParent.asObservable()},t.decorators=[{type:e.Injectable}],t}(),xo=function(){return(xo=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},To=function(){function t(t){this.http=t}return Object.defineProperty(t.prototype,"url",{get:function(){return this._url},enumerable:!0,configurable:!0}),t.prototype.configProperties=function(t){this._url=t},t.prototype.getFilteredData=function(t,e){var n=xo({search:t},e);return this.http.get(this.url,{params:n}).pipe(c.map(function(t){return t&&t.items}))},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:o.HttpClient}]},t}(),Ro=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Lo=function(t,e,n,i){return new(n||(n=Promise))(function(o,r){function s(t){try{l(i.next(t))}catch(t){r(t)}}function a(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(s,a)}l((i=i.apply(t,e||[])).next())})},Vo=function(t,e){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(t){r=[6,t],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},Fo=function(t){function n(e,n,i,o,r,s,a){var l=t.call(this,a)||this;return l.element=n,l.renderer=i,l.router=o,l.menuItemsService=r,l.changeDetector=s,l.collapsedMenu=!1,l.filterLoading=!1,l.menuMobileOpened=!1,l.noData=!1,l.filteringItems=!1,l.menuInitialized=!1,l.menuPrevious=null,l.parentRef=e._view.component,l}return Ro(n,t),Object.defineProperty(n.prototype,"isActiveItemMenuSubMenu",{get:function(){return this.activeMenuItem.level>this.groupedMenuItem.level},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"enableCollapseButton",{get:function(){return this.allowCollapseMenu&&!this.collapsedMenu&&!this.menuMobileOpened},enumerable:!0,configurable:!0}),n.prototype.ngDoCheck=function(){if(!this.filteringItems||!this.filter){var t=JSON.stringify(this.menus);this.menuPrevious===t&&this.menuInitialized||this.updateMenu(),this.validateCollapseClass()}},n.prototype.ngOnDestroy=function(){this.itemSubscription.unsubscribe(),this.routeSubscription.unsubscribe()},n.prototype.ngOnInit=function(){var t=this;this.subscribeToMenuItem(),this.subscribeToRoute(),setTimeout(function(){var e=t.checkingRouterChildrenFragments();t.checkActiveMenuByUrl(e)})},n.prototype.activateMenuByUrl=function(t,e){var n=this;if(e)return e.some(function(e){var i=H(e.link);return i===t?(n.linkActive=i,n.activateMenuItem(e),!0):n.activateMenuByUrl(t,e.subItems)})},n.prototype.checkActiveMenuByUrl=function(t){this.linkActive&&this.linkActive===t||this.activateMenuByUrl(t,this.menus)},n.prototype.debounceFilter=function(t){var e=this;clearTimeout(this.timeoutFilter),this.timeoutFilter=setTimeout(function(){e.filterProcess(t)},400)},n.prototype.subscribeToMenuItem=function(){var t=this;this.itemSubscription=this.menuItemsService.receiveFromChildMenuClicked().subscribe(function(e){t.clickMenuItem(e)})},n.prototype.subscribeToRoute=function(){var t=this;this.routeSubscription=this.router.events.subscribe(function(e){if(e instanceof i.NavigationEnd||e instanceof i.NavigationCancel){var n=t.checkingRouterChildrenFragments();t.checkActiveMenuByUrl(n)}})},n.prototype.toggleMenuCollapse=function(){this.collapsedMenu=!this.collapsedMenu,this.validateCollapseClass(),this.groupedMenuItem&&(this.groupedMenuItem=this.getActiveMenuParent(this.menus,this.activeMenuItem,this.groupedMenuItem)||this.groupedMenuItem,this.toggleGroupedMenuItem()),this.activeMenuItem&&this.activateCollapseSubMenuItem(),this.menuItemsService.sendToChildMenuClicked({active:this.activeMenuItem,grouped:this.groupedMenuItem,activatedByRoute:!0}),this.updateMenu()},n.prototype.toggleMenuMobile=function(){this.menuMobileOpened=!this.menuMobileOpened,L()||this.menuMobileOpened&&this.createResizeListener()},n.prototype.activateCollapseSubMenuItem=function(){this.clearGroupMenuIfFirstLevel(this.activeMenuItem),!this.collapsedMenu&&this.activeMenuItem.level>1&&this.isActiveItemMenuSubMenu&&this.openParentMenu(this.activeMenuItem)},n.prototype.activateMenuItem=function(t){this.activeMenuItem=t,this.linkActive=t.link,this.activeMenuItem.level>1?this.openParentMenu(this.activeMenuItem):this.groupedMenuItem=null,this.menuItemsService.sendToChildMenuClicked({active:this.activeMenuItem,grouped:this.groupedMenuItem,activatedByRoute:!0})},n.prototype.areSubMenus=function(t){return t.every(function(t){return t.level>1})},n.prototype.checkingRouterChildrenFragments=function(){var t=this.router.parseUrl(this.router.url).root.children.primary;return t?"/"+t.segments.map(function(t){return t.path}).join("/"):""},n.prototype.clearGroupMenuIfFirstLevel=function(t){1===t.level&&(this.groupedMenuItem=void 0)},n.prototype.clickMenuItem=function(t){t.action&&this.executeMenuAction(t),"externalLink"===t.type?B(t.link):"internalLink"===t.type?this.activateMenuItem(t):"subItems"===t.type&&(this.filteringItems&&(this.filteringItems=!1),this.groupMenuItem(t)),"subItems"!==t.type&&(this.menuMobileOpened=!1)},n.prototype.convertToMenuItemFiltered=function(t){void 0===t&&(t={label:"",link:""});var e={label:t.label,link:t.link};return this.setMenuItemProperties(e),e},n.prototype.createResizeListener=function(){var t=this;this.resizeListener=this.renderer.listen("window","resize",function(){t.menuMobileOpened=!1,t.resizeListener()})},n.prototype.executeMenuAction=function(t){"string"==typeof t.action?this.parentRef[t.action](t):t.action.call(this.parentRef,t)},n.prototype.filterItems=function(t){return Lo(this,void 0,void 0,function(){var e,n,i;return Vo(this,function(o){switch(o.label){case 0:return(e=t&&t.trim())?(this.filteredItems=[],n=this,this.filterService?[4,this.filterOnService(e)]:[3,2]):[3,4];case 1:return i=o.sent(),[3,3];case 2:i=this.filterLocalItems(e),o.label=3;case 3:return n.filteredItems=i,this.filteringItems=!0,[3,5];case 4:this.filteredItems=this.menus.slice(),this.filteringItems=!1,o.label=5;case 5:return[2]}})})},n.prototype.filterLocalItems=function(t){var e=[];return this.findItems(this.menus,t.toLowerCase(),e),e},n.prototype.filterProcess=function(t){var e=this;this.filterLoading=!0,this.filterItems(t).then(function(){e.filterLoading=!1,e.showNoData(),e.changeDetector.detectChanges(),e.menuItemsService.sendToChildMenuClicked({active:e.activeMenuItem,grouped:e.groupedMenuItem})}).catch(function(t){e.filterLoading=!1,Promise.reject(t)})},n.prototype.filterOnService=function(t){return void 0===t&&(t=""),Lo(this,void 0,void 0,function(){var e=this;return Vo(this,function(n){switch(n.label){case 0:return t.length>=3?[4,this.filterService.getFilteredData(t,this.params).pipe(c.map(function(t){return t.map(function(t){return e.convertToMenuItemFiltered(t)})})).toPromise()]:[3,2];case 1:return[2,n.sent()];case 2:return[2,this.filteredItems]}})})},n.prototype.findItems=function(t,e,n){var i=this;t.forEach(function(t){(t.label.toLowerCase().includes(e)&&!t.subItems||t.subItems&&i.findItems(t.subItems,e,n))&&n.push(t)})},n.prototype.findParent=function(t,e){var n=function(t,e){if(t)for(var i=0;i<t.length;i++){var o=t[i];if(o.subItems&&o.subItems.find(function(t){return t.id===e}))return o;var r=n(o.subItems,e);if(r)return r}};return n(t,e.id)},n.prototype.findRootParent=function(t,e){var n=this.findParent,i=function(t,e){var o=n(t,e);return 1!==o.level&&(o=i(t,o)),o};return i(t,e)},n.prototype.getActiveMenuParent=function(t,e,n){if(this.areSubMenus([n,e]))return this.findRootParent(t,e)},n.prototype.groupMenuItem=function(t){this.collapsedMenu&&this.toggleMenuCollapse(),t.isOpened=!t.isOpened,this.groupedMenuItem=t,this.activeMenuItem&&t.isOpened&&this.isActiveItemMenuSubMenu&&this.isRootMenuEqualGroupedMenu(this.menus,this.activeMenuItem,t)&&this.activateMenuItem(this.activeMenuItem),this.menuItemsService.sendToChildMenuClicked({active:this.activeMenuItem,grouped:this.groupedMenuItem})},n.prototype.isRootMenuEqualGroupedMenu=function(t,e,n){return this.findRootParent(t,e).id===n.id},n.prototype.openParentMenu=function(t){var e=this.findParent(this.menus,t);e.isOpened=!0,this.groupedMenuItem=e},n.prototype.showNoData=function(){this.noData=0===this.filteredItems.length},n.prototype.toggleGroupedMenuItem=function(){this.groupedMenuItem.isOpened=!this.collapsedMenu&&this.allowCollapseMenu},n.prototype.updateMenu=function(){this.menuInitialized=!0,this.setMenuExtraProperties(),this.filteredItems=this.menus.slice(),this.menuPrevious=JSON.stringify(this.menus),this.validateMenus(this.menus)},n.prototype.validateCollapseClass=function(){var t=this.element.nativeElement.parentNode;this.renderer[this.collapsedMenu&&this.allowCollapseMenu?"addClass":"removeClass"](t,"thf-collapsed-menu")},n.decorators=[{type:e.Component,args:[{selector:"thf-menu",template:'<div *ngIf="menuMobileOpened" class="thf-menu-overlay" (click)="toggleMenuMobile()"></div> <div class="thf-menu-mobile thf-clickable" (click)="toggleMenuMobile()"> <span class="thf-icon thf-icon-menu"></span> </div> <div class="thf-menu" [ngClass]="{ \'thf-menu-animation\' : menuMobileOpened }"> <div class="thf-menu-header-container" [class.thf-menu-header-filter]="filter"> <a href="./"> <div [ngClass]="allowCollapseMenu && collapsedMenu ? \'thf-menu-panel-logo\' : \'thf-menu-logo\'"></div> </a> <a *ngIf="enableCollapseButton" class="thf-collapse-button-icon thf-clickable" (click)="toggleMenuCollapse()"> </a> <thf-menu-filter *ngIf="filter && !collapsedMenu" [t-loading]="filterLoading" (t-filter)="debounceFilter($event)"> </thf-menu-filter> </div> <nav class="thf-menu-container"> \x3c!-- Inner e outer para esconder scroll --\x3e <div class="thf-menu-outer"> <div class="thf-menu-inner"> <div *ngIf="noData" class="thf-menu-item-wrapper"> <div class="thf-menu-item-first"> <div class="thf-menu-icon-container thf-menu-item-no-data"> <span class="thf-icon thf-icon-info thf-menu-icon-item thf-lg-2"></span> <div class="thf-lg-10 thf-menu-icon-label"> {{literals.itemNotFound}} </div> </div> </div> </div> <div *ngFor="let menu of filteredItems, let menuIndex = index;" class="thf-menu-item-wrapper"> <thf-menu-item [class.thf-menu-item-first]="menuIndex === 0" [t-action]="menu.action" [t-collapsed-menu]="collapsedMenu" [t-id]="menu.id" [t-label]="menu.label" [t-icon]="allowIcons ? menu.icon : null" [t-level]="menu.level" [t-link]="menu.link" [t-short-label]="menu.shortLabel" [t-sub-items]="menu.subItems" [t-type]="menu.type"> </thf-menu-item> </div> </div> </div> </nav> <div *ngIf="allowCollapseMenu && collapsedMenu" class="thf-collapse-button-bottom thf-clickable" (click)="toggleMenuCollapse()"> <a class="thf-collapse-button-bottom-icon"><span class="thf-icon thf-icon-menu"></span></a> </div> </div> ',providers:[Ao,To]}]}],n.ctorParameters=function(){return[{type:e.ViewContainerRef},{type:e.ElementRef},{type:e.Renderer2},{type:i.Router},{type:Ao},{type:e.ChangeDetectorRef},{type:To}]},n}(Mo),jo=function(){function t(){this.clean=!0,this.filter=new e.EventEmitter}return t.prototype.filterItems=function(t){this.filter.emit(t)},t.decorators=[{type:e.Component,args:[{selector:"thf-menu-filter",template:'<div class="thf-menu-filter-container"> <input #inputFilter type="text" class="thf-menu-filter" placeholder="Pesquisar" (keyup)="filterItems(inputFilter.value)"> <div class="thf-menu-filter-search-icon-container"> <span *ngIf="!loading" class="thf-icon thf-menu-filter-icon thf-icon-search"></span> <span *ngIf="loading" class="thf-icon thf-menu-filter-icon thf-loading-icon"></span> </div> <div class="thf-menu-filter-close-icon-container"> <thf-clean [t-element-ref]="inputFilterElement" (t-change-event)="filterItems(inputFilter.value)"></thf-clean> </div> </div> '}]}],t.propDecorators={loading:[{type:e.Input,args:["t-loading"]}],inputFilterElement:[{type:e.ViewChild,args:["inputFilter",{read:e.ElementRef}]}],filter:[{type:e.Output,args:["t-filter"]}]},t}(),No=function(){function t(t){this.menuItemsService=t,this.maxHeight=0,this.subItemSize=74}return t.prototype.ngOnDestroy=function(){this.itemSubscription.unsubscribe()},t.prototype.ngOnInit=function(){var t=this;this.itemSubscription=this.menuItemsService.receiveFromParentMenuClicked().subscribe(function(e){t.processMenuItem(e)})},t.prototype.clickMenuItem=function(t){t.ctrlKey||t.metaKey||(t.preventDefault(),this.menuItemsService.sendToParentMenuClicked({link:this.link,action:this.action,id:this.id,icon:this.icon,label:this.label,level:this.level,subItems:this.subItems,isSelected:this.isSelected,isOpened:this.isOpened,shortLabel:this.shortLabel,type:this.type}))},t.prototype.accordionAnimation=function(t,e,n,i){this.id===e.id&&(this.maxHeight=this.subItems.length*this.subItemSize),n&&(this.maxHeight=e.isOpened?this.maxHeight+e.subItems.length*this.subItemSize:this.maxHeight-e.subItems.length*this.subItemSize,i&&(this.maxHeight=this.getMinimumHeight(0,this,t)))},t.prototype.activateMenu=function(t){this.isSelected=t&&this.id===t.id},t.prototype.getMinimumHeight=function(t,e,n){if(t+=this.subItemSize,e.subItems&&this.hasSubItem(e.subItems,n.id))for(var i=0;i<e.subItems.length;i++)t=this.getMinimumHeight(t,e.subItems[i],n);return t},t.prototype.groupedMenu=function(t,e,n){void 0===n&&(n=!1);var i=!(!e||this.id===e.id)&&this.hasSubItem(this.subItems,e.id);this.isOpened=this.isMenuOpened(e,i),this.isSelected=!(!t||this.isOpened)&&this.hasSubItem(this.subItems,t.id),this.isOpened?this.accordionAnimation(t,e,i,n):this.maxHeight=0},t.prototype.hasSubItem=function(t,e){var n=this;if(t)return t.some(function(t){return t.id===e||n.hasSubItem(t.subItems,e)})},t.prototype.isMenuOpened=function(t,e){return!!t&&(this.id===t.id?t.isOpened:e)},t.prototype.processMenuItem=function(t){"internalLink"!==this.type?"subItems"!==this.type||this.groupedMenu(t.active,t.grouped,t.activatedByRoute):this.activateMenu(t.active)},t.decorators=[{type:e.Component,args:[{selector:"thf-menu-item",template:'\x3c!-- menu com link interno --\x3e <a *ngIf="type === \'internalLink\'" class="thf-menu-item-link" [routerLink]="link"> <ng-container *ngTemplateOutlet="menuItemTemplate"></ng-container> </a> \x3c!-- menu com link externo --\x3e <a *ngIf="type === \'externalLink\'" class="thf-menu-item-link" [href]="link"> <ng-container *ngTemplateOutlet="menuItemTemplate"></ng-container> </a> \x3c!-- menu sem link --\x3e <a *ngIf="type === \'noLink\'" class="thf-menu-item-link" href="javascript:;"> <ng-container *ngTemplateOutlet="menuItemTemplate"></ng-container> </a> \x3c!-- menu com sub itens --\x3e <div *ngIf="type === \'subItems\'" class="thf-menu-item-link thf-clickable"> <ng-container *ngTemplateOutlet="menuItemTemplate;"></ng-container> <div [hidden]="collapsedMenu" class="thf-menu-sub-items" [style.maxHeight.px]="maxHeight"> <div *ngFor="let subItem of subItems"> <thf-menu-item [t-action]="subItem.action" [t-id]="subItem.id" [t-label]="subItem.label" [t-level]="subItem.level" [t-link]="subItem.link" [t-sub-items]="subItem.subItems" [t-type]="subItem.type"> </thf-menu-item> </div> </div> </div> <ng-template #menuItemTemplate> <div class="thf-menu-item" [class.thf-menu-icon-container]="level === 1 && icon" [class.thf-menu-item-selected]="isSelected" [class.thf-menu-item-level-two]="level === 2" [class.thf-menu-item-level-three]="level === 3" [class.thf-menu-item-level-four]="level === 4" [class.thf-menu-item-grouper-up]="type === \'subItems\' && isOpened" [class.thf-menu-item-grouper-down]="type === \'subItems\' && !isOpened" (click)="clickMenuItem($event);"> <span *ngIf="level === 1 && icon" class="thf-icon {{icon}} thf-menu-icon-item"></span> <span *ngIf="type === \'subItems\' && !collapsedMenu" class="thf-icon thf-menu-group-icon" [class.thf-icon-arrow-up]="isOpened" [class.thf-icon-arrow-down]="!isOpened"> </span> <div [class.thf-menu-icon-label]="level === 1 && icon"> {{ label }} </div> <div *ngIf="collapsedMenu" class="thf-menu-short-label">{{ shortLabel }}</div> </div> </ng-template> '}]}],t.ctorParameters=function(){return[{type:Ao}]},t.propDecorators={action:[{type:e.Input,args:["t-action"]}],collapsedMenu:[{type:e.Input,args:["t-collapsed-menu"]}],icon:[{type:e.Input,args:["t-icon"]}],id:[{type:e.Input,args:["t-id"]}],isOpened:[{type:e.Input,args:["t-is-opened"]}],isSelected:[{type:e.Input,args:["t-is-selected"]}],label:[{type:e.Input,args:["t-label"]}],level:[{type:e.Input,args:["t-level"]}],link:[{type:e.Input,args:["t-link"]}],shortLabel:[{type:e.Input,args:["t-short-label"]}],subItems:[{type:e.Input,args:["t-sub-items"]}],type:[{type:e.Input,args:["t-type"]}]},t}(),zo=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule,i.RouterModule,Si],declarations:[Fo,jo,No],exports:[Fo]}]}],t}(),qo=function(){function t(){}return Object.defineProperty(t.prototype,"menus",{get:function(){return this._menus},set:function(t){this._menus=Array.isArray(t)?t:[],this.setMenuExtraProperties(this._menus),this.validateMenus(this._menus)},enumerable:!0,configurable:!0}),t.prototype.setMenuExtraProperties=function(t){var e=this;t.forEach(function(t){return e.setMenuItemProperties(t)})},t.prototype.setMenuItemProperties=function(t){t.id=t.id||a.v4(),t.type=this.setMenuType(t)},t.prototype.setMenuType=function(t){return t.link?q(t.link)?"externalLink":"internalLink":"noLink"},t.prototype.validateMenu=function(t){if(!t.label)throw new Error("O atributo ThfMenuPanelItem.label não pode ser vazio.");if(!t.icon)throw new Error("O atributo ThfMenuPanelItem.icon não pode ser vazio.")},t.prototype.validateMenus=function(t){var e=this;t.forEach(function(t){return e.validateMenu(t)})},t.propDecorators={menus:[{type:e.Input,args:["t-menus"]}]},t}(),Bo=function(){function t(){this.subjectChild=new s.Subject,this.subjectParent=new s.Subject}return t.prototype.receiveFromChildMenuClicked=function(){return this.subjectChild.asObservable()},t.prototype.receiveFromParentMenuClicked=function(){return this.subjectParent.asObservable()},t.prototype.sendToParentMenuClicked=function(t){this.subjectChild.next(t)},t.prototype.sendToChildMenuClicked=function(t){this.subjectParent.next(t)},t.decorators=[{type:e.Injectable}],t}(),Ho=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Wo=function(t){function o(e,n,i,o){var r=t.call(this)||this;return r.location=n,r.menuItemsService=i,r.router=o,r.parentRef=e._view.component,r}return Ho(o,t),o.prototype.ngOnDestroy=function(){this.itemSubscription.unsubscribe(),this.routeSubscription.unsubscribe()},o.prototype.ngOnInit=function(){this.subscribeToMenuItem(),this.subscribeToRoute()},o.prototype.activateMenuByUrl=function(t,e){var n=this;if(e)return e.some(function(e){if(H(e.link)===t)return n.activateMenuItem(e),!0})},o.prototype.activateMenuItem=function(t){this.activeMenuItem=t,this.linkActive=H(t.link),this.menuItemsService.sendToChildMenuClicked({active:this.activeMenuItem,activatedByRoute:!0})},o.prototype.checkActiveMenuByUrl=function(t){this.linkActive&&this.linkActive===t||this.activateMenuByUrl(t,this.menus)},o.prototype.clickMenuItem=function(t){t.action&&A(t.action,this.parentRef,t),"externalLink"===t.type?B(t.link):"internalLink"===t.type&&this.activateMenuItem(t)},o.prototype.subscribeToRoute=function(){var t=this;this.routeSubscription=this.router.events.subscribe(function(e){e instanceof i.NavigationEnd&&t.checkActiveMenuByUrl(t.location.path())})},o.prototype.subscribeToMenuItem=function(){var t=this;this.itemSubscription=this.menuItemsService.receiveFromChildMenuClicked().subscribe(function(e){return t.clickMenuItem(e)})},o.decorators=[{type:e.Component,args:[{selector:"thf-menu-panel",template:'<div class="thf-menu-panel"> <div class="thf-menu-panel-logo-container"> <a href="./"> <div class="thf-menu-panel-logo"></div> </a> </div> <nav class="thf-menu-panel-container"> <div class="thf-menu-panel-inner"> <div *ngFor="let menu of menus, let menuIndex = index;" class="thf-menu-panel-item-wrapper"> <thf-menu-panel-item [class.thf-menu-panel-item-first]="menuIndex === 0" [t-menu-item-internal]="menu"> </thf-menu-panel-item> </div> </div> </nav> </div> '}]}],o.ctorParameters=function(){return[{type:e.ViewContainerRef},{type:n.Location},{type:Bo},{type:i.Router}]},o}(qo),$o=function(){function t(t){this.menuItemsService=t}return t.prototype.ngOnDestroy=function(){this.itemsSubscription.unsubscribe()},t.prototype.ngOnInit=function(){this.subscribeMenuClickedFromParent()},t.prototype.clickMenuItem=function(t){t.ctrlKey||t.metaKey||(t.preventDefault(),this.menuItemsService.sendToParentMenuClicked(this.menuItemInternal))},t.prototype.activateMenu=function(t){this.menuItemInternal.isSelected=this.menuItemInternal.id===t.id},t.prototype.processMenuItem=function(t){"internalLink"===this.menuItemInternal.type&&this.activateMenu(t.active)},t.prototype.subscribeMenuClickedFromParent=function(){var t=this;this.itemsSubscription=this.menuItemsService.receiveFromParentMenuClicked().subscribe(function(e){t.processMenuItem(e)})},t.decorators=[{type:e.Component,args:[{selector:"thf-menu-panel-item",template:'\x3c!-- menu com link interno --\x3e <a *ngIf="menuItemInternal.type === \'internalLink\'" [routerLink]="menuItemInternal.link"> <ng-container *ngTemplateOutlet="menuItemTemplate"></ng-container> </a> \x3c!-- menu com link externo --\x3e <a *ngIf="menuItemInternal.type === \'externalLink\'" [href]="menuItemInternal.link"> <ng-container *ngTemplateOutlet="menuItemTemplate"></ng-container> </a> \x3c!-- menu sem link --\x3e <a *ngIf="menuItemInternal.type === \'noLink\'" href="javascript:;"> <ng-container *ngTemplateOutlet="menuItemTemplate"></ng-container> </a> <ng-template #menuItemTemplate> <div class="thf-menu-panel-item" t-tooltip-position="right" [class.thf-menu-panel-item-selected]="menuItemInternal.isSelected" [t-tooltip]="menuItemInternal.label" (click)="clickMenuItem($event);"> <span class="thf-icon {{menuItemInternal.icon}}"></span> </div> </ng-template> '}]}],t.ctorParameters=function(){return[{type:Bo}]},t.propDecorators={menuItemInternal:[{type:e.Input,args:["t-menu-item-internal"]}]},t}(),Uo=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule,i.RouterModule,Si,be],declarations:[Wo,$o],exports:[Wo],providers:[Bo]}]}],t}(),Yo=function(){return function(){}}(),Ko=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Go=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Ko(n,t),n.decorators=[{type:e.Component,args:[{selector:"thf-page",template:'<div class="thf-page"> <ng-content> </ng-content> </div> '}]}],n}(Yo),Xo=function(){return function(){}}(),Jo=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Zo=function(t){function n(e){var n=t.call(this)||this;return n.renderer=e,n.contentOpacity=0,n.height="90%",n.overflowY="none",n.initializeListeners(),n}return Jo(n,t),n.prototype.ngAfterViewInit=function(){this.recalculateHeaderSize()},n.prototype.ngOnDestroy=function(){this.removeListeners()},n.prototype.recalculateHeaderSize=function(){var t=this;setTimeout(function(){var e=document.querySelector("div.thf-page-header");t.setHeightContent(e),t.contentOpacity=1})},n.prototype.setHeightContent=function(t){var e=document.body.clientHeight-(t?t.offsetTop+t.offsetHeight:0);this.height=e+"px"},n.prototype.initializeListeners=function(){var t=this;this.resizeListener=this.renderer.listen("window","resize",function(){t.recalculateHeaderSize()})},n.prototype.removeListeners=function(){this.resizeListener()},n.decorators=[{type:e.Component,args:[{selector:"thf-page-content",template:'<div class="thf-page-content" [style.height]="height" [style.opacity]="contentOpacity" [style.overflow-y]="overflowY"> <ng-content></ng-content> </div> '}]}],n.ctorParameters=function(){return[{type:e.Renderer2}]},n}(Xo),Qo=function(){function t(){this._actions=[]}return Object.defineProperty(t.prototype,"actions",{get:function(){return this._actions},set:function(t){this._actions=Array.isArray(t)?t:[],this.setDropdownActions()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){return this._title},set:function(t){this._title=t,this.thfPageContent.recalculateHeaderSize()},enumerable:!0,configurable:!0}),t.propDecorators={thfPageContent:[{type:e.ViewChild,args:[Zo]}],actions:[{type:e.Input,args:["t-actions"]}],breadcrumb:[{type:e.Input,args:["t-breadcrumb"]}],title:[{type:e.Input,args:["t-title"]}]},t}(),tr=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),er=function(t){function n(e,n,i){var o=t.call(this)||this;return o.renderer=n,o.router=i,o.limitPrimaryActions=3,o.maxWidthMobile=480,o.parentRef=e._view.component,o}return tr(n,t),n.prototype.ngAfterContentInit=function(){var t=this;this.setIsMobile(),this.setDropdownActions(),this.renderer.listen("window","resize",function(e){t.onResize(e)})},n.prototype.ngOnChanges=function(t){this.setDropdownActions()},n.prototype.actionIsDisabled=function(t){return M(t.disabled,"function")?t.disabled(t):t.disabled},n.prototype.callAction=function(t){t.url?this.router.navigate([t.url]):t.action&&A(t.action,this.parentRef)},n.prototype.hasPageHeader=function(){return!!(this.title||this.actions&&this.actions.length||this.breadcrumb&&this.breadcrumb.items.length)},n.prototype.onResize=function(t){t.target.innerWidth<this.maxWidthMobile?(this.isMobile=!0,this.limitPrimaryActions=2,this.setDropdownActions()):(this.isMobile=!1,this.limitPrimaryActions=3,this.setDropdownActions())},n.prototype.setIsMobile=function(){window.innerWidth<this.maxWidthMobile&&(this.isMobile=!0,this.limitPrimaryActions=2)},n.prototype.setDropdownActions=function(){this.actions.length>this.limitPrimaryActions&&(this.dropdownActions=this.actions.slice(this.limitPrimaryActions-1))},n.decorators=[{type:e.Component,args:[{selector:"thf-page-default",template:'<thf-page> \x3c!-- HEADER --\x3e <thf-page-header *ngIf="hasPageHeader()" [t-breadcrumb]="breadcrumb" [t-title]="title"> \x3c!-- OPERATIONS --\x3e <div class="thf-page-header-actions"> <thf-dropdown *ngIf="actions.length > limitPrimaryActions" t-label="Outras ações" [t-actions]="dropdownActions"> </thf-dropdown> <thf-button *ngIf="actions.length === 3 && actions[2] && !isMobile" [t-disabled]="actionIsDisabled(actions[2])" [t-label]="actions[2].label" (t-click)="callAction(actions[2])"> </thf-button> <thf-button *ngIf="actions[1] && (actions.length === 2 || !isMobile)" [t-disabled]="actionIsDisabled(actions[1])" [t-label]="actions[1].label" (t-click)="callAction(actions[1])"> </thf-button> <thf-button *ngIf="actions[0]" t-type="primary" [t-disabled]="actionIsDisabled(actions[0])" [t-icon]="actions[0].icon" [t-label]="actions[0].label" (t-click)="callAction(actions[0])"> </thf-button> </div> </thf-page-header> \x3c!-- CONTENT --\x3e <thf-page-content> <ng-content></ng-content> </thf-page-content> </thf-page> '}]}],n.ctorParameters=function(){return[{type:e.ViewContainerRef},{type:e.Renderer2},{type:i.Router}]},n}(Qo),nr=function(){return(nr=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},ir={en:{back:"Back",edit:"Edit",remove:"Remove"},es:{back:"Volver",edit:"Editar",remove:"Eliminar"},pt:{back:"Voltar",edit:"Editar",remove:"Remover"}},or=function(){function t(){}return Object.defineProperty(t.prototype,"literals",{get:function(){return this._literals||ir[P()]},set:function(t){t instanceof Object&&!(t instanceof Array)?this._literals=nr({},ir[_],ir[P()],t):this._literals=ir[P()]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){return this._title},set:function(t){this._title=t,this.thfPageContent.recalculateHeaderSize()},enumerable:!0,configurable:!0}),t.propDecorators={thfPageContent:[{type:e.ViewChild,args:[Zo]}],breadcrumb:[{type:e.Input,args:["t-breadcrumb"]}],literals:[{type:e.Input,args:["t-literals"]}],title:[{type:e.Input,args:["t-title"]}]},t}();function rr(t,e){return e&&e[t]}function sr(t,e){rr(t,e)&&e[t]()}var ar=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),lr=function(t){function n(e){var n=t.call(this)||this;return n.callActionFn=sr,n.hasActionFn=rr,n.parentContext=e._view.component,n}return ar(n,t),n.prototype.hasAnyAction=function(){return this.hasActionFn("back",this.parentContext)||this.hasActionFn("edit",this.parentContext)||this.hasActionFn("remove",this.parentContext)},n.prototype.hasEditFn=function(t){return"icon"===t?this.hasActionFn("edit",this.parentContext)?"":"thf-icon-delete":"type"===t?this.hasActionFn("edit",this.parentContext)?"default":"primary":""},n.prototype.hasEditOrRemoveFn=function(t){return"icon"===t?this.hasActionFn("edit",this.parentContext)||this.hasActionFn("remove",this.parentContext)?"":"thf-icon-arrow-left":"type"===t?this.hasActionFn("edit",this.parentContext)||this.hasActionFn("remove",this.parentContext)?"default":"primary":""},n.prototype.hasPageHeader=function(){return!!(this.title||this.hasAnyAction()||this.breadcrumb&&this.breadcrumb.items.length)},n.decorators=[{type:e.Component,args:[{selector:"thf-page-detail",template:'<thf-page> \x3c!-- HEADER --\x3e <thf-page-header *ngIf="hasPageHeader()" [t-breadcrumb]="breadcrumb" [t-title]="title"> \x3c!-- OPERATIONS --\x3e <div *ngIf="hasAnyAction()" class="thf-page-header-actions"> <thf-button *ngIf="hasActionFn(\'back\', parentContext)" [t-icon]="hasEditOrRemoveFn(\'icon\')" [t-label]="literals.back" [t-type]="hasEditOrRemoveFn(\'type\')" (t-click)="callActionFn(\'back\', parentContext)"> </thf-button> <thf-button *ngIf="hasActionFn(\'remove\', parentContext)" [t-icon]="hasEditFn(\'icon\')" [t-label]="literals.remove" [t-type]="hasEditFn(\'type\')" (t-click)="callActionFn(\'remove\', parentContext)"> </thf-button> <thf-button *ngIf="hasActionFn(\'edit\', parentContext)" t-icon="thf-icon-edit" t-type="primary" [t-label]="literals.edit" (t-click)="callActionFn(\'edit\', parentContext)"> </thf-button> </div> </thf-page-header> \x3c!-- CONTENT --\x3e <thf-page-content> <ng-content> </ng-content> </thf-page-content> </thf-page> '}]}],n.ctorParameters=function(){return[{type:e.ViewContainerRef}]},n}(or),cr=function(){return(cr=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},ur={en:{cancel:"Cancel",save:"Save",saveNew:"Save and New"},es:{cancel:"Cancelar",save:"Guardar",saveNew:"Guardar y Nuevo"},pt:{cancel:"Cancelar",save:"Salvar",saveNew:"Salvar e Novo"}},pr=function(){function t(){}return Object.defineProperty(t.prototype,"literals",{get:function(){return this._literals||ur[P()]},set:function(t){t instanceof Object&&!(t instanceof Array)?this._literals=cr({},ur[_],ur[P()],t):this._literals=ur[P()]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){return this._title},set:function(t){this._title=t,this.thfPageContent.recalculateHeaderSize()},enumerable:!0,configurable:!0}),t.propDecorators={thfPageContent:[{type:e.ViewChild,args:[Zo]}],breadcrumb:[{type:e.Input,args:["t-breadcrumb"]}],disableSubmit:[{type:e.Input,args:["t-disable-submit"]}],literals:[{type:e.Input,args:["t-literals"]}],title:[{type:e.Input,args:["t-title"]}]},t}(),hr=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),dr=function(t){function n(e){var n=t.call(this)||this;return n.hasAction=rr,n.callAction=sr,n.parentContext=e._view.component,n}return hr(n,t),n.prototype.getIcon=function(t){return"cancel"===t?this.isPrimaryAction("cancel")?"thf-icon-close":"":"saveNew"===t&&this.isPrimaryAction("saveNew")?"thf-icon-ok":""},n.prototype.getType=function(t){var e="cancel"===t&&this.isPrimaryAction("cancel"),n="saveNew"===t&&this.isPrimaryAction("saveNew");return e||n?"primary":"default"},n.prototype.hasAnyAction=function(){return rr("cancel",this.parentContext)||rr("saveNew",this.parentContext)||rr("save",this.parentContext)},n.prototype.hasPageHeader=function(){return!!(this.title||this.hasAnyAction()||this.breadcrumb&&this.breadcrumb.items.length)},n.prototype.isPrimaryAction=function(t){var e=!rr("save",this.parentContext);return"saveNew"===t?e:"cancel"===t&&(!rr("saveNew",this.parentContext)&&e)},n.decorators=[{type:e.Component,args:[{selector:"thf-page-edit",template:'<thf-page> \x3c!-- HEADER --\x3e <thf-page-header *ngIf="hasPageHeader()" [t-breadcrumb]="breadcrumb" [t-title]="title"> \x3c!-- OPERATIONS --\x3e <div *ngIf="hasAnyAction()" class="thf-page-header-actions"> <thf-button *ngIf="hasAction(\'cancel\', parentContext)" [t-icon]="getIcon(\'cancel\')" [t-label]="literals.cancel" [t-type]="getType(\'cancel\')" (t-click)="callAction(\'cancel\', parentContext)"> </thf-button> <thf-button *ngIf="hasAction(\'saveNew\', parentContext)" [t-disabled]="disableSubmit" [t-icon]="getIcon(\'saveNew\')" [t-label]="literals.saveNew" [t-type]="getType(\'saveNew\')" (t-click)="callAction(\'saveNew\', parentContext)"> </thf-button> <thf-button *ngIf="hasAction(\'save\', parentContext)" t-icon="thf-icon-ok" t-type="primary" [t-disabled]="disableSubmit" [t-label]="literals.save" (t-click)="callAction(\'save\', parentContext)"> </thf-button> </div> </thf-page-header> \x3c!-- CONTENT --\x3e <thf-page-content> <ng-content> </ng-content> </thf-page-content> </thf-page> '}]}],n.ctorParameters=function(){return[{type:e.ViewContainerRef}]},n}(pr),fr=function(){function t(){}return Object.defineProperty(t.prototype,"breadcrumb",{get:function(){return this._breadcrumb},set:function(t){this._breadcrumb=t},enumerable:!0,configurable:!0}),t.propDecorators={breadcrumb:[{type:e.Input,args:["t-breadcrumb"]}],title:[{type:e.Input,args:["t-title"]}]},t}(),gr=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),mr=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return gr(n,t),n.decorators=[{type:e.Component,args:[{selector:"thf-page-header",template:'<div class="thf-page-header"> \x3c!-- Breadcrumb --\x3e <div class="thf-page-header-breadcrumb" *ngIf="breadcrumb && breadcrumb.items.length"> <thf-breadcrumb [t-favorite-service]="breadcrumb.favorite" [t-items]="breadcrumb.items" [t-params-service]="breadcrumb.params"> </thf-breadcrumb> </div>  \x3c!-- Titulo --\x3e <h1 class="thf-page-header-title" *ngIf="title"> {{ title }} </h1> \x3c!-- Operações --\x3e <ng-content></ng-content> </div> '}]}],n}(fr),yr=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),br=function(){return(br=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},vr={en:{otherActions:"Other actions"},es:{otherActions:"Otras acciones"},pt:{otherActions:"Outras ações"}},wr=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return yr(n,t),Object.defineProperty(n.prototype,"disclaimerGroup",{get:function(){return this._disclaimerGroup},set:function(t){t||(t={}),this._disclaimerGroup=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"literals",{get:function(){return this._literals||vr[P()]},set:function(t){t instanceof Object&&!(t instanceof Array)?this._literals=br({},vr[_],vr[P()],t):this._literals=vr[P()]},enumerable:!0,configurable:!0}),n.propDecorators={breadcrumb:[{type:e.Input,args:["t-breadcrumb"]}],disclaimerGroup:[{type:e.Input,args:["t-disclaimer-group"]}],filter:[{type:e.Input,args:["t-filter"]}],literals:[{type:e.Input,args:["t-literals"]}]},n}(Qo),Cr=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ir=function(t){function n(e,n,i){var o=t.call(this)||this;return o.renderer=n,o.router=i,o.limitPrimaryActions=3,o.isRecalculate=!0,o.maxWidthMobile=480,o.callFunction=A,o.parentRef=e._view.component,o.initializeListeners(),o}return Cr(n,t),n.prototype.ngOnInit=function(){this.advancedSearch=this.initFixedLiterals()},n.prototype.ngAfterContentInit=function(){this.setIsMobile(),this.setDropdownActions()},n.prototype.ngOnChanges=function(t){this.setDropdownActions()},n.prototype.ngOnDestroy=function(){this.removeListeners()},n.prototype.actionIsDisabled=function(t){return M(t.disabled,"function")?t.disabled(t):t.disabled},n.prototype.callAction=function(t){t.url?this.router.navigate([t.url]):t.action&&A(t.action,this.parentRef)},n.prototype.hasPageHeader=function(){return!!(this.title||this.actions&&this.actions.length||this.breadcrumb&&this.breadcrumb.items.length)},n.prototype.onResize=function(t){t.target.innerWidth<this.maxWidthMobile?(this.isMobile=!0,this.limitPrimaryActions=2,this.setDropdownActions()):(this.isMobile=!1,this.limitPrimaryActions=3,this.setDropdownActions())},n.prototype.setIsMobile=function(){window.innerWidth<this.maxWidthMobile&&(this.isMobile=!0,this.limitPrimaryActions=2)},n.prototype.setDropdownActions=function(){this.actions.length>this.limitPrimaryActions&&(this.dropdownActions=this.actions.slice(this.limitPrimaryActions-1))},n.prototype.callActionFilter=function(t){this.callFunction(this.filter[t],this.parentRef)},n.prototype.initFixedLiterals=function(){return{pt:{advancedSearch:"Busca avançada"},en:{advancedSearch:"Advanced search"},es:{advancedSearch:"Búsqueda avanzada"}}[P()].advancedSearch},n.prototype.onkeypress=function(t){13===t&&this.callActionFilter("action")},n.prototype.changeModel=function(t){this.parentRef[this.filter.ngModel]=t},n.prototype.onChangeDisclaimerGroup=function(t){(t&&t.length&&this.isRecalculate||0===t.length&&!this.isRecalculate)&&(this.thfPageContent.recalculateHeaderSize(),this.isRecalculate=!this.isRecalculate),this.disclaimerGroup&&this.disclaimerGroup.change&&this.disclaimerGroup.change(t)},n.prototype.initializeListeners=function(){var t=this;this.resizeListener=this.renderer.listen("window","resize",function(e){t.onResize(e)})},n.prototype.removeListeners=function(){this.resizeListener()},n.decorators=[{type:e.Component,args:[{selector:"thf-page-list",template:'<thf-page> \x3c!-- HEADER --\x3e <thf-page-header *ngIf="hasPageHeader()" [class.thf-page-list-header-padding]="filter && !actions.length" [t-breadcrumb]="breadcrumb" [t-title]="title"> \x3c!-- OPERATIONS --\x3e <div class="thf-page-list-operations"> <div class="thf-page-list-actions" [class.thf-page-list-actions-padding]="filter"> <thf-button *ngIf="actions[0]" t-type="primary" [t-disabled]="actionIsDisabled(actions[0])" [t-icon]="actions[0].icon" [t-label]="actions[0].label" (t-click)="callAction(actions[0])"> </thf-button> <thf-button *ngIf="actions[1] && (actions.length === 2 || !isMobile)" [t-disabled]="actionIsDisabled(actions[1])" [t-label]="actions[1].label" (t-click)="callAction(actions[1])"> </thf-button> <thf-button *ngIf="actions.length == 3 && actions[2] && !isMobile" [t-disabled]="actionIsDisabled(actions[2])" [t-label]="actions[2].label" (t-click)="callAction(actions[2])"> </thf-button> <thf-dropdown *ngIf="actions.length > limitPrimaryActions" [t-actions]="dropdownActions" [t-label]="literals.otherActions"> </thf-dropdown> </div> \x3c!-- FILTER --\x3e <div class="thf-page-list-filter-wrapper" *ngIf="filter"> <div class="thf-field-container-content thf-page-filter-content"> <div class="thf-field-icon-container-right"> <span class="thf-icon thf-icon-search thf-field-icon" (click)="callActionFilter(\'action\')"> </span> </div> <input class="thf-input thf-input-icon-right" name="model" type="text" [ngModel]="parentRef[filter.ngModel]" [placeholder]="filter.placeholder || \'\'" (keypress)="onkeypress($event.keyCode)" (ngModelChange)="changeModel($event)"> </div> <div class="thf-page-list-filter-search" *ngIf="filter.advancedAction"> <span class="thf-page-list-filter-search-link" tabindex="0" (click)="callActionFilter(\'advancedAction\')" (keydown.enter)="callActionFilter(\'advancedAction\')"> {{advancedSearch}} </span> </div> </div> </div> \x3c!-- DISCLAIMER --\x3e <thf-disclaimer-group *ngIf="!!disclaimerGroup" [class.thf-page-list-disclaimer-group]="!!disclaimerGroup?.disclaimers?.length" [t-disclaimers]="disclaimerGroup?.disclaimers" [t-hide-remove-all]="disclaimerGroup?.hideRemoveAll" [t-title]="disclaimerGroup?.title" (t-change)="onChangeDisclaimerGroup($event)"> </thf-disclaimer-group> </thf-page-header> \x3c!-- CONTENT --\x3e <thf-page-content> <ng-content></ng-content> </thf-page-content> </thf-page> '}]}],n.ctorParameters=function(){return[{type:e.ViewContainerRef},{type:e.Renderer2},{type:i.Router}]},n.propDecorators={thfPageContent:[{type:e.ViewChild,args:[Zo]}]},n}(wr),Or=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule,r.FormsModule,i.RouterModule,k,J,zt,Ut,Si,oe],declarations:[Go,Zo,er,lr,dr,mr,Ir],exports:[lr,er,dr,Ir]}]}],t}(),kr="right",Dr="click",_r=["click","hover"],Pr=function(){function t(){this.isHidden=!0,this._hideArrow=!1,this._position=kr,this._trigger=Dr}return Object.defineProperty(t.prototype,"hideArrow",{get:function(){return this._hideArrow},set:function(t){this._hideArrow=E(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"position",{get:function(){return this._position},set:function(t){this._position=ae.includes(t)?t:kr},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"trigger",{get:function(){return this._trigger},set:function(t){this._trigger=_r.includes(t)?t:Dr},enumerable:!0,configurable:!0}),t.propDecorators={hideArrow:[{type:e.Input,args:["t-hide-arrow"]}],position:[{type:e.Input,args:["t-position"]}],target:[{type:e.Input,args:["t-target"]}],title:[{type:e.Input,args:["t-title"]}],trigger:[{type:e.Input,args:["t-trigger"]}]},t}(),Er=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Sr=function(t){function n(e,n){var i=t.call(this)||this;return i.renderer=e,i.thfControlPosition=n,i.arrowDirection="left",i}return Er(n,t),n.prototype.ngAfterViewInit=function(){this.initEventListenerFunction();this.thfControlPosition.setElements(this.popoverElement.nativeElement,8,this.target),this.setRendererListenInit()},n.prototype.ngOnDestroy=function(){this.removeListeners()},n.prototype.close=function(){this.isHidden=!0},n.prototype.debounceResize=function(){var t=this;clearTimeout(this.timeoutResize),this.timeoutResize=setTimeout(function(){t.setPopoverPosition()},200)},n.prototype.open=function(){var t=this;this.addScrollEventListener(),this.isHidden=!1,this.setOpacity(0),setTimeout(function(){t.thfControlPosition.adjustPosition(t.position),t.arrowDirection=t.thfControlPosition.getArrowDirection(),t.setOpacity(1)})},n.prototype.setOpacity=function(t){this.popoverElement.nativeElement.style.opacity=t},n.prototype.setPopoverPosition=function(){this.thfControlPosition.adjustPosition(this.position),this.arrowDirection=this.thfControlPosition.getArrowDirection()},n.prototype.setRendererListenInit=function(){var t=this;this.resizeListener=this.renderer.listen("window","resize",function(e){t.isHidden||t.debounceResize()}),"hover"===this.trigger?(this.mouseEnterListener=this.renderer.listen(this.target.nativeElement,"mouseenter",function(e){t.open()}),this.mouseLeaveListener=this.renderer.listen(this.target.nativeElement,"mouseleave",function(e){t.close()})):this.clickoutListener=this.renderer.listen("document","click",function(e){t.togglePopup(e)})},n.prototype.togglePopup=function(t){this.isHidden||this.popoverElement.nativeElement.contains(t.target)||this.target.nativeElement.contains(t.target)?this.target.nativeElement.contains(t.target)&&(this.popoverElement.nativeElement.hidden?this.open():this.close()):this.close()},n.prototype.addScrollEventListener=function(){window.addEventListener("scroll",this.eventListenerFunction,!0)},n.prototype.initEventListenerFunction=function(){var t=this;this.eventListenerFunction=function(){t.setPopoverPosition()}},n.prototype.removeListeners=function(){this.clickoutListener&&this.clickoutListener(),this.mouseEnterListener&&this.mouseEnterListener(),this.mouseLeaveListener&&this.mouseLeaveListener(),this.resizeListener(),window.removeEventListener("scroll",this.eventListenerFunction,!0)},n.decorators=[{type:e.Component,args:[{selector:"thf-popover",template:'<div [hidden]="isHidden" class="thf-popover" #popoverElement> <div *ngIf="!hideArrow" class="thf-popover-arrow thf-arrow-{{ arrowDirection }}"></div> <div class="thf-popover-content"> <span *ngIf="title" class="thf-popover-title">{{ title }}</span> <ng-content></ng-content> </div> </div> ',providers:[se]}]}],n.ctorParameters=function(){return[{type:e.Renderer2},{type:se}]},n.propDecorators={popoverElement:[{type:e.ViewChild,args:["popoverElement",{read:e.ElementRef}]}]},n}(Pr),Mr=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule],declarations:[Sr],exports:[Sr]}]}],t}(),Ar=function(){function t(){this.click=new e.EventEmitter}return t.decorators=[{type:e.Component,args:[{selector:"thf-slide-circles",template:'<div class="thf-slide-circles"> <ng-container *ngFor="let item of items; let index = index;"> <div class="thf-slide-circle" [class.thf-slide-active-circle]="index === currentSlideIndex" (click)="click.emit(index)"> </div> </ng-container> </div> '}]}],t.propDecorators={currentSlideIndex:[{type:e.Input,args:["t-current-slide-index"]}],items:[{type:e.Input,args:["t-items"]}],click:[{type:e.Output,args:["t-click"]}]},t}(),xr=4e3,Tr=function(){function t(){this._interval=xr}return Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(t){this._height=S(t),this.setSlideHeight(this.height)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"interval",{get:function(){return this._interval},set:function(t){this._interval=S(t,xr),this._interval>=1e3?this.startInterval():this.cancelInterval()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"slides",{get:function(){return this._slides},set:function(t){this._slides=t,this.setSlideItems(t),t&&t.length&&this.startSlide()},enumerable:!0,configurable:!0}),t.propDecorators={height:[{type:e.Input,args:["t-height"]}],interval:[{type:e.Input,args:["t-interval"]}],slides:[{type:e.Input,args:["t-slides"]}]},t}(),Rr=function(){function t(t){this.templateRef=t}return t.decorators=[{type:e.Directive,args:[{selector:"[t-slide-content-template]"}]}],t.ctorParameters=function(){return[{type:e.TemplateRef}]},t}(),Lr=function(){function t(){var t;this.isIEOrEdge=(t=window.navigator.userAgent,/msie\s|trident\/|edge\//i.test(t))}return t.prototype.setLinkType=function(){return!this.template&&this.link?this.link.startsWith("http")?"externalLink":"internalLink":"noLink"},t.decorators=[{type:e.Component,args:[{selector:"thf-slide-item",template:'<div #slideItem class="thf-slide-item" [class.thf-slide-item-background-image]="!template && isIEOrEdge" [style.background-image]="!template && isIEOrEdge ? \'url(\' + image + \')\' : \'\'" [ngSwitch]="setLinkType()"> \x3c!-- slide com link interno --\x3e <a *ngSwitchCase="\'internalLink\'"  class="thf-slide-item-link"  [routerLink]="link"> <ng-container  [ngTemplateOutlet]="slideItemImage"  [ngTemplateOutletContext]="{ item: { alt: alt, image: image }}"> </ng-container> </a> \x3c!-- slide com link externo --\x3e <a  *ngSwitchCase="\'externalLink\'" class="thf-slide-item-link"  [href]="link"> <ng-container  [ngTemplateOutlet]="slideItemImage"  [ngTemplateOutletContext]="{ item: { alt: alt, image: image }}"> </ng-container> </a> \x3c!-- slide sem link --\x3e <a  *ngSwitchCase="\'noLink\'" [ngClass]="action ? \'thf-slide-item-link\' : \'thf-slide-item-no-link\'" (click)="action ? action(data) : undefined"> <ng-container  [ngTemplateOutlet]="template ? slideItemTemplate : slideItemImage" [ngTemplateOutletContext]="{ item: { alt: alt, image: image, data: data }}"> </ng-container> </a> </div> <ng-template #slideItemTemplate let-item=\'item\'> <div *ngIf="template" class="thf-slide-item-content"> <ng-template [ngTemplateOutlet]="template.templateRef" [ngTemplateOutletContext]="{ $implicit: item.data, index: index }"> </ng-template> </div> </ng-template> <ng-template #slideItemImage let-item=\'item\'> <img *ngIf="item.image && !isIEOrEdge" class="thf-slide-image" [alt]="item.alt" [src]="item.image" [style.height.px]="imageHeight"> </ng-template> '}]}],t.propDecorators={itemElement:[{type:e.ViewChild,args:["slideItem"]}],action:[{type:e.Input,args:["t-action"]}],alt:[{type:e.Input,args:["t-alt"]}],data:[{type:e.Input,args:["t-data"]}],image:[{type:e.Input,args:["t-image"]}],imageHeight:[{type:e.Input,args:["t-image-height"]}],template:[{type:e.Input,args:["t-template"]}],link:[{type:e.Input,args:["t-link"]}]},t}(),Vr=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Fr=function(t){function n(e){var n=t.call(this)||this;return n.builder=e,n.isLoaded=!1,n.currentSlideIndex=0,n.slideItems=[],n}return Vr(n,t),Object.defineProperty(n.prototype,"hasElements",{get:function(){return!!this.slide.nativeElement.offsetWidth&&!!this.itemsElements&&!!this.itemsElements.length},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isImageSlide",{get:function(){return!this.slideContentTemplate},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"offset",{get:function(){return this.currentSlideIndex*this.slideItemWidth},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"hasSlides",{get:function(){return!!this.slides&&!!this.slides.length},enumerable:!0,configurable:!0}),n.prototype.onResize=function(){this.slide&&(this.setSlideItemWidth(),this.goToItem(this.currentSlideIndex))},n.prototype.ngDoCheck=function(){!this.isLoaded&&this.hasElements&&(this.setSlideItemWidth(),this.isLoaded=!0,this.hasSlides&&this.startSlide())},n.prototype.goToItem=function(t){this.interval>1e3&&this.startInterval(),this.currentSlideIndex=t,this.animate(this.offset)},n.prototype.nextControl=function(){this.interval>1e3&&this.startInterval(),this.next()},n.prototype.next=function(){if(this.currentSlideIndex+1===this.slideItems.length)return this.currentSlideIndex=0,void this.animate(0);this.currentSlideIndex=(this.currentSlideIndex+1)%this.slideItems.length,this.animate(this.offset)},n.prototype.previous=function(){if(0===this.currentSlideIndex)return this.currentSlideIndex=this.slideItems.length-1,void this.animate(this.offset);this.currentSlideIndex=(this.currentSlideIndex-1+this.slideItems.length)%this.slideItems.length,this.animate(this.offset)},n.prototype.previousControl=function(){this.interval>1e3&&this.startInterval(),this.previous()},n.prototype.setSlideHeight=function(t){this.setHeight(t)},n.prototype.animate=function(t){if(this.hasElements){var e=this.buildTransitionAnimation(t);this.player=e.create(this.slide.nativeElement),this.player.play()}},n.prototype.buildTransitionAnimation=function(t){return this.builder.build([u.animate("250ms ease",u.keyframes([u.style({transform:"translateX(-"+t+"px)"})]))])},n.prototype.createArrayForTemplate=function(t){this.slideItems=t.slice()},n.prototype.createArrayFromSlides=function(t){var e=this;t.every(function(t){return"string"==typeof t})?t.forEach(function(t){return e.slideItems.push({image:""+t})}):this.slideItems=t.slice()},n.prototype.setDefaultHeight=function(t){t&&t<=192||!t&&this.isImageSlide?(this.slide.nativeElement.style.height="336px",this.imageHeight=336):this.imageHeight=void 0},n.prototype.setHeight=function(t){t&&t>192?(this.slide.nativeElement.style.height=t+"px",this.imageHeight=t):this.setDefaultHeight(t)},n.prototype.setSlideItemWidth=function(){this.hasElements&&(this.slideItemWidth=this.itemsElements.first.itemElement.nativeElement.getBoundingClientRect().width)},n.prototype.cancelInterval=function(){clearInterval(this.setInterval)},n.prototype.setSlideItems=function(t){this.hasSlides?this.slideContentTemplate?this.createArrayForTemplate(t):this.createArrayFromSlides(t):(this.slideItems=[],this.cancelInterval())},n.prototype.startSlide=function(){this.setSlideHeight(this.height),this.interval>1e3&&this.startInterval(),this.currentSlideIndex=0},n.prototype.startInterval=function(){var t=this;this.setInterval&&this.cancelInterval(),this.setInterval=this.hasSlides&&this.hasElements?setInterval(function(){t.next()},this.interval):void 0},n.decorators=[{type:e.Component,args:[{selector:"thf-slide",template:'<div class="thf-slide-wrapper"> <div class="thf-slide-outer"> <div class="thf-slide-inner" #slide> <ng-container *ngFor="let item of slideItems; let index = index;"> <thf-slide-item [t-action]="item.action" [t-data]="item" [t-image]="item.image" [t-image-height]="imageHeight" [t-template]="slideContentTemplate" [t-alt]="item.alt" [t-link]="item.link"> </thf-slide-item> </ng-container> </div> <thf-slide-control *ngIf="hasSlides && slides.length > 1"  t-control="previous" (t-click)="previousControl()"> </thf-slide-control> <thf-slide-control *ngIf="hasSlides && slides.length > 1" t-control="next" (t-click)="nextControl()"> </thf-slide-control> </div> <thf-slide-circles *ngIf="hasSlides && slides.length > 1" [t-current-slide-index]="currentSlideIndex" [t-items]="slideItems" (t-click)="goToItem($event)"> </thf-slide-circles> </div> '}]}],n.ctorParameters=function(){return[{type:u.AnimationBuilder}]},n.propDecorators={slideContentTemplate:[{type:e.ContentChild,args:[Rr]}],slide:[{type:e.ViewChild,args:["slide"]}],itemsElements:[{type:e.ViewChildren,args:[Lr]}],onResize:[{type:e.HostListener,args:["window:resize"]}]},n}(Tr),jr=function(){function t(){this.click=new e.EventEmitter}return t.decorators=[{type:e.Component,args:[{selector:"thf-slide-control",template:'<div class="thf-slide-control-{{control}}"> <div class="thf-slide-arrow-circle" (click)="click.emit();"> <div class="thf-slide-arrow thf-slide-arrow-{{control}}"></div> </div> </div> '}]}],t.propDecorators={control:[{type:e.Input,args:["t-control"]}],click:[{type:e.Output,args:["t-click"]}]},t}(),Nr=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule,i.RouterModule,Et],declarations:[Ar,Fr,jr,Rr,Lr],exports:[Fr,Rr],providers:[],schemas:[]}]}],t}(),zr={Done:"done",Active:"active",Default:"default"},qr=["horizontal","vertical"],Br="horizontal",Hr=function(){function t(){this._barLeftTop="left",this._barRightBottom="right",this._mode=Br,this._sequential=!0,this._step=1,this._steps=[],this.onChangeStep=new e.EventEmitter}return Object.defineProperty(t.prototype,"mode",{get:function(){return this._mode},set:function(t){this._mode=qr.includes(t)?t:Br,this.toggleBarClass()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"step",{get:function(){return this._step},set:function(t){t>=1&&t<=this.steps.length&&(this._step=t,this._steps[this._step-1].status=zr.Active)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"steps",{get:function(){return this._steps},set:function(t){this._steps=Array.isArray(t)?t:[],this._steps.forEach(function(t){return t.status=zr.Default}),this.step=1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sequential",{get:function(){return this._sequential},set:function(t){this._sequential=""===t||E(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"barLeftTop",{get:function(){return this._barLeftTop},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"barRightBottom",{get:function(){return this._barRightBottom},enumerable:!0,configurable:!0}),t.prototype.toggleBarClass=function(){this._mode===Br?(this._barLeftTop="left",this._barRightBottom="right"):(this._barLeftTop="top",this._barRightBottom="bottom")},t.propDecorators={mode:[{type:e.Input,args:["t-mode"]}],step:[{type:e.Input,args:["t-step"]}],steps:[{type:e.Input,args:["t-steps"]}],sequential:[{type:e.Input,args:["t-sequential"]}],onChangeStep:[{type:e.Output,args:["t-change-step"]}]},t}(),Wr=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),$r=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Wr(n,t),n.prototype.changeStep=function(t){t!==this.step&&this.canJumpStep(t)&&this.onChangeStep.emit(t)},n.prototype.canJumpStep=function(t){return!this.sequential||this.steps.slice(this.step,t-1).every(function(t){return t.status===zr.Done})},n.decorators=[{type:e.Component,args:[{selector:"thf-stepper",template:'<div class="thf-stepper-card-content"> <div class="thf-stepper thf-stepper-{{mode}}"> <div *ngFor="let step of steps; let i = index" class="thf-stepper-step thf-stepper-step-{{step.status}}" (click)="changeStep(i+1)"> <div class="thf-stepper-circle thf-stepper-{{i < 9 ? \'one-digit\' : \'two-digits\'}}"> <span class="thf-stepper-number">{{i+1}}</span> </div> <div class="thf-stepper-title"> {{step.label}} </div> <div class="thf-stepper-bar-{{barLeftTop}}"></div> <div class="thf-stepper-bar-{{barRightBottom}}"></div> </div> </div> </div> '}]}],n}(Hr),Ur=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule],declarations:[$r],exports:[$r]}]}],t}(),Yr=function(){function t(t){this.elementRef=t,this.activated=new e.EventEmitter,this.changeState=new e.EventEmitter,this.click=new e.EventEmitter}return Object.defineProperty(t.prototype,"active",{get:function(){return this._active},set:function(t){this._active=t,this.emitActivated()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hide",{get:function(){return this._hide},set:function(t){this._hide=E(t),this.setDisplayOnHide()},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){(t.hide&&t.hide.currentValue||t.disabled&&t.disabled.currentValue)&&this.changeState.emit(this)},t.prototype.onClick=function(){this.disabled||this.click.emit(this.id)},t.prototype.emitActivated=function(){this.active&&this.activated.emit(this)},t.prototype.setDisplayOnHide=function(){this.elementRef.nativeElement.style.display=this.hide?"none":""},t.decorators=[{type:e.Component,args:[{selector:"thf-tab-button",template:'<div class="thf-tab-button-md" [class.thf-tab-button-disabled]="disabled" [class.thf-tab-button-active]="active" [class.thf-tab-button-sm]="small" (click)="onClick()"> <span class="thf-tab-button-label"> {{label}} </span> </div> '}]}],t.ctorParameters=function(){return[{type:e.ElementRef}]},t.propDecorators={active:[{type:e.Input,args:["t-active"]}],disabled:[{type:e.Input,args:["t-disabled"]}],hide:[{type:e.Input,args:["t-hide"]}],id:[{type:e.Input,args:["t-id"]}],label:[{type:e.Input,args:["t-label"]}],small:[{type:e.Input,args:["t-small"]}],activated:[{type:e.Output,args:["t-activated"]}],changeState:[{type:e.Output,args:["t-change-state"]}],click:[{type:e.Output,args:["t-click"]}]},t}(),Kr=function(){function t(){this._active=!1,this._disabled=!1,this._hide=!1,this.id=function(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}(),this.click=new e.EventEmitter}return Object.defineProperty(t.prototype,"active",{get:function(){return this._active},set:function(t){this._active=E(t),this.setDisplayOnActive()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this._disabled},set:function(t){this._disabled=E(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hide",{get:function(){return this._hide},set:function(t){this._hide=E(t)},enumerable:!0,configurable:!0}),t.propDecorators={active:[{type:e.Input,args:["t-active"]}],disabled:[{type:e.Input,args:["t-disabled"]}],hide:[{type:e.Input,args:["t-hide"]}],label:[{type:e.Input,args:["t-label"]}],click:[{type:e.Output,args:["t-click"]}]},t}(),Gr=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Xr=function(t){function n(e){var n=t.call(this)||this;return n.elementRef=e,n}return Gr(n,t),n.prototype.ngAfterContentInit=function(){this.setDisplayOnActive()},n.prototype.setDisplayOnActive=function(){this.elementRef.nativeElement.style.display=this.active?"":"none"},n.decorators=[{type:e.Component,args:[{selector:"thf-tab",template:"<ng-content></ng-content> "}]}],n.ctorParameters=function(){return[{type:e.ElementRef}]},n}(Kr),Jr=function(){function t(){this.tabs=[],this.activated=new e.EventEmitter,this.changeState=new e.EventEmitter,this.click=new e.EventEmitter}return t.prototype.getContainerClass=function(){return this.small?"thf-tab-dropdown-container-sm":"thf-tab-dropdown-container"},t.decorators=[{type:e.Component,args:[{selector:"thf-tab-dropdown",template:'<div #tabDrop class="thf-tab-dropdown-content thf-tab-button-md" [class.thf-tab-button-sm]="small"> <div class="thf-tab-button-label"> {{ label }} <span class="thf-icon" [ngClass]="(popover.isHidden ? \'thf-icon-arrow-down\' : \'thf-icon-arrow-up\')"> </span> </div> </div> <thf-popover #popover t-hide-arrow t-position="bottom" [t-target]="tabDropdown"> <div [ngClass]="getContainerClass()"> <thf-tab-button *ngFor="let tab of tabs" class="thf-tab-dropdown-button" [class.thf-tab-dropdown-button-active]="tab.active" [t-active]="tab.active" [t-disabled]="tab.disabled" [t-hide]="tab.hide" [t-id]="tab.id" [t-label]="tab.label" [t-small]="small" (t-activated)="activated.emit(tab)" (t-change-state)="changeState.emit(tab)" (t-click)="popover.close();click.emit(tab);"> </thf-tab-button> </div> </thf-popover> '}]}],t.propDecorators={label:[{type:e.Input,args:["t-label"]}],small:[{type:e.Input,args:["t-small"]}],tabs:[{type:e.Input,args:["t-tabs"]}],activated:[{type:e.Output,args:["t-activated"]}],changeState:[{type:e.Output,args:["t-change-state"]}],click:[{type:e.Output,args:["t-click"]}],tabDropdown:[{type:e.ViewChild,args:["tabDrop",{read:e.ElementRef}]}]},t}(),Zr=function(){function t(){this._small=!1}return Object.defineProperty(t.prototype,"small",{get:function(){return this._small},set:function(t){this._small=E(t)},enumerable:!0,configurable:!0}),t.propDecorators={small:[{type:e.Input,args:["t-small"]}]},t}(),Qr=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ts=5,es=function(t){function n(e){var n=t.call(this)||this;return n.changeDetector=e,n.maxNumberOfTabs=ts,n}return Qr(n,t),Object.defineProperty(n.prototype,"isShowTabDropdown",{get:function(){return this.visibleTabs.length>this.maxNumberOfTabs},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"overflowedTabs",{get:function(){var t=this;return this.visibleTabs.filter(function(e,n){return n>t.maxNumberOfTabs-2})},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"visibleTabs",{get:function(){return this.tabs.filter(function(t){return!t.hide})},enumerable:!0,configurable:!0}),n.prototype.isVisibleTab=function(t){var e=this.visibleTabs.findIndex(function(e){return e.id===t.id});return this.visibleTabs.length<=this.maxNumberOfTabs||e<this.maxNumberOfTabs-1},n.prototype.onTabActive=function(t){this.previousActiveTab=this.tabs.find(function(e){return e.active&&e.id!==t.id}),this.deactivateTab()},n.prototype.onTabChangeState=function(t){t.active&&(t.active=!1,this.activeDistinctTab(),this.changeDetector.detectChanges())},n.prototype.selectedTab=function(t){t.active=!0,t.click&&t.click.emit(t),this.changeDetector.detectChanges()},n.prototype.trackByFn=function(t,e){return e.id},n.prototype.activeDistinctTab=function(){this.previousActiveTab?this.previousActiveTab.active=!0:this.activeFirstTab()},n.prototype.activeFirstTab=function(){this.tabs.some(function(t){if(!t.disabled&&!t.hide)return t.active=!0,!0})},n.prototype.deactivateTab=function(){this.previousActiveTab&&(this.previousActiveTab.active=!1,this.changeDetector.detectChanges())},n.decorators=[{type:e.Component,args:[{selector:"thf-tabs",template:'<div class="thf-tabs-header"> <ng-container *ngFor="let tab of tabs; trackBy: trackByFn"> <thf-tab-button *ngIf="isVisibleTab(tab)" class="thf-tab-button" [t-active]="tab.active" [t-disabled]="tab.disabled" [t-id]="tab.id" [t-hide]="tab.hide" [t-label]="tab.label" [t-small]="small" (t-activated)="onTabActive(tab)" (t-change-state)="onTabChangeState(tab)" (t-click)="selectedTab(tab)"> </thf-tab-button> </ng-container> <thf-tab-dropdown *ngIf="isShowTabDropdown" class="thf-tab-button thf-tab-dropdown" t-label="Mais" [t-small]="small" [t-tabs]="overflowedTabs" (t-activated)="onTabActive($event)" (t-change-state)="onTabChangeState($event)" (t-click)="selectedTab($event)"> </thf-tab-dropdown> </div> <div class="thf-tabs-container"> <ng-content></ng-content> </div> '}]}],n.ctorParameters=function(){return[{type:e.ChangeDetectorRef}]},n.propDecorators={tabs:[{type:e.ContentChildren,args:[Xr]}]},n}(Zr),ns=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule,Mr],declarations:[Yr,Xr,Jr,es],entryComponents:[Yr,Jr],exports:[Xr,es]}]}],t}(),is="thf-icon-more",os=function(){function t(){this._actionsIcon=is}return Object.defineProperty(t.prototype,"actionsIcon",{get:function(){return this._actionsIcon},set:function(t){this._actionsIcon=M(t,"string")?t:is},enumerable:!0,configurable:!0}),t.decorators=[{type:e.Component,args:[{selector:"thf-toolbar-actions",template:'<div class="thf-toolbar-actions thf-clickable" (click)="popup.toggle()"> <span #toolbarActions class="thf-icon {{ actionsIcon }} thf-toolbar-icon"></span> </div> <thf-popup #popup [t-actions]="actions" [t-target]="toolbarActions"> </thf-popup> ',providers:[se]}]}],t.propDecorators={actions:[{type:e.Input,args:["t-actions"]}],actionsIcon:[{type:e.Input,args:["t-actions-icon"]}]},t}(),rs=function(){function t(){this.showNotification=!0}return Object.defineProperty(t.prototype,"notificationNumber",{get:function(){return this._notificationNumber},set:function(t){this._notificationNumber=S(t,0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isShowProfile",{get:function(){return this.profile||this.profileActions},enumerable:!0,configurable:!0}),t.propDecorators={actions:[{type:e.Input,args:["t-actions"]}],actionsIcon:[{type:e.Input,args:["t-actions-icon"]}],profile:[{type:e.Input,args:["t-profile"]}],profileActions:[{type:e.Input,args:["t-profile-actions"]}],showNotification:[{type:e.Input,args:["t-show-notification"]}],title:[{type:e.Input,args:["t-title"]}],notificationActions:[{type:e.Input,args:["t-notification-actions"]}],notificationNumber:[{type:e.Input,args:["t-notification-number"]}]},t}(),ss=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),as=function(t){function n(e,n){var i=t.call(this)||this;return i.titleService=e,i.parentRef=n._view.component,i}return ss(n,t),n.prototype.ngOnInit=function(){this.setTitle(this.title)},n.prototype.setTitle=function(t){this.titleService.setTitle(t)},n.decorators=[{type:e.Component,args:[{selector:"thf-toolbar",template:'<div class="thf-toolbar"> <div class="thf-toolbar-title"> {{title}} </div> <div class="thf-toolbar-group-icon"> <thf-toolbar-actions *ngIf="actions && actions.length" [t-actions]="actions" [t-actions-icon]="actionsIcon"> </thf-toolbar-actions> <thf-toolbar-notification *ngIf="showNotification && notificationActions" [t-notification-actions]="notificationActions" [t-notification-number]="notificationNumber"> </thf-toolbar-notification> <thf-toolbar-profile *ngIf="isShowProfile" [t-profile]="profile || { avatar: userSrc, title: userName }" [t-profile-actions]="profileActions || userActions"> </thf-toolbar-profile> </div> </div> '}]}],n.ctorParameters=function(){return[{type:l.Title},{type:e.ViewContainerRef}]},n}(rs),ls=function(){function t(){this._notificationNumber=0}return Object.defineProperty(t.prototype,"notificationNumber",{get:function(){return this._notificationNumber},set:function(t){this._notificationNumber=Number.isInteger(t)?t:0},enumerable:!0,configurable:!0}),t.decorators=[{type:e.Component,args:[{selector:"thf-toolbar-notification",template:'<div class="thf-toolbar-notification thf-clickable" (click)="popup.toggle()"> <span #notification class="thf-icon thf-icon-notification thf-toolbar-icon"></span> <div *ngIf="notificationNumber" class="thf-toolbar-notification-badge"> {{ notificationNumber }} </div> </div> <thf-popup #popup [t-actions]="notificationActions" [t-target]="notification"> </thf-popup> ',providers:[se]}]}],t.propDecorators={notificationActions:[{type:e.Input,args:["t-notification-actions"]}],notificationNumber:[{type:e.Input,args:["t-notification-number"]}]},t}(),cs="./assets/images/totvs-logo-user.svg",us=function(){function t(){this.defaultAvatar=cs}return t.decorators=[{type:e.Component,args:[{selector:"thf-toolbar-profile",template:'<div #profileElement class="thf-toolbar-profile thf-clickable" (click)="popup.toggle()"> <ng-container *ngIf="profile.avatar; then avatar; else userIcon"></ng-container> </div> <thf-popup #popup [t-actions]="profileActions" [t-target]="profileElement"> <div t-popup-header-template *ngIf="profile?.title" class="thf-toolbar-profile-item-header"> <thf-avatar class="thf-toolbar-profile-item-avatar" t-size="sm" [t-src]="profile.avatar || defaultAvatar"> </thf-avatar> <div> <div class="thf-toolbar-profile-item-header-title"> {{ profile.title }} </div> <div *ngIf="profile.subtitle" class="thf-toolbar-profile-item-header-subtitle"> {{ profile.subtitle }} </div> </div> </div> </thf-popup> <ng-template #avatar> <thf-avatar t-size="xs" [t-src]="profile.avatar"></thf-avatar> </ng-template> <ng-template #userIcon> <span class="thf-icon thf-icon-user thf-toolbar-icon"></span> </ng-template> ',providers:[se]}]}],t.propDecorators={profile:[{type:e.Input,args:["t-profile"]}],profileActions:[{type:e.Input,args:["t-profile-actions"]}]},t}(),ps=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule,m,he],declarations:[os,as,ls,us],exports:[as],providers:[],schemas:[]}]}],t}(),hs=function(){function t(){this._noShadow=!1,this._primary=!1,this._size="thf-widget-xl",this.click=new e.EventEmitter,this.primaryAction=new e.EventEmitter,this.secondaryAction=new e.EventEmitter,this.titleAction=new e.EventEmitter}return Object.defineProperty(t.prototype,"background",{get:function(){return this._background},set:function(t){this._background=t&&"string"==typeof t?t:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(t){this._height=parseInt(t,10),this.setHeight(this.height)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"noShadow",{get:function(){return this._noShadow},set:function(t){this._noShadow=""===t||E(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"primary",{get:function(){return this._primary},set:function(t){this._primary=""===t||E(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._size},set:function(t){this._size=["sm","md","lg","xl"].indexOf(t)>-1?"thf-widget-"+t:"thf-widget-xl"},enumerable:!0,configurable:!0}),t.propDecorators={background:[{type:e.Input,args:["t-background"]}],height:[{type:e.Input,args:["t-height"]}],help:[{type:e.Input,args:["t-help"]}],noShadow:[{type:e.Input,args:["t-no-shadow"]}],click:[{type:e.Output,args:["t-click"]}],primary:[{type:e.Input,args:["t-primary"]}],primaryAction:[{type:e.Output,args:["t-primary-action"]}],primaryLabel:[{type:e.Input,args:["t-primary-label"]}],secondaryAction:[{type:e.Output,args:["t-secondary-action"]}],secondaryLabel:[{type:e.Input,args:["t-secondary-label"]}],size:[{type:e.Input,args:["t-size"]}],title:[{type:e.Input,args:["t-title"]}],titleAction:[{type:e.Output,args:["t-title-action"]}]},t}(),ds=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),fs=function(t){function n(n){var i=t.call(this)||this;return i.setting=new e.EventEmitter,i}return ds(n,t),Object.defineProperty(n.prototype,"showTitleAction",{get:function(){return!!this.titleAction.observers[0]},enumerable:!0,configurable:!0}),n.prototype.ngOnInit=function(){this.setHeight(this.height)},n.prototype.hasTitleHelpOrSetting=function(){return!!this.title||!!this.help||!!this.setting.observers[0]},n.prototype.isTypeof=function(t,e){return typeof t===e},n.prototype.onClick=function(t){this.click.emit(t)},n.prototype.openHelp=function(t){t.stopPropagation(),window.open(this.help,"_blank")},n.prototype.runPrimaryAction=function(t){t.stopPropagation(),this.primaryAction.emit()},n.prototype.runSecondaryAction=function(t){t.stopPropagation(),this.secondaryAction.emit()},n.prototype.runTitleAction=function(t){t.stopPropagation(),this.titleAction.emit()},n.prototype.setHeight=function(t){if(t){var e=t-32;this.title&&(e-=40),this.primaryLabel&&(e-=40),this.elBody.nativeElement.style.height=e+"px"}else this.elBody.nativeElement.style.height="auto"},n.prototype.settingOutput=function(t){t.stopPropagation(),this.setting.emit()},n.decorators=[{type:e.Component,args:[{selector:"thf-widget",template:'<div [class.thf-clickable]="click.observers.length" [class.thf-widget]="!primary" [class.thf-widget-primary]="primary" [class.thf-widget-no-shadow]="noShadow" [ngClass]="size" [style.background-image]="background ? \'url(\' + background + \')\' : undefined" (click)="onClick($event)"> <div *ngIf="hasTitleHelpOrSetting()" class="thf-widget-header"> <span *ngIf="showTitleAction; else noTitleAction" class="thf-widget-title-action" (click)="runTitleAction($event)"> {{ title }} </span> <ng-template #noTitleAction>{{ title }}</ng-template> <div *ngIf="setting.observers[0] || help" class="thf-pull-right"> <span id="settingAction" *ngIf="setting.observers[0]" class="thf-clickable thf-icon thf-icon-settings" (click)="settingOutput($event)"> </span> <span id="helpLink" *ngIf="help" class="thf-clickable thf-icon thf-icon-help" (click)="openHelp($event)"> </span> </div> </div> <div class="thf-widget-body" #elemBody> <ng-content></ng-content> </div> <div *ngIf="!isTypeof(primaryLabel, \'undefined\')" class="thf-widget-footer"> <div class="thf-widget-xl" *ngIf="isTypeof(secondaryLabel, \'undefined\')"> <a class="thf-widget-action" id=\'primaryAct\' (click)="runPrimaryAction($event)">{{ primaryLabel }}</a> </div> <div class="thf-widget-md" *ngIf="!isTypeof(secondaryLabel, \'undefined\')"> <a class="thf-widget-action" id=\'primaryAct\' (click)="runPrimaryAction($event)">{{ primaryLabel }}</a> </div> <div class="thf-widget-md" *ngIf="!isTypeof(secondaryLabel, \'undefined\')"> <a class="thf-widget-action" id=\'secondaryAct\' (click)="runSecondaryAction($event)">{{ secondaryLabel }}</a> </div> </div> </div> '}]}],n.ctorParameters=function(){return[{type:e.ViewContainerRef}]},n.propDecorators={setting:[{type:e.Output,args:["t-setting"]}],elBody:[{type:e.ViewChild,args:["elemBody",{read:e.ElementRef}]}]},n}(hs),gs=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule],exports:[fs],declarations:[fs]}]}],t}(),ms=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{declarations:[],imports:[m,k,J,it,pt,kt,Et,zt,Tt,Wt,Ut,lo,Si,fo,Li,vo,Po,Qt,zo,Uo,oe,Or,Mr,he,Nr,Ur,Re,ns,Yi,ps,gs],exports:[m,k,J,it,pt,kt,Et,zt,Tt,Wt,Ut,lo,Si,fo,Li,vo,Po,Qt,zo,Uo,oe,Or,Mr,he,Nr,Ur,Re,ns,Yi,ps,gs],providers:[],bootstrap:[]}]}],t}(),ys=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{declarations:[],imports:[be],exports:[be],providers:[],bootstrap:[]}]}],t}(),bs=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{declarations:[],imports:[],exports:[],providers:[],bootstrap:[]}]}],t}(),vs={Alert:0,Confirm:1};vs[vs.Alert]="Alert",vs[vs.Confirm]="Confirm";var ws=function(){function t(){}return t.prototype.confirm=function(t){this.openDialog(vs.Confirm,t)},t.prototype.alert=function(t){this.openDialog(vs.Alert,t)},t}(),Cs=function(){return(Cs=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Is={en:{ok:"Ok"},es:{ok:"Ok"},pt:{ok:"Ok"}},Os={en:{cancel:"Cancel",confirm:"Confirm"},es:{cancel:"Cancelar",confirm:"Confirmar"},pt:{cancel:"Cancelar",confirm:"Confirmar"}},ks=function(){function t(){this.primaryAction={label:"ok",action:function(){}}}return t.prototype.ngOnDestroy=function(){this.closeSubscription.unsubscribe()},t.prototype.ngOnInit=function(){var t=this;this.closeSubscription=this.thfModal.onXClosed.subscribe(function(e){return t.destroy()})},t.prototype.close=function(){this.thfModal.close(),this.destroy()},t.prototype.destroy=function(){this.componentRef&&this.componentRef.destroy()},t.prototype.configDialog=function(t,e,n,i){var o=this;this.primaryAction={label:t,action:function(){e&&e(),o.close()}},n&&(this.secondaryAction={label:n,action:function(){i&&i(),o.close()}})},t.prototype.open=function(t,e,n){switch(this.title=t.title,this.message=t.message,this.componentRef=n,this.setDialogLiterals(t,e),e){case vs.Confirm:this.configDialog(this.literalsConfirm.confirm,t.confirm,this.literalsConfirm.cancel,t.cancel);break;case vs.Alert:this.configDialog(this.literalsAlert.ok,t.ok)}this.thfModal.open()},t.prototype.setDialogLiterals=function(t,e){var n=Is,i=Os,o=t.literals;e===vs.Alert?this.literalsAlert=Cs({},n[_],n[P()],o):this.literalsConfirm=Cs({},i[_],i[P()],o)},t.decorators=[{type:e.Component,args:[{template:'<thf-modal [t-title]="title" [t-primary-action]="primaryAction" [t-secondary-action]="secondaryAction"> {{ message }} </thf-modal> '}]}],t.propDecorators={thfModal:[{type:e.ViewChild,args:[ie]}]},t}(),Ds=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),_s=function(t){function n(e){var n=t.call(this)||this;return n.thfComponentInjector=e,n}return Ds(n,t),n.prototype.openDialog=function(t,e){var n=this.thfComponentInjector.createComponentInApplication(ks);n.changeDetectorRef.detectChanges(),n.instance.open(e,t,n)},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:Sn}]},n}(ws),Ps={Bottom:0,Top:1};Ps[Ps.Bottom]="Bottom",Ps[Ps.Top]="Top";var Es={Error:0,Information:1,Success:2,Warning:3};Es[Es.Error]="Error",Es[Es.Information]="Information",Es[Es.Success]="Success",Es[Es.Warning]="Warning";var Ss=function(){function t(){this.stackTop=[],this.stackBottom=[],this.durationToaster=1e4}return t.prototype.success=function(t){this.createToaster(this.buildToaster(t,Es.Success))},t.prototype.warning=function(t){this.createToaster(this.buildToaster(t,Es.Warning))},t.prototype.error=function(t){this.createToaster(this.buildToaster(t,Es.Error))},t.prototype.information=function(t){this.createToaster(this.buildToaster(t,Es.Information))},t.prototype.buildToaster=function(t,e){var n,i=this,o=0;void 0===t.orientation||t.orientation===Ps.Bottom?(o=this.stackBottom.length,n=Ps.Bottom):(o=this.stackTop.length,n=Ps.Top);var r={componentRef:void 0,message:t.message||t,type:e,orientation:n,action:t.action,actionLabel:t.actionLabel,position:o};return t.action&&(r.action=function(e){t.action(),i.destroyToaster(e.componentRef)}),r},t}(),Ms=function(){return function(){this.orientation=Ps.Bottom}}(),As=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),xs=function(t){function n(e,n){var i=t.call(this)||this;return i.changeDetector=e,i.elementeRef=n,i.margin=20,i.observableOnClose=new s.Subject,i.showToaster=!0,i.toasterPosition="thf-toaster-bottom",i}return As(n,t),n.prototype.changePosition=function(t){this.elementeRef.nativeElement.style.display="table",this.margin=6+44*t+6*t,this.orientation===Ps.Top?this.toaster.nativeElement.style.top=this.margin+"px":this.toaster.nativeElement.style.bottom=this.margin+"px"},n.prototype.close=function(){this.showToaster=!1,this.observableOnClose.next(!0)},n.prototype.configToaster=function(t){switch(this.type=t.type,this.message=t.message,this.orientation=t.orientation,this.position=t.position,this.action=t.action,this.actionLabel=t.actionLabel?t.actionLabel:"Fechar",this.componentRef=t.componentRef,this.orientation===Ps.Top&&(this.toasterPosition="thf-toaster-top"),this.changePosition(this.position),this.type){case Es.Error:this.toasterType="thf-toaster-error",this.icon="thf-icon-close";break;case Es.Information:this.toasterType="thf-toaster-info",this.icon="thf-icon-info";break;case Es.Success:this.toasterType="thf-toaster-success",this.icon="thf-icon-ok";break;case Es.Warning:this.toasterType="thf-toaster-warning",this.icon="thf-icon-warning"}this.changeDetector.detectChanges()},n.prototype.getShowToaster=function(){return this.showToaster},n.prototype.getIcon=function(){return this.icon},n.prototype.getToasterPosition=function(){return this.toasterPosition},n.prototype.getToasterType=function(){return this.toasterType},n.prototype.thfToasterAction=function(){this.action(this)},n.decorators=[{type:e.Component,args:[{selector:"thf-toaster",template:'<div #toaster *ngIf="getShowToaster()" class="thf-toaster {{ getToasterType() }} {{ getToasterPosition() }} thf-clickable" (click)="close()"> <div class="thf-toaster-message"> <span class="thf-icon {{ getIcon() }}"></span> {{ message }} </div> <div *ngIf="action !== undefined" (click)="thfToasterAction()" class="thf-toaster-action"> {{ actionLabel }} </div> </div> '}]}],n.ctorParameters=function(){return[{type:e.ChangeDetectorRef},{type:e.ElementRef}]},n.propDecorators={toaster:[{type:e.ViewChild,args:["toaster"]}]},n}(Ms),Ts=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Rs=function(t){function n(e){var n=t.call(this)||this;return n.thfComponentInjector=e,n}return Ts(n,t),n.prototype.createToaster=function(t){var e=this,n=this.thfComponentInjector.createComponentInApplication(xs);t.componentRef=n,n.changeDetectorRef.detectChanges(),n.instance.configToaster(t),t.orientation===Ps.Top?this.stackTop.push(n):this.stackBottom.push(n),this.observableOnClose(n),void 0===t.action&&setTimeout(function(){e.destroyToaster(n)},this.durationToaster)},n.prototype.destroyToaster=function(t){var e,n=(e=t.instance.orientation===Ps.Top?this.stackTop:this.stackBottom).indexOf(t);e.splice(n,1),this.thfComponentInjector.destroyComponentInApplication(t);for(var i=0;i<e.length;i++)e[i].instance.changePosition(i)},n.prototype.observableOnClose=function(t){var e=this;t.instance.observableOnClose.subscribe(function(){e.destroyToaster(t)})},n.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],n.ctorParameters=function(){return[{type:Sn}]},n.ngInjectableDef=e.defineInjectable({factory:function(){return new n(e.inject(Sn))},token:n,providedIn:"root"}),n}(Ss),Ls=function(){function t(t,e){this.notification=t,this.dialog=e,this.notificationTypes=["success","warning","error","information"]}return t.prototype.intercept=function(t,e){var n=this,i=t.clone();return t=t.headers.has("X-Totvs-No-Error")?this.cloneRequestWithoutNoErrorHeaderParam(t):t,e.handle(t).pipe(c.tap(function(t){t instanceof o.HttpResponse&&n.processResponse(t)},function(t){n.processErrorResponse(t,i)}))},t.prototype.processResponse=function(t){var e=this;if(t.body&&t.body.totvs_messages){var n=t.body.totvs_messages;n instanceof Array?n.forEach(function(t){e.showNotification(t)}):this.showNotification(n)}},t.prototype.processErrorResponse=function(t,e){var n=0!==t.status?t.error:{code:0,message:"Servidor não está respondendo.",detailedMessage:t.message},i=this.hasNoErrorParam(e);n&&n.message&&!i&&this.showErrorNotification(n)},t.prototype.cloneRequestWithoutNoErrorHeaderParam=function(t){return t&&t.clone({headers:t.headers.delete("X-Totvs-No-Error")})},t.prototype.hasNoErrorParam=function(t){var e=t&&t.headers.get("X-Totvs-No-Error");return e&&"true"===e.toString().toLocaleLowerCase()},t.prototype.showNotification=function(t){this.notificationTypes.includes(t.type)&&this.notification[t.type]({message:t.detail})},t.prototype.showErrorNotification=function(t){var e=this.generateErrorNotificationAction(t);this.notification.error({message:t.message,actionLabel:e.label,action:e.action})},t.prototype.generateErrorNotificationAction=function(t){var e,n,i=t.message.concat(" "+t.detailedMessage);return t.details&&t.details instanceof Array&&t.details.forEach(function(t){i+="\n"+t.message}),!t.helpUrl||t.detailedMessage||t.details?(t.detailedMessage||t.details)&&(n="Detalhes",e=this.generateDialogDetailFunction(t,i)):(n="Ajuda",e=this.generateUrlHelpFunction(t.helpUrl)),{label:n,action:e}},t.prototype.generateUrlHelpFunction=function(t){return function(){window.open(t,"_blank")}},t.prototype.generateDialogDetailFunction=function(t,e){var n=this;return function(){n.dialog.alert({title:t.code,message:e,ok:t.helpUrl?n.generateUrlHelpFunction(t.helpUrl):void 0})}},t}(),Vs=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Fs=function(t){function n(e,n){return t.call(this,e,n)||this}return Vs(n,t),n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:Rs},{type:_s}]},n}(Ls),js=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{providers:[Fs,_s,Rs,{provide:o.HTTP_INTERCEPTORS,useClass:Fs,multi:!0}]}]}],t}(),Ns=function(){function t(){this.controlHttpRequest=new s.Subject}return t.prototype.getControlHttpRequest=function(){return this.controlHttpRequest.asObservable()},t.prototype.send=function(t){void 0===t&&(t=0),this.controlHttpRequest.next(t)},t.decorators=[{type:e.Injectable}],t}(),zs=function(){function t(t,e){this.controlHttpRequest=t,this.thfComponentInjector=e,this.loadingOverlayComponent=void 0,this.pendingRequests=0,this.overlayRequests=0}return t.prototype.intercept=function(t,e){var n=this,i=t.clone();return t=this.requestCloneWithoutHeaderParam(["X-Totvs-No-Count-Pending-Requests","X-Totvs-Screen-Lock"],t),this.setCountPendingRequests(!0,i),this.setCountOverlayRequests(!0,i),e.handle(t).pipe(c.tap(function(t){t instanceof o.HttpResponse&&(n.setCountPendingRequests(!1,i),n.setCountOverlayRequests(!1,i))}),c.catchError(function(t){return n.setCountPendingRequests(!1,i),n.setCountOverlayRequests(!1,i),s.throwError(t)}))},t.prototype.getCountPendingRequests=function(){return this.controlHttpRequest.getControlHttpRequest()},t.prototype.buildLoading=function(){this.loadingOverlayComponent||(this.loadingOverlayComponent=this.thfComponentInjector.createComponentInApplication(Gt),this.loadingOverlayComponent.instance.screenLock=!0,this.loadingOverlayComponent.instance.changeDetector.detectChanges())},t.prototype.destroyLoading=function(){this.loadingOverlayComponent&&(this.thfComponentInjector.destroyComponentInApplication(this.loadingOverlayComponent),this.loadingOverlayComponent=void 0)},t.prototype.requestCloneWithoutHeaderParam=function(t,e){var n=!1;return t.forEach(function(t){e.headers.has(t)&&(e.headers.delete(t),n=!0)}),n?e.clone({headers:e.headers}):e},t.prototype.setCountPendingRequests=function(t,e){var n=e.headers.has("X-Totvs-No-Count-Pending-Requests"),i=e.headers.get("X-Totvs-No-Count-Pending-Requests");n&&"true"===i.toString().toLowerCase()||(this.pendingRequests+=t?1:-1,this.controlHttpRequest.send(this.pendingRequests))},t.prototype.setCountOverlayRequests=function(t,e){if(e.headers.has("X-Totvs-Screen-Lock")){if("false"===e.headers.get("X-Totvs-Screen-Lock").toString().toLowerCase())return;this.overlayRequests+=t?1:-1,this.overlayRequests>0?this.buildLoading():this.destroyLoading()}},t.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[{type:Ns},{type:Sn}]},t.ngInjectableDef=e.defineInjectable({factory:function(){return new t(e.inject(Ns),e.inject(Sn))},token:t,providedIn:"root"}),t}(),qs=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{providers:[Ns,zs,Sn,{provide:o.HTTP_INTERCEPTORS,useClass:zs,multi:!0}],entryComponents:[Gt,Zt]}]}],t}(),Bs=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{declarations:[],imports:[js,qs],exports:[js,qs],providers:[],bootstrap:[]}]}],t}(),Hs=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{declarations:[],imports:[fe],exports:[fe],providers:[],bootstrap:[]}]}],t}(),Ws=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{providers:[Ce],bootstrap:[]}]}],t}(),$s=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{declarations:[],imports:[],exports:[],providers:[Sn],bootstrap:[]}]}],t}(),Us=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{declarations:[],imports:[],exports:[],providers:[se],bootstrap:[]}]}],t}(),Ys=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{providers:[lt],bootstrap:[]}]}],t}(),Ks=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{declarations:[ks],imports:[oe],exports:[ks],entryComponents:[ks],providers:[_s]}]}],t}(),Gs=function(){function t(){}return t.prototype.transform=function(t,e){if(!t)return"";e instanceof Array||(e=[e]);for(var n=0,i=e;n<i.length;n++){var o=i[n];t=t.replace(/(\{\w*\})+/,o)}return t},t}(),Xs=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Js=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Xs(n,t),n.decorators=[{type:e.Pipe,args:[{name:"thfI18n"}]}],n}(Gs),Zs=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{declarations:[xs],imports:[n.CommonModule],exports:[],entryComponents:[xs],providers:[],bootstrap:[]}]}],t}(),Qs=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{declarations:[Js],imports:[Ws,$s,Us,Ys,Ks,Zs],exports:[Ws,$s,Us,Ys,Ks,Js,Zs],providers:[],bootstrap:[]}]}],t}(),ta=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{declarations:[],imports:[ms,ys,bs,Bs,Hs,Qs],exports:[ms,ys,Bs,bs,Hs,Qs],providers:[Rs],bootstrap:[]}]}],t}(),ea=new e.InjectionToken("I18N_CONFIG"),na=function(){function t(t,e){this.config=t,this.http=e,this.varI18n={},this.useCache=!1,this.servicesContext={},this.setConfig(t)}return t.prototype.setConfig=function(t){if(t.default&&(t.default.language?this.languageDefault=t.default.language.toLowerCase():this.languageDefault=navigator.language.toLowerCase(),this.contextDefault=t.default.context?t.default.context:"",this.useCache=!!t.default.cache&&t.default.cache),t.contexts&&(this.setVarI18n(t.contexts),!this.contextDefault))for(var e in t.contexts)if(this.config.contexts.hasOwnProperty(e)){this.contextDefault=e;break}},t.prototype.getLiterals=function(t){var e=this;void 0===t&&(t={});var n=t.language?t.language.toLowerCase():this.languageDefault.toLowerCase(),i=t.context?t.context:this.contextDefault,o=t.literals?t.literals:[];return new s.Observable(function(t){e.servicesContext[i]?e.getLiteralsFromContextService(n,i,o,t):e.getLiteralsFromContextConstant(n,i,o,t)})},t.prototype.getLiteralsFromContextService=function(t,e,n,i,o,r){void 0===o&&(o={}),void 0===r&&(r=null);var s=r||t;o=this.mergeObject(o,this.searchInVarI18n(s,e,n)),this.countObject(o)>0&&i.next(o),n.length>0?n.length>this.countObject(o)&&this.getLiteralsLocalStorageAndCache(s,e,n,i,o,r):this.getLiteralsLocalStorageAndCache(s,e,n,i,o,r)},t.prototype.getLiteralsLocalStorageAndCache=function(t,e,n,i,o,r){var s=this;void 0===r&&(r=null);var a,l=r||t;this.useCache&&(a=this.searchInLocalStorage(l,e,n),this.countObject(a)>0&&(this.updateVarI18n(t,e,a),o=this.mergeObject(o,a),i.next(o))),this.getHttpService(this.servicesContext[e],l,n).subscribe(function(l){l&&(s.updateLocalStorage(t,e,l),s.updateVarI18n(t,e,l),a=s.searchInVarI18n(t,e,n),o=s.mergeObject(o,a),i.next(o)),n.length>s.countObject(o)&&("pt-br"===r?(o=s.completeFaultLiterals(t,e,n,o),s.updateLocalStorage(t,e,o),s.updateVarI18n(t,e,o),i.next(o)):s.getLiteralsFromContextService(t,e,n,i,o,"pt-br"))})},t.prototype.getLiteralsFromContextConstant=function(t,e,n,i,o){void 0===o&&(o={}),o=this.mergeObject(o,this.searchInVarI18n(t,e,n)),this.countObject(o)>0&&i.next(o),n.length>0?n.length>this.countObject(o)&&("pt-br"===t?(o=this.completeFaultLiterals(t,e,n,o),i.next(o)):this.getLiteralsFromContextConstant("pt-br",e,n,i,o)):(0===this.countObject(o)&&"pt-br"!==t&&this.getLiteralsFromContextConstant("pt-br",e,n,i,o),i.next(o),i.complete())},t.prototype.searchInLocalStorage=function(t,e,n){var i={};if(n.length>0)for(var o=0;o<n.length;o++){var r=n[o],s=localStorage.getItem(t+"-"+e+"-"+r);s&&(i[r]=s)}return i},t.prototype.searchInVarI18n=function(t,e,n){var i={};if(this.varI18n[t]&&this.varI18n[t][e]){var o=this.varI18n[t][e];if(n.length>0)for(var r=0;r<n.length;r++){var s=n[r];o.hasOwnProperty(s)&&(i[s]=o[s])}else i=o}return i},t.prototype.updateLocalStorage=function(t,e,n){if(this.useCache)for(var i in n)n.hasOwnProperty(i)&&localStorage.setItem(t+"-"+e+"-"+i,n[i])},t.prototype.setVarI18n=function(t){for(var e in t)if(t.hasOwnProperty(e)){var n=t[e];for(var i in n)if(n.hasOwnProperty(i)){var o=n[i];"url"===i?this.servicesContext[e]=o:this.updateVarI18n(i,e,o)}}},t.prototype.updateVarI18n=function(t,e,n){var i;t=t.toLowerCase(),this.varI18n[t]||(this.varI18n[t]=((i={})[e]={},i)),this.varI18n[t][e]||(this.varI18n[t][e]={}),this.varI18n[t][e]=this.mergeObject(n,this.varI18n[t][e])},t.prototype.getHttpService=function(t,e,n){var i="?language="+e;return n.length>0&&(i+="&literals="+n.join()),t=t.lastIndexOf("/")===t.length-1?t.substr(0,t.length-1):t,this.http.get(t+i)},t.prototype.completeFaultLiterals=function(t,e,n,i){for(var o=0;o<n.length;o++){var r=n[o];i[r]||(i[r]=r)}return i},t.prototype.countObject=function(t){return Object.keys(t).length},t.prototype.mergeObject=function(t,e){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},t.ctorParameters=function(){return[{type:void 0,decorators:[{type:e.Inject,args:[ea]}]},{type:o.HttpClient,decorators:[{type:e.Inject,args:[o.HttpClient]}]}]},t}(),ia=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),oa=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return ia(n,t),n.decorators=[{type:e.Injectable}],n}(na);function ra(t,e){return new oa(t,e)}var sa=function(){function t(){}return t.config=function(e){return{ngModule:t,providers:[{provide:ea,useValue:e},{provide:oa,useFactory:ra,deps:[ea,o.HttpClient]}]}},t.decorators=[{type:e.NgModule,args:[{}]}],t}();t.ThfModule=ta,t.ThfComponentsModule=ms,t.ThfAvatarComponent=g,t.ThfAvatarModule=m,t.ThfBreadcrumbComponent=v,t.ThfBreadcrumbModule=k,t.ThfButtonGroupToggle=Z,t.ThfButtonGroupComponent=nt,t.ThfButtonGroupModule=it,t.ThfButtonComponent=X,t.ThfButtonModule=J,t.ThfCalendarComponent=ut,t.ThfCalendarModule=pt,t.ThfChartType=ht,t.ThfChartComponent=Ot,t.ThfChartModule=kt,t.ThfContainerComponent=Pt,t.ThfContainerModule=Et,t.ThfDisclaimerGroupComponent=jt,t.ThfDisclaimerGroupModule=zt,t.ThfDisclaimerModule=Tt,t.ThfDividerComponent=Ht,t.ThfDividerModule=Wt,t.ThfDropdownComponent=$t,t.ThfDropdownModule=Ut,t.ThfDynamicFieldType=Qi,t.ThfDynamicFormComponent=Xi,t.ThfDynamicViewComponent=ao,t.ThfDynamicModule=lo,t.ThfCheckboxGroupComponent=$e,t.ThfComboFilterMode=Ge,t.ThfComboComponent=en,t.ThfDatepickerComponent=ln,t.ThfDatepickerRangeComponent=fn,t.ThfDecimalComponent=vn,t.ThfEmailComponent=On,t.ThfInputComponent=Kn,t.ThfLoginComponent=Pn,t.ThfLookupComponent=Fn,t.ThfMultiselectFilterMode=zn,t.ThfMultiselectComponent=$n,t.ThfNumberComponent=Zn,t.ThfPasswordComponent=ti,t.ThfRadioGroupComponent=oi,t.ThfSelectOptionTemplateDirective=si,t.ThfSelectComponent=ci,t.ThfSwitchLabelPosition=ui,t.ThfSwitchComponent=di,t.ThfTextareaComponent=mi,t.ThfUploadComponent=_i,t.ThfUrlComponent=Ei,t.ThfFieldModule=Si,t.ThfGridComponent=po,t.ThfGridModule=fo,t.ThfInfoOrientation=Mi,t.ThfInfoComponent=Ri,t.ThfInfoModule=Li,t.ThfListViewContentTemplateDirective=Oo,t.ThfListViewDetailTemplateDirective=ko,t.ThfListViewComponent=_o,t.ThfListViewModule=Po,t.ThfListItemContentComponent=bo,t.ThfListItemDetailComponent=yo,t.ThfListItemComponent=mo,t.ThfListComponent=go,t.ThfListModule=vo,t.ThfLoadingOverlayComponent=Gt,t.ThfLoadingModule=Qt,t.ThfMenuPanelComponent=Wo,t.ThfMenuPanelModule=Uo,t.ThfMenuComponent=Fo,t.ThfMenuModule=zo,t.ThfModalComponent=ie,t.ThfModalModule=oe,t.ThfPageDefaultComponent=er,t.ThfPageDetailComponent=lr,t.ThfPageEditComponent=dr,t.ThfPageListComponent=Ir,t.ThfPageModule=Or,t.ThfPopoverComponent=Sr,t.ThfPopoverModule=Mr,t.ThfPopupComponent=pe,t.ThfPopupModule=he,t.ThfSlideComponent=Fr,t.ThfSlideModule=Nr,t.ThfStepperStatus=zr,t.ThfStepperComponent=$r,t.ThfStepperModule=Ur,t.ThfTableRowTemplateDirective=Pe,t.ThfTableComponent=Se,t.ThfTableModule=Re,t.ThfTabComponent=Xr,t.ThfTabsComponent=es,t.ThfTabsModule=ns,t.ThfTagOrientation=zi,t.ThfTagType=qi,t.ThfTagComponent=Ui,t.ThfTagModule=Yi,t.ThfToolbarComponent=as,t.ThfToolbarModule=ps,t.ThfWidgetComponent=fs,t.ThfWidgetModule=gs,t.ThfDirectivesModule=ys,t.ThfTooltipDirective=ye,t.ThfTooltipModule=be,t.ThfGuardsModule=bs,t.ThfInterceptorsModule=Bs,t.ThfHttpInterceptorService=Fs,t.ThfHttpInterceptorModule=js,t.ThfHttpRequestInterceptorService=zs,t.ThfHttpRequestModule=qs,t.ThfPipesModule=Hs,t.ThfTimePipe=de,t.ThfTimeModule=fe,t.ThfServicesModule=Qs,t.ThfDialogType=vs,t.ThfDialogService=_s,t.ThfDialogModule=Ks,t.ThfI18nPipe=Js,t.returnThfI18nService=ra,t.ThfI18nService=oa,t.ThfI18nModule=sa,t.ThfNotificationService=Rs,t.ThfToasterOrientation=Ps,t.ThfToasterType=Es,t.ThfNotificationModule=Zs,Object.defineProperty(t,"__esModule",{value:!0})});